import{a as at}from"./axios-2QEPeKqa.js";import{d as j,o as M,c as C,a as f,u as Ws,x as Un,r as I,l as ce,g as le,q as De,w as ge,h as Y,p as Os,v as Rs,F as tt,j as T,N as te,m as oe,y as ni,z as ri,_ as zn,A as xt,B as Bt,C as ut,D as $s,f as ss,E as Hn,G as ii,H as ai,I as Ot,J as oi,K as li,L as ui,M as ci,b as Vn,s as jn,O as Rt,t as me,P as $t,Q as vn,R as di,n as ps,S as _n}from"./index-KQ-NoEBY.js";const hi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},fi=f("g",{fill:"none"},[f("path",{d:"M10.5 2.75a.75.75 0 0 0-1.5 0V9H2.75a.75.75 0 0 0 0 1.5H9v6.25a.75.75 0 0 0 1.5 0V10.5h6.25a.75.75 0 0 0 0-1.5H10.5V2.75z",fill:"currentColor"})],-1),mi=[fi],Jt=j({name:"Add20Filled",render:function(t,s){return M(),C("svg",hi,mi)}}),pi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},gi=f("g",{fill:"none"},[f("path",{d:"M5 16C5 9.925 9.925 5 16 5c2.923 0 5.58 1.14 7.55 3h-2.3a1.25 1.25 0 1 0 0 2.5h4.5c.69 0 1.25-.56 1.25-1.25v-4.5a1.25 1.25 0 1 0-2.5 0v.761A13.444 13.444 0 0 0 16 2.5C8.544 2.5 2.5 8.544 2.5 16S8.544 29.5 16 29.5S29.5 23.456 29.5 16c0-.28-.009-.558-.025-.833c-.041-.673-.621-1.167-1.296-1.167c-.708 0-1.239.643-1.198 1.35c.013.215.019.432.019.65c0 6.075-4.925 11-11 11S5 22.075 5 16z",fill:"currentColor"})],-1),vi=[gi],_i=j({name:"ArrowClockwise32Filled",render:function(t,s){return M(),C("svg",pi,vi)}}),yi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},wi=f("g",{fill:"none"},[f("path",{d:"M7.032 13.907l-3.471-3.905a.75.75 0 0 0-1.122.996l4 4.5a.75.75 0 0 0 1.091.032l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.938 9.937z",fill:"currentColor"})],-1),ki=[wi],Bn=j({name:"Checkmark20Filled",render:function(t,s){return M(),C("svg",yi,ki)}}),Si={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Mi=f("g",{fill:"none"},[f("path",{d:"M20 4.746a2.75 2.75 0 0 0-2.75-2.75H4.75A2.75 2.75 0 0 0 2 4.746v12.5a2.75 2.75 0 0 0 2.75 2.75h6.666l.105-.42c.096-.384.253-.748.463-1.08H4.75c-.69 0-1.25-.56-1.25-1.25v-12.5c0-.69.56-1.25 1.25-1.25h12.5c.69 0 1.25.56 1.25 1.25v7.113c.437-.4.956-.66 1.5-.781V4.746zm-4 9.608V6.73l-.007-.1A.744.744 0 0 0 15.25 6a.74.74 0 0 0-.75.73v8.541l.007.099c.017.125.067.24.142.337L16 14.355zm-8.507-5.71A.75.75 0 0 0 6.75 8a.748.748 0 0 0-.75.747v6.507l.007.101c.05.365.363.645.743.645c.414 0 .75-.334.75-.746V8.746l-.007-.101zm4.214 2.973a.73.73 0 0 0-.732-.62a.73.73 0 0 0-.725.733l.035 3.547l.008.099a.731.731 0 0 0 .732.62a.73.73 0 0 0 .725-.733l-.035-3.548l-.008-.098zm7.393 1.052l-5.903 5.902a2.686 2.686 0 0 0-.706 1.248l-.458 1.83a1.087 1.087 0 0 0 1.319 1.319l1.83-.458a2.685 2.685 0 0 0 1.248-.706l5.902-5.903A2.286 2.286 0 0 0 19.1 12.67z",fill:"currentColor"})],-1),xi=[Mi],bi=j({name:"DataUsageEdit24Regular",render:function(t,s){return M(),C("svg",Si,xi)}}),Oi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},Di=f("g",{fill:"none"},[f("path",{d:"M24 7.25a5.75 5.75 0 0 1 5.746 5.53l.004.22H37a1.25 1.25 0 0 1 .128 2.493L37 15.5h-1.091l-1.703 22.57A4.25 4.25 0 0 1 29.968 42H18.032a4.25 4.25 0 0 1-4.238-3.93L12.09 15.5H11a1.25 1.25 0 0 1-1.244-1.122l-.006-.128c0-.647.492-1.18 1.122-1.243L11 13h7.25A5.75 5.75 0 0 1 24 7.25zm9.402 8.25H14.598l1.69 22.382a1.75 1.75 0 0 0 1.744 1.618h11.936a1.75 1.75 0 0 0 1.745-1.618l1.69-22.382zm-6.152 5.25c.647 0 1.18.492 1.244 1.122L28.5 22v11a1.25 1.25 0 0 1-2.494.128L26 33V22c0-.69.56-1.25 1.25-1.25zm-6.5 0c.647 0 1.18.492 1.244 1.122L22 22v11a1.25 1.25 0 0 1-2.494.128L19.5 33V22c0-.69.56-1.25 1.25-1.25zm3.25-11a3.25 3.25 0 0 0-3.245 3.066L20.75 13h6.5A3.25 3.25 0 0 0 24 9.75z",fill:"currentColor"})],-1),Ti=[Di],Ci=j({name:"Delete48Regular",render:function(t,s){return M(),C("svg",Oi,Ti)}}),Yi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Pi=f("g",{fill:"none"},[f("path",{d:"M12.244 13.149H7.759l2.242-6.405l2.243 6.405zm.7 2l.327.935l1.57-1.57l-3.764-10.751c-.357-1.017-1.795-1.017-2.15 0L4.056 17.67a1 1 0 1 0 1.887.661l1.115-3.182h5.885zm.254 2.423L19.1 11.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Li=[Pi],Ai=j({name:"DrawText24Filled",render:function(t,s){return M(),C("svg",Yi,Li)}}),Ni={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ii=f("g",{fill:"none"},[f("path",{d:"M2.854 2.146a.5.5 0 1 0-.707.708l5.53 5.53l-4.038 4.04l-.117.127a2 2 0 0 0-.398.76l-1.106 4.055l-.015.08a.5.5 0 0 0 .63.534l4.054-1.106l.165-.053a2 2 0 0 0 .723-.462l4.038-4.039l5.534 5.534a.5.5 0 0 0 .707-.708l-15-15zm8.052 9.467l-4.038 4.039l-.098.086l-.107.072a1 1 0 0 1-.24.1l-3.21.875l.876-3.21l.042-.124a1 1 0 0 1 .215-.32l4.039-4.039l2.521 2.521zm4-4L12.32 10.2l.708.707l4.153-4.153l.13-.14a2.783 2.783 0 0 0-4.066-3.796L9.092 6.971l.707.707l2.586-2.586l2.52 2.521zm1.568-4.089l.11.12c.584.7.547 1.744-.11 2.402l-.861.86l-2.521-2.52l.86-.862l.12-.11a1.783 1.783 0 0 1 2.402.11z",fill:"currentColor"})],-1),Ei=[Ii],Wi=j({name:"EditOff20Regular",render:function(t,s){return M(),C("svg",Ni,Ei)}}),Ri={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$i=f("g",{fill:"none"},[f("path",{d:"M18 3a1 1 0 0 1 .993.883L19 4v16a1 1 0 0 1-1.993.117L17 20v-5h-1a1 1 0 0 1-.993-.883L15 14V8c0-2.21 1.5-5 3-5zm-6 0a1 1 0 0 1 .993.883L13 4v5a4.002 4.002 0 0 1-3 3.874V20a1 1 0 0 1-1.993.117L8 20v-7.126a4.002 4.002 0 0 1-2.995-3.668L5 9V4a1 1 0 0 1 1.993-.117L7 4v5a2 2 0 0 0 1 1.732V4a1 1 0 0 1 1.993-.117L10 4l.001 6.732a2 2 0 0 0 .992-1.563L11 9V4a1 1 0 0 1 1-1z",fill:"currentColor"})],-1),Fi=[$i],Zn=j({name:"Food24Filled",render:function(t,s){return M(),C("svg",Ri,Fi)}}),Ui={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},zi=f("g",{fill:"none"},[f("path",{d:"M19.75 2A2.25 2.25 0 0 1 22 4.25v5.462a3.25 3.25 0 0 1-.952 2.298l-.026.026a6.5 6.5 0 0 0-9.028 8.92a3.256 3.256 0 0 1-4.043-.442L3.489 16.06a3.25 3.25 0 0 1-.004-4.596l8.5-8.51a3.25 3.25 0 0 1 2.3-.953h5.465zM17 5.502a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0-3zM23 17.5a5.5 5.5 0 1 0-11 0a5.5 5.5 0 0 0 11 0zm-6.125 3.005a.625.625 0 1 1 1.25 0a.625.625 0 0 1-1.25 0zm-1.229-4.548c-.01-1.137.806-1.954 1.854-1.954c1.03 0 1.853.846 1.853 1.95c0 .566-.185.913-.663 1.447l-.266.29l-.1.116c-.248.292-.324.462-.324.695a.5.5 0 0 1-1 0c0-.576.187-.926.67-1.468l.266-.29l.1-.113c.242-.286.317-.453.317-.677c0-.558-.38-.95-.853-.95c-.494 0-.86.366-.854.945a.5.5 0 0 1-1 .01z",fill:"currentColor"})],-1),Hi=[zi],Gn=j({name:"TagQuestionMark24Filled",render:function(t,s){return M(),C("svg",Ui,Hi)}}),Vi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384 512"},ji=f("path",{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z",fill:"currentColor"},null,-1),Bi=[ji],Zi=j({name:"FileAltRegular",render:function(t,s){return M(),C("svg",Vi,Bi)}}),Gi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 640 512"},qi=f("path",{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64l-38.06-38.06L320 91.18z",fill:"currentColor"},null,-1),Ji=[qi],qn=j({name:"Mountain",render:function(t,s){return M(),C("svg",Gi,Ji)}}),Ki={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qi=f("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8zm.5-13H11v6l5.25 3.15l.75-1.23l-4.5-2.67z",fill:"currentColor"},null,-1),Xi=[Qi],ea=j({name:"AccessTimeOutlined",render:function(t,s){return M(),C("svg",Ki,Xi)}}),ta={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},sa=f("path",{d:"M20 1v3h3v2h-3v3h-2V6h-3V4h3V1h2zm-8 12c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zm1-9.94v2.02A6.53 6.53 0 0 0 12 5c-3.35 0-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.79 6-9.14V11h2v.2c0 3.32-2.67 7.25-8 11.8c-5.33-4.55-8-8.48-8-11.8C4 6.22 7.8 3 12 3c.34 0 .67.02 1 .06z",fill:"currentColor"},null,-1),na=[sa],ra=j({name:"AddLocationAltOutlined",render:function(t,s){return M(),C("svg",ta,na)}}),ia={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},aa=f("path",{d:"M17 11v6.97l-5-2.14l-5 2.14V5h6V3H7c-1.1 0-2 .9-2 2v16l7-3l7 3V11h-2zm4-4h-2v2h-2V7h-2V5h2V3h2v2h2v2z",fill:"currentColor"},null,-1),oa=[aa],la=j({name:"BookmarkAddOutlined",render:function(t,s){return M(),C("svg",ia,oa)}}),ua={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ca=f("path",{opacity:".3",d:"M5 5h14v2H5z",fill:"currentColor"},null,-1),da=f("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zm0-12H5V5h14v2zM7 11h10v2H7zm0 4h7v2H7z",fill:"currentColor"},null,-1),ha=[ca,da],Jn=j({name:"EventNoteTwotone",render:function(t,s){return M(),C("svg",ua,ha)}}),fa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ma=f("path",{d:"M7 9H2V7h5v2zm0 3H2v2h5v-2zm13.59 7l-3.83-3.83c-.8.52-1.74.83-2.76.83c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L22 17.59L20.59 19zM17 11c0-1.65-1.35-3-3-3s-3 1.35-3 3s1.35 3 3 3s3-1.35 3-3zM2 19h10v-2H2v2z",fill:"currentColor"},null,-1),pa=[ma],ga=j({name:"ManageSearchOutlined",render:function(t,s){return M(),C("svg",fa,pa)}}),va={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_a=f("path",{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14H4V7h4.05l1.83-2h4.24l1.83 2H20v12z",fill:"currentColor"},null,-1),ya=f("circle",{cx:"12",cy:"11",r:"2",fill:"currentColor"},null,-1),wa=f("path",{d:"M14.78 14.58a6.95 6.95 0 0 0-5.56 0A2.01 2.01 0 0 0 8 16.43V17h8v-.57c0-.81-.48-1.53-1.22-1.85z",fill:"currentColor"},null,-1),ka=[_a,ya,wa],Sa=j({name:"PhotoCameraFrontOutlined",render:function(t,s){return M(),C("svg",va,ka)}}),Ma={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},xa=f("path",{d:"M12 12c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zm6-1.8C18 6.57 15.35 4 12 4s-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.8 6-9.14zM12 2c4.2 0 8 3.22 8 8.2c0 3.32-2.67 7.25-8 11.8c-5.33-4.55-8-8.48-8-11.8C4 5.22 7.8 2 12 2z",fill:"currentColor"},null,-1),ba=[xa],Oa=j({name:"PlaceOutlined",render:function(t,s){return M(),C("svg",Ma,ba)}});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Kn;function _(){return Kn.apply(null,arguments)}function Da(e){Kn=e}function Se(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function et(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fs(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(U(e,t))return!1;return!0}function ue(e){return e===void 0}function $e(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function At(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Qn(e,t){var s=[],n,r=e.length;for(n=0;n<r;++n)s.push(t(e[n],n));return s}function Be(e,t){for(var s in t)U(t,s)&&(e[s]=t[s]);return U(t,"toString")&&(e.toString=t.toString),U(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ye(e,t,s,n){return kr(e,t,s,n,!0).utc()}function Ta(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function P(e){return e._pf==null&&(e._pf=Ta()),e._pf}var Ds;Array.prototype.some?Ds=Array.prototype.some:Ds=function(e){var t=Object(this),s=t.length>>>0,n;for(n=0;n<s;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Us(e){var t=null,s=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=P(e),s=Ds.call(t.parsedDateParts,function(r){return r!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function ns(e){var t=Ye(NaN);return e!=null?Be(P(t),e):P(t).userInvalidated=!0,t}var yn=_.momentProperties=[],gs=!1;function zs(e,t){var s,n,r,i=yn.length;if(ue(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ue(t._i)||(e._i=t._i),ue(t._f)||(e._f=t._f),ue(t._l)||(e._l=t._l),ue(t._strict)||(e._strict=t._strict),ue(t._tzm)||(e._tzm=t._tzm),ue(t._isUTC)||(e._isUTC=t._isUTC),ue(t._offset)||(e._offset=t._offset),ue(t._pf)||(e._pf=P(t)),ue(t._locale)||(e._locale=t._locale),i>0)for(s=0;s<i;s++)n=yn[s],r=t[n],ue(r)||(e[n]=r);return e}function Nt(e){zs(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),gs===!1&&(gs=!0,_.updateOffset(this),gs=!1)}function Me(e){return e instanceof Nt||e!=null&&e._isAMomentObject!=null}function Xn(e){_.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ve(e,t){var s=!0;return Be(function(){if(_.deprecationHandler!=null&&_.deprecationHandler(null,e),s){var n=[],r,i,a,l=arguments.length;for(i=0;i<l;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(a in arguments[0])U(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[i];n.push(r)}Xn(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var wn={};function er(e,t){_.deprecationHandler!=null&&_.deprecationHandler(e,t),wn[e]||(Xn(t),wn[e]=!0)}_.suppressDeprecationWarnings=!1;_.deprecationHandler=null;function Pe(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Ca(e){var t,s;for(s in e)U(e,s)&&(t=e[s],Pe(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ts(e,t){var s=Be({},e),n;for(n in t)U(t,n)&&(et(e[n])&&et(t[n])?(s[n]={},Be(s[n],e[n]),Be(s[n],t[n])):t[n]!=null?s[n]=t[n]:delete s[n]);for(n in e)U(e,n)&&!U(t,n)&&et(e[n])&&(s[n]=Be({},s[n]));return s}function Hs(e){e!=null&&this.set(e)}var Cs;Object.keys?Cs=Object.keys:Cs=function(e){var t,s=[];for(t in e)U(e,t)&&s.push(t);return s};var Ya={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Pa(e,t,s){var n=this._calendar[e]||this._calendar.sameElse;return Pe(n)?n.call(t,s):n}function Ce(e,t,s){var n=""+Math.abs(e),r=t-n.length,i=e>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var Vs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vs={},ct={};function D(e,t,s,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),e&&(ct[e]=r),t&&(ct[t[0]]=function(){return Ce(r.apply(this,arguments),t[1],t[2])}),s&&(ct[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function La(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Aa(e){var t=e.match(Vs),s,n;for(s=0,n=t.length;s<n;s++)ct[t[s]]?t[s]=ct[t[s]]:t[s]=La(t[s]);return function(r){var i="",a;for(a=0;a<n;a++)i+=Pe(t[a])?t[a].call(r,e):t[a];return i}}function Zt(e,t){return e.isValid()?(t=tr(t,e.localeData()),vs[t]=vs[t]||Aa(t),vs[t](e)):e.localeData().invalidDate()}function tr(e,t){var s=5;function n(r){return t.longDateFormat(r)||r}for(Ft.lastIndex=0;s>=0&&Ft.test(e);)e=e.replace(Ft,n),Ft.lastIndex=0,s-=1;return e}var Na={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ia(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(Vs).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var Ea="Invalid date";function Wa(){return this._invalidDate}var Ra="%d",$a=/\d{1,2}/;function Fa(e){return this._ordinal.replace("%d",e)}var Ua={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function za(e,t,s,n){var r=this._relativeTime[s];return Pe(r)?r(e,t,s,n):r.replace(/%d/i,e)}function Ha(e,t){var s=this._relativeTime[e>0?"future":"past"];return Pe(s)?s(t):s.replace(/%s/i,t)}var kn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function _e(e){return typeof e=="string"?kn[e]||kn[e.toLowerCase()]:void 0}function js(e){var t={},s,n;for(n in e)U(e,n)&&(s=_e(n),s&&(t[s]=e[n]));return t}var Va={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ja(e){var t=[],s;for(s in e)U(e,s)&&t.push({unit:s,priority:Va[s]});return t.sort(function(n,r){return n.priority-r.priority}),t}var sr=/\d/,he=/\d\d/,nr=/\d{3}/,Bs=/\d{4}/,rs=/[+-]?\d{6}/,B=/\d\d?/,rr=/\d\d\d\d?/,ir=/\d\d\d\d\d\d?/,is=/\d{1,3}/,Zs=/\d{1,4}/,as=/[+-]?\d{1,6}/,pt=/\d+/,os=/[+-]?\d+/,Ba=/Z|[+-]\d\d:?\d\d/gi,ls=/Z|[+-]\d\d(?::?\d\d)?/gi,Za=/[+-]?\d+(\.\d{1,3})?/,It=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,gt=/^[1-9]\d?/,Gs=/^([1-9]\d|\d)/,Kt;Kt={};function k(e,t,s){Kt[e]=Pe(t)?t:function(n,r){return n&&s?s:t}}function Ga(e,t){return U(Kt,e)?Kt[e](t._strict,t._locale):new RegExp(qa(e))}function qa(e){return We(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,n,r,i){return s||n||r||i}))}function We(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function N(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=pe(t)),s}var Ys={};function H(e,t){var s,n=t,r;for(typeof e=="string"&&(e=[e]),$e(t)&&(n=function(i,a){a[t]=N(i)}),r=e.length,s=0;s<r;s++)Ys[e[s]]=n}function Et(e,t){H(e,function(s,n,r,i){r._w=r._w||{},t(s,r._w,r,i)})}function Ja(e,t,s){t!=null&&U(Ys,e)&&Ys[e](t,s._a,s,e)}function us(e){return e%4===0&&e%100!==0||e%400===0}var ae=0,Ie=1,Te=2,se=3,ke=4,Ee=5,Xe=6,Ka=7,Qa=8;D("Y",0,0,function(){var e=this.year();return e<=9999?Ce(e,4):"+"+e});D(0,["YY",2],0,function(){return this.year()%100});D(0,["YYYY",4],0,"year");D(0,["YYYYY",5],0,"year");D(0,["YYYYYY",6,!0],0,"year");k("Y",os);k("YY",B,he);k("YYYY",Zs,Bs);k("YYYYY",as,rs);k("YYYYYY",as,rs);H(["YYYYY","YYYYYY"],ae);H("YYYY",function(e,t){t[ae]=e.length===2?_.parseTwoDigitYear(e):N(e)});H("YY",function(e,t){t[ae]=_.parseTwoDigitYear(e)});H("Y",function(e,t){t[ae]=parseInt(e,10)});function bt(e){return us(e)?366:365}_.parseTwoDigitYear=function(e){return N(e)+(N(e)>68?1900:2e3)};var ar=vt("FullYear",!0);function Xa(){return us(this.year())}function vt(e,t){return function(s){return s!=null?(or(this,e,s),_.updateOffset(this,t),this):Dt(this,e)}}function Dt(e,t){if(!e.isValid())return NaN;var s=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return n?s.getUTCSeconds():s.getSeconds();case"Minutes":return n?s.getUTCMinutes():s.getMinutes();case"Hours":return n?s.getUTCHours():s.getHours();case"Date":return n?s.getUTCDate():s.getDate();case"Day":return n?s.getUTCDay():s.getDay();case"Month":return n?s.getUTCMonth():s.getMonth();case"FullYear":return n?s.getUTCFullYear():s.getFullYear();default:return NaN}}function or(e,t,s){var n,r,i,a,l;if(!(!e.isValid()||isNaN(s))){switch(n=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?n.setUTCMilliseconds(s):n.setMilliseconds(s));case"Seconds":return void(r?n.setUTCSeconds(s):n.setSeconds(s));case"Minutes":return void(r?n.setUTCMinutes(s):n.setMinutes(s));case"Hours":return void(r?n.setUTCHours(s):n.setHours(s));case"Date":return void(r?n.setUTCDate(s):n.setDate(s));case"FullYear":break;default:return}i=s,a=e.month(),l=e.date(),l=l===29&&a===1&&!us(i)?28:l,r?n.setUTCFullYear(i,a,l):n.setFullYear(i,a,l)}}function eo(e){return e=_e(e),Pe(this[e])?this[e]():this}function to(e,t){if(typeof e=="object"){e=js(e);var s=ja(e),n,r=s.length;for(n=0;n<r;n++)this[s[n].unit](e[s[n].unit])}else if(e=_e(e),Pe(this[e]))return this[e](t);return this}function so(e,t){return(e%t+t)%t}var K;Array.prototype.indexOf?K=Array.prototype.indexOf:K=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function qs(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=so(t,12);return e+=(t-s)/12,s===1?us(e)?29:28:31-s%7%2}D("M",["MM",2],"Mo",function(){return this.month()+1});D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});D("MMMM",0,0,function(e){return this.localeData().months(this,e)});k("M",B,gt);k("MM",B,he);k("MMM",function(e,t){return t.monthsShortRegex(e)});k("MMMM",function(e,t){return t.monthsRegex(e)});H(["M","MM"],function(e,t){t[Ie]=N(e)-1});H(["MMM","MMMM"],function(e,t,s,n){var r=s._locale.monthsParse(e,n,s._strict);r!=null?t[Ie]=r:P(s).invalidMonth=e});var no="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ro=It,io=It;function ao(e,t){return e?Se(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ur).test(t)?"format":"standalone"][e.month()]:Se(this._months)?this._months:this._months.standalone}function oo(e,t){return e?Se(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ur.test(t)?"format":"standalone"][e.month()]:Se(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lo(e,t,s){var n,r,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=Ye([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return s?t==="MMM"?(r=K.call(this._shortMonthsParse,a),r!==-1?r:null):(r=K.call(this._longMonthsParse,a),r!==-1?r:null):t==="MMM"?(r=K.call(this._shortMonthsParse,a),r!==-1?r:(r=K.call(this._longMonthsParse,a),r!==-1?r:null)):(r=K.call(this._longMonthsParse,a),r!==-1?r:(r=K.call(this._shortMonthsParse,a),r!==-1?r:null))}function uo(e,t,s){var n,r,i;if(this._monthsParseExact)return lo.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=Ye([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(s&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!s&&this._monthsParse[n].test(e))return n}}function cr(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=N(t);else if(t=e.localeData().monthsParse(t),!$e(t))return e}var s=t,n=e.date();return n=n<29?n:Math.min(n,qs(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,n):e._d.setMonth(s,n),e}function dr(e){return e!=null?(cr(this,e),_.updateOffset(this,!0),this):Dt(this,"Month")}function co(){return qs(this.year(),this.month())}function ho(e){return this._monthsParseExact?(U(this,"_monthsRegex")||hr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(U(this,"_monthsShortRegex")||(this._monthsShortRegex=ro),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fo(e){return this._monthsParseExact?(U(this,"_monthsRegex")||hr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(U(this,"_monthsRegex")||(this._monthsRegex=io),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function hr(){function e(o,c){return c.length-o.length}var t=[],s=[],n=[],r,i,a,l;for(r=0;r<12;r++)i=Ye([2e3,r]),a=We(this.monthsShort(i,"")),l=We(this.months(i,"")),t.push(a),s.push(l),n.push(l),n.push(a);t.sort(e),s.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function mo(e,t,s,n,r,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,s,n,r,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,s,n,r,i,a),l}function Tt(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qt(e,t,s){var n=7+t-s,r=(7+Tt(e,0,n).getUTCDay()-t)%7;return-r+n-1}function fr(e,t,s,n,r){var i=(7+s-n)%7,a=Qt(e,n,r),l=1+7*(t-1)+i+a,o,c;return l<=0?(o=e-1,c=bt(o)+l):l>bt(e)?(o=e+1,c=l-bt(e)):(o=e,c=l),{year:o,dayOfYear:c}}function Ct(e,t,s){var n=Qt(e.year(),t,s),r=Math.floor((e.dayOfYear()-n-1)/7)+1,i,a;return r<1?(a=e.year()-1,i=r+Re(a,t,s)):r>Re(e.year(),t,s)?(i=r-Re(e.year(),t,s),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function Re(e,t,s){var n=Qt(e,t,s),r=Qt(e+1,t,s);return(bt(e)-n+r)/7}D("w",["ww",2],"wo","week");D("W",["WW",2],"Wo","isoWeek");k("w",B,gt);k("ww",B,he);k("W",B,gt);k("WW",B,he);Et(["w","ww","W","WW"],function(e,t,s,n){t[n.substr(0,1)]=N(e)});function po(e){return Ct(e,this._week.dow,this._week.doy).week}var go={dow:0,doy:6};function vo(){return this._week.dow}function _o(){return this._week.doy}function yo(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function wo(e){var t=Ct(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}D("d",0,"do","day");D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});D("e",0,0,"weekday");D("E",0,0,"isoWeekday");k("d",B);k("e",B);k("E",B);k("dd",function(e,t){return t.weekdaysMinRegex(e)});k("ddd",function(e,t){return t.weekdaysShortRegex(e)});k("dddd",function(e,t){return t.weekdaysRegex(e)});Et(["dd","ddd","dddd"],function(e,t,s,n){var r=s._locale.weekdaysParse(e,n,s._strict);r!=null?t.d=r:P(s).invalidWeekday=e});Et(["d","e","E"],function(e,t,s,n){t[n]=N(e)});function ko(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function So(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Js(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Mo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bo=It,Oo=It,Do=It;function To(e,t){var s=Se(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Js(s,this._week.dow):e?s[e.day()]:s}function Co(e){return e===!0?Js(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Yo(e){return e===!0?Js(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Po(e,t,s){var n,r,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=Ye([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return s?t==="dddd"?(r=K.call(this._weekdaysParse,a),r!==-1?r:null):t==="ddd"?(r=K.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=K.call(this._minWeekdaysParse,a),r!==-1?r:null):t==="dddd"?(r=K.call(this._weekdaysParse,a),r!==-1||(r=K.call(this._shortWeekdaysParse,a),r!==-1)?r:(r=K.call(this._minWeekdaysParse,a),r!==-1?r:null)):t==="ddd"?(r=K.call(this._shortWeekdaysParse,a),r!==-1||(r=K.call(this._weekdaysParse,a),r!==-1)?r:(r=K.call(this._minWeekdaysParse,a),r!==-1?r:null)):(r=K.call(this._minWeekdaysParse,a),r!==-1||(r=K.call(this._weekdaysParse,a),r!==-1)?r:(r=K.call(this._shortWeekdaysParse,a),r!==-1?r:null))}function Lo(e,t,s){var n,r,i;if(this._weekdaysParseExact)return Po.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=Ye([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(s&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(s&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!s&&this._weekdaysParse[n].test(e))return n}}function Ao(e){if(!this.isValid())return e!=null?this:NaN;var t=Dt(this,"Day");return e!=null?(e=ko(e,this.localeData()),this.add(e-t,"d")):t}function No(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Io(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=So(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Eo(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||Ks.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(U(this,"_weekdaysRegex")||(this._weekdaysRegex=bo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wo(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||Ks.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(U(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oo),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ro(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||Ks.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(U(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Do),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ks(){function e(h,u){return u.length-h.length}var t=[],s=[],n=[],r=[],i,a,l,o,c;for(i=0;i<7;i++)a=Ye([2e3,1]).day(i),l=We(this.weekdaysMin(a,"")),o=We(this.weekdaysShort(a,"")),c=We(this.weekdays(a,"")),t.push(l),s.push(o),n.push(c),r.push(l),r.push(o),r.push(c);t.sort(e),s.sort(e),n.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qs(){return this.hours()%12||12}function $o(){return this.hours()||24}D("H",["HH",2],0,"hour");D("h",["hh",2],0,Qs);D("k",["kk",2],0,$o);D("hmm",0,0,function(){return""+Qs.apply(this)+Ce(this.minutes(),2)});D("hmmss",0,0,function(){return""+Qs.apply(this)+Ce(this.minutes(),2)+Ce(this.seconds(),2)});D("Hmm",0,0,function(){return""+this.hours()+Ce(this.minutes(),2)});D("Hmmss",0,0,function(){return""+this.hours()+Ce(this.minutes(),2)+Ce(this.seconds(),2)});function pr(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}pr("a",!0);pr("A",!1);function gr(e,t){return t._meridiemParse}k("a",gr);k("A",gr);k("H",B,Gs);k("h",B,gt);k("k",B,gt);k("HH",B,he);k("hh",B,he);k("kk",B,he);k("hmm",rr);k("hmmss",ir);k("Hmm",rr);k("Hmmss",ir);H(["H","HH"],se);H(["k","kk"],function(e,t,s){var n=N(e);t[se]=n===24?0:n});H(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});H(["h","hh"],function(e,t,s){t[se]=N(e),P(s).bigHour=!0});H("hmm",function(e,t,s){var n=e.length-2;t[se]=N(e.substr(0,n)),t[ke]=N(e.substr(n)),P(s).bigHour=!0});H("hmmss",function(e,t,s){var n=e.length-4,r=e.length-2;t[se]=N(e.substr(0,n)),t[ke]=N(e.substr(n,2)),t[Ee]=N(e.substr(r)),P(s).bigHour=!0});H("Hmm",function(e,t,s){var n=e.length-2;t[se]=N(e.substr(0,n)),t[ke]=N(e.substr(n))});H("Hmmss",function(e,t,s){var n=e.length-4,r=e.length-2;t[se]=N(e.substr(0,n)),t[ke]=N(e.substr(n,2)),t[Ee]=N(e.substr(r))});function Fo(e){return(e+"").toLowerCase().charAt(0)==="p"}var Uo=/[ap]\.?m?\.?/i,zo=vt("Hours",!0);function Ho(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var vr={calendar:Ya,longDateFormat:Na,invalidDate:Ea,ordinal:Ra,dayOfMonthOrdinalParse:$a,relativeTime:Ua,months:no,monthsShort:lr,week:go,weekdays:Mo,weekdaysMin:xo,weekdaysShort:mr,meridiemParse:Uo},G={},_t={},Yt;function Vo(e,t){var s,n=Math.min(e.length,t.length);for(s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}function Sn(e){return e&&e.toLowerCase().replace("_","-")}function jo(e){for(var t=0,s,n,r,i;t<e.length;){for(i=Sn(e[t]).split("-"),s=i.length,n=Sn(e[t+1]),n=n?n.split("-"):null;s>0;){if(r=cs(i.slice(0,s).join("-")),r)return r;if(n&&n.length>=s&&Vo(i,n)>=s-1)break;s--}t++}return Yt}function Bo(e){return!!(e&&e.match("^[^/\\\\]*$"))}function cs(e){var t=null,s;if(G[e]===void 0&&typeof module<"u"&&module&&module.exports&&Bo(e))try{t=Yt._abbr,s=require,s("./locale/"+e),Ge(t)}catch{G[e]=null}return G[e]}function Ge(e,t){var s;return e&&(ue(t)?s=Fe(e):s=Xs(e,t),s?Yt=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Yt._abbr}function Xs(e,t){if(t!==null){var s,n=vr;if(t.abbr=e,G[e]!=null)er("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=G[e]._config;else if(t.parentLocale!=null)if(G[t.parentLocale]!=null)n=G[t.parentLocale]._config;else if(s=cs(t.parentLocale),s!=null)n=s._config;else return _t[t.parentLocale]||(_t[t.parentLocale]=[]),_t[t.parentLocale].push({name:e,config:t}),null;return G[e]=new Hs(Ts(n,t)),_t[e]&&_t[e].forEach(function(r){Xs(r.name,r.config)}),Ge(e),G[e]}else return delete G[e],null}function Zo(e,t){if(t!=null){var s,n,r=vr;G[e]!=null&&G[e].parentLocale!=null?G[e].set(Ts(G[e]._config,t)):(n=cs(e),n!=null&&(r=n._config),t=Ts(r,t),n==null&&(t.abbr=e),s=new Hs(t),s.parentLocale=G[e],G[e]=s),Ge(e)}else G[e]!=null&&(G[e].parentLocale!=null?(G[e]=G[e].parentLocale,e===Ge()&&Ge(e)):G[e]!=null&&delete G[e]);return G[e]}function Fe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Yt;if(!Se(e)){if(t=cs(e),t)return t;e=[e]}return jo(e)}function Go(){return Cs(G)}function en(e){var t,s=e._a;return s&&P(e).overflow===-2&&(t=s[Ie]<0||s[Ie]>11?Ie:s[Te]<1||s[Te]>qs(s[ae],s[Ie])?Te:s[se]<0||s[se]>24||s[se]===24&&(s[ke]!==0||s[Ee]!==0||s[Xe]!==0)?se:s[ke]<0||s[ke]>59?ke:s[Ee]<0||s[Ee]>59?Ee:s[Xe]<0||s[Xe]>999?Xe:-1,P(e)._overflowDayOfYear&&(t<ae||t>Te)&&(t=Te),P(e)._overflowWeeks&&t===-1&&(t=Ka),P(e)._overflowWeekday&&t===-1&&(t=Qa),P(e).overflow=t),e}var qo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ko=/Z|[+-]\d\d(?::?\d\d)?/,Ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_s=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Qo=/^\/?Date\((-?\d+)/i,Xo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,el={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _r(e){var t,s,n=e._i,r=qo.exec(n)||Jo.exec(n),i,a,l,o,c=Ut.length,h=_s.length;if(r){for(P(e).iso=!0,t=0,s=c;t<s;t++)if(Ut[t][1].exec(r[1])){a=Ut[t][0],i=Ut[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(r[3]){for(t=0,s=h;t<s;t++)if(_s[t][1].exec(r[3])){l=(r[2]||" ")+_s[t][0];break}if(l==null){e._isValid=!1;return}}if(!i&&l!=null){e._isValid=!1;return}if(r[4])if(Ko.exec(r[4]))o="Z";else{e._isValid=!1;return}e._f=a+(l||"")+(o||""),sn(e)}else e._isValid=!1}function tl(e,t,s,n,r,i){var a=[sl(e),lr.indexOf(t),parseInt(s,10),parseInt(n,10),parseInt(r,10)];return i&&a.push(parseInt(i,10)),a}function sl(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function nl(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rl(e,t,s){if(e){var n=mr.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(n!==r)return P(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function il(e,t,s){if(e)return el[e];if(t)return 0;var n=parseInt(s,10),r=n%100,i=(n-r)/100;return i*60+r}function yr(e){var t=Xo.exec(nl(e._i)),s;if(t){if(s=tl(t[4],t[3],t[2],t[5],t[6],t[7]),!rl(t[1],s,e))return;e._a=s,e._tzm=il(t[8],t[9],t[10]),e._d=Tt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),P(e).rfc2822=!0}else e._isValid=!1}function al(e){var t=Qo.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(_r(e),e._isValid===!1)delete e._isValid;else return;if(yr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:_.createFromInputFallback(e)}_.createFromInputFallback=ve("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function it(e,t,s){return e??t??s}function ol(e){var t=new Date(_.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function tn(e){var t,s,n=[],r,i,a;if(!e._d){for(r=ol(e),e._w&&e._a[Te]==null&&e._a[Ie]==null&&ll(e),e._dayOfYear!=null&&(a=it(e._a[ae],r[ae]),(e._dayOfYear>bt(a)||e._dayOfYear===0)&&(P(e)._overflowDayOfYear=!0),s=Tt(a,0,e._dayOfYear),e._a[Ie]=s.getUTCMonth(),e._a[Te]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=r[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[se]===24&&e._a[ke]===0&&e._a[Ee]===0&&e._a[Xe]===0&&(e._nextDay=!0,e._a[se]=0),e._d=(e._useUTC?Tt:mo).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[se]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(P(e).weekdayMismatch=!0)}}function ll(e){var t,s,n,r,i,a,l,o,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,a=4,s=it(t.GG,e._a[ae],Ct(V(),1,4).year),n=it(t.W,1),r=it(t.E,1),(r<1||r>7)&&(o=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,c=Ct(V(),i,a),s=it(t.gg,e._a[ae],c.year),n=it(t.w,c.week),t.d!=null?(r=t.d,(r<0||r>6)&&(o=!0)):t.e!=null?(r=t.e+i,(t.e<0||t.e>6)&&(o=!0)):r=i),n<1||n>Re(s,i,a)?P(e)._overflowWeeks=!0:o!=null?P(e)._overflowWeekday=!0:(l=fr(s,n,r,i,a),e._a[ae]=l.year,e._dayOfYear=l.dayOfYear)}_.ISO_8601=function(){};_.RFC_2822=function(){};function sn(e){if(e._f===_.ISO_8601){_r(e);return}if(e._f===_.RFC_2822){yr(e);return}e._a=[],P(e).empty=!0;var t=""+e._i,s,n,r,i,a,l=t.length,o=0,c,h;for(r=tr(e._f,e._locale).match(Vs)||[],h=r.length,s=0;s<h;s++)i=r[s],n=(t.match(Ga(i,e))||[])[0],n&&(a=t.substr(0,t.indexOf(n)),a.length>0&&P(e).unusedInput.push(a),t=t.slice(t.indexOf(n)+n.length),o+=n.length),ct[i]?(n?P(e).empty=!1:P(e).unusedTokens.push(i),Ja(i,n,e)):e._strict&&!n&&P(e).unusedTokens.push(i);P(e).charsLeftOver=l-o,t.length>0&&P(e).unusedInput.push(t),e._a[se]<=12&&P(e).bigHour===!0&&e._a[se]>0&&(P(e).bigHour=void 0),P(e).parsedDateParts=e._a.slice(0),P(e).meridiem=e._meridiem,e._a[se]=ul(e._locale,e._a[se],e._meridiem),c=P(e).era,c!==null&&(e._a[ae]=e._locale.erasConvertYear(c,e._a[ae])),tn(e),en(e)}function ul(e,t,s){var n;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(n=e.isPM(s),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function cl(e){var t,s,n,r,i,a,l=!1,o=e._f.length;if(o===0){P(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<o;r++)i=0,a=!1,t=zs({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],sn(t),Us(t)&&(a=!0),i+=P(t).charsLeftOver,i+=P(t).unusedTokens.length*10,P(t).score=i,l?i<n&&(n=i,s=t):(n==null||i<n||a)&&(n=i,s=t,a&&(l=!0));Be(e,s||t)}function dl(e){if(!e._d){var t=js(e._i),s=t.day===void 0?t.date:t.day;e._a=Qn([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),tn(e)}}function hl(e){var t=new Nt(en(wr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wr(e){var t=e._i,s=e._f;return e._locale=e._locale||Fe(e._l),t===null||s===void 0&&t===""?ns({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Me(t)?new Nt(en(t)):(At(t)?e._d=t:Se(s)?cl(e):s?sn(e):fl(e),Us(e)||(e._d=null),e))}function fl(e){var t=e._i;ue(t)?e._d=new Date(_.now()):At(t)?e._d=new Date(t.valueOf()):typeof t=="string"?al(e):Se(t)?(e._a=Qn(t.slice(0),function(s){return parseInt(s,10)}),tn(e)):et(t)?dl(e):$e(t)?e._d=new Date(t):_.createFromInputFallback(e)}function kr(e,t,s,n,r){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(s===!0||s===!1)&&(n=s,s=void 0),(et(e)&&Fs(e)||Se(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=s,i._i=e,i._f=t,i._strict=n,hl(i)}function V(e,t,s,n){return kr(e,t,s,n,!1)}var ml=ve("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=V.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ns()}),pl=ve("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=V.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ns()});function Sr(e,t){var s,n;if(t.length===1&&Se(t[0])&&(t=t[0]),!t.length)return V();for(s=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](s))&&(s=t[n]);return s}function gl(){var e=[].slice.call(arguments,0);return Sr("isBefore",e)}function vl(){var e=[].slice.call(arguments,0);return Sr("isAfter",e)}var _l=function(){return Date.now?Date.now():+new Date},yt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function yl(e){var t,s=!1,n,r=yt.length;for(t in e)if(U(e,t)&&!(K.call(yt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<r;++n)if(e[yt[n]]){if(s)return!1;parseFloat(e[yt[n]])!==N(e[yt[n]])&&(s=!0)}return!0}function wl(){return this._isValid}function kl(){return xe(NaN)}function ds(e){var t=js(e),s=t.year||0,n=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,o=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=yl(t),this._milliseconds=+h+c*1e3+o*6e4+l*1e3*60*60,this._days=+a+i*7,this._months=+r+n*3+s*12,this._data={},this._locale=Fe(),this._bubble()}function Gt(e){return e instanceof ds}function Ps(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Sl(e,t,s){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,a;for(a=0;a<n;a++)(s&&e[a]!==t[a]||!s&&N(e[a])!==N(t[a]))&&i++;return i+r}function Mr(e,t){D(e,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+Ce(~~(s/60),2)+t+Ce(~~s%60,2)})}Mr("Z",":");Mr("ZZ","");k("Z",ls);k("ZZ",ls);H(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=nn(ls,e)});var Ml=/([\+\-]|\d\d)/gi;function nn(e,t){var s=(t||"").match(e),n,r,i;return s===null?null:(n=s[s.length-1]||[],r=(n+"").match(Ml)||["-",0,0],i=+(r[1]*60)+N(r[2]),i===0?0:r[0]==="+"?i:-i)}function rn(e,t){var s,n;return t._isUTC?(s=t.clone(),n=(Me(e)||At(e)?e.valueOf():V(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),_.updateOffset(s,!1),s):V(e).local()}function Ls(e){return-Math.round(e._d.getTimezoneOffset())}_.updateOffset=function(){};function xl(e,t,s){var n=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=nn(ls,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(r=Ls(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==e&&(!t||this._changeInProgress?Or(this,xe(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Ls(this)}function bl(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ol(e){return this.utcOffset(0,e)}function Dl(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ls(this),"m")),this}function Tl(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=nn(Ba,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Cl(e){return this.isValid()?(e=e?V(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Yl(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pl(){if(!ue(this._isDSTShifted))return this._isDSTShifted;var e={},t;return zs(e,this),e=wr(e),e._a?(t=e._isUTC?Ye(e._a):V(e._a),this._isDSTShifted=this.isValid()&&Sl(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ll(){return this.isValid()?!this._isUTC:!1}function Al(){return this.isValid()?this._isUTC:!1}function xr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Nl=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Il=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xe(e,t){var s=e,n=null,r,i,a;return Gt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:$e(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(n=Nl.exec(e))?(r=n[1]==="-"?-1:1,s={y:0,d:N(n[Te])*r,h:N(n[se])*r,m:N(n[ke])*r,s:N(n[Ee])*r,ms:N(Ps(n[Xe]*1e3))*r}):(n=Il.exec(e))?(r=n[1]==="-"?-1:1,s={y:qe(n[2],r),M:qe(n[3],r),w:qe(n[4],r),d:qe(n[5],r),h:qe(n[6],r),m:qe(n[7],r),s:qe(n[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(a=El(V(s.from),V(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new ds(s),Gt(e)&&U(e,"_locale")&&(i._locale=e._locale),Gt(e)&&U(e,"_isValid")&&(i._isValid=e._isValid),i}xe.fn=ds.prototype;xe.invalid=kl;function qe(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function Mn(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function El(e,t){var s;return e.isValid()&&t.isValid()?(t=rn(t,e),e.isBefore(t)?s=Mn(e,t):(s=Mn(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function br(e,t){return function(s,n){var r,i;return n!==null&&!isNaN(+n)&&(er(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=n,n=i),r=xe(s,n),Or(this,r,e),this}}function Or(e,t,s,n){var r=t._milliseconds,i=Ps(t._days),a=Ps(t._months);e.isValid()&&(n=n??!0,a&&cr(e,Dt(e,"Month")+a*s),i&&or(e,"Date",Dt(e,"Date")+i*s),r&&e._d.setTime(e._d.valueOf()+r*s),n&&_.updateOffset(e,i||a))}var Wl=br(1,"add"),Rl=br(-1,"subtract");function Dr(e){return typeof e=="string"||e instanceof String}function $l(e){return Me(e)||At(e)||Dr(e)||$e(e)||Ul(e)||Fl(e)||e===null||e===void 0}function Fl(e){var t=et(e)&&!Fs(e),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,a=n.length;for(r=0;r<a;r+=1)i=n[r],s=s||U(e,i);return t&&s}function Ul(e){var t=Se(e),s=!1;return t&&(s=e.filter(function(n){return!$e(n)&&Dr(e)}).length===0),t&&s}function zl(e){var t=et(e)&&!Fs(e),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<n.length;r+=1)i=n[r],s=s||U(e,i);return t&&s}function Hl(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Vl(e,t){arguments.length===1&&(arguments[0]?$l(arguments[0])?(e=arguments[0],t=void 0):zl(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||V(),n=rn(s,this).startOf("day"),r=_.calendarFormat(this,n)||"sameElse",i=t&&(Pe(t[r])?t[r].call(this,s):t[r]);return this.format(i||this.localeData().calendar(r,this,V(s)))}function jl(){return new Nt(this)}function Bl(e,t){var s=Me(e)?e:V(e);return this.isValid()&&s.isValid()?(t=_e(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zl(e,t){var s=Me(e)?e:V(e);return this.isValid()&&s.isValid()?(t=_e(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Gl(e,t,s,n){var r=Me(e)?e:V(e),i=Me(t)?t:V(t);return this.isValid()&&r.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(n[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function ql(e,t){var s=Me(e)?e:V(e),n;return this.isValid()&&s.isValid()?(t=_e(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Jl(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kl(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ql(e,t,s){var n,r,i;if(!this.isValid())return NaN;if(n=rn(e,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,t=_e(t),t){case"year":i=qt(this,n)/12;break;case"month":i=qt(this,n);break;case"quarter":i=qt(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-r)/864e5;break;case"week":i=(this-n-r)/6048e5;break;default:i=this-n}return s?i:pe(i)}function qt(e,t){if(e.date()<t.date())return-qt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(s,"months"),r,i;return t-n<0?(r=e.clone().add(s-1,"months"),i=(t-n)/(n-r)):(r=e.clone().add(s+1,"months"),i=(t-n)/(r-n)),-(s+i)||0}_.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";_.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Xl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eu(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Zt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Pe(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zt(s,"Z")):Zt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,n,r,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(s+n+r+i)}function su(e){e||(e=this.isUtc()?_.defaultFormatUtc:_.defaultFormat);var t=Zt(this,e);return this.localeData().postformat(t)}function nu(e,t){return this.isValid()&&(Me(e)&&e.isValid()||V(e).isValid())?xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ru(e){return this.from(V(),e)}function iu(e,t){return this.isValid()&&(Me(e)&&e.isValid()||V(e).isValid())?xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function au(e){return this.to(V(),e)}function Tr(e){var t;return e===void 0?this._locale._abbr:(t=Fe(e),t!=null&&(this._locale=t),this)}var Cr=ve("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Yr(){return this._locale}var Xt=1e3,dt=60*Xt,es=60*dt,Pr=(365*400+97)*24*es;function ht(e,t){return(e%t+t)%t}function Lr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-Pr:new Date(e,t,s).valueOf()}function Ar(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-Pr:Date.UTC(e,t,s)}function ou(e){var t,s;if(e=_e(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ar:Lr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ht(t+(this._isUTC?0:this.utcOffset()*dt),es);break;case"minute":t=this._d.valueOf(),t-=ht(t,dt);break;case"second":t=this._d.valueOf(),t-=ht(t,Xt);break}return this._d.setTime(t),_.updateOffset(this,!0),this}function lu(e){var t,s;if(e=_e(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ar:Lr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=es-ht(t+(this._isUTC?0:this.utcOffset()*dt),es)-1;break;case"minute":t=this._d.valueOf(),t+=dt-ht(t,dt)-1;break;case"second":t=this._d.valueOf(),t+=Xt-ht(t,Xt)-1;break}return this._d.setTime(t),_.updateOffset(this,!0),this}function uu(){return this._d.valueOf()-(this._offset||0)*6e4}function cu(){return Math.floor(this.valueOf()/1e3)}function du(){return new Date(this.valueOf())}function hu(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function fu(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function mu(){return this.isValid()?this.toISOString():null}function pu(){return Us(this)}function gu(){return Be({},P(this))}function vu(){return P(this).overflow}function _u(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}D("N",0,0,"eraAbbr");D("NN",0,0,"eraAbbr");D("NNN",0,0,"eraAbbr");D("NNNN",0,0,"eraName");D("NNNNN",0,0,"eraNarrow");D("y",["y",1],"yo","eraYear");D("y",["yy",2],0,"eraYear");D("y",["yyy",3],0,"eraYear");D("y",["yyyy",4],0,"eraYear");k("N",an);k("NN",an);k("NNN",an);k("NNNN",Cu);k("NNNNN",Yu);H(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,n){var r=s._locale.erasParse(e,n,s._strict);r?P(s).era=r:P(s).invalidEra=e});k("y",pt);k("yy",pt);k("yyy",pt);k("yyyy",pt);k("yo",Pu);H(["y","yy","yyy","yyyy"],ae);H(["yo"],function(e,t,s,n){var r;s._locale._eraYearOrdinalRegex&&(r=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[ae]=s._locale.eraYearOrdinalParse(e,r):t[ae]=parseInt(e,10)});function yu(e,t){var s,n,r,i=this._eras||Fe("en")._eras;for(s=0,n=i.length;s<n;++s){switch(typeof i[s].since){case"string":r=_(i[s].since).startOf("day"),i[s].since=r.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":r=_(i[s].until).startOf("day").valueOf(),i[s].until=r.valueOf();break}}return i}function wu(e,t,s){var n,r,i=this.eras(),a,l,o;for(e=e.toUpperCase(),n=0,r=i.length;n<r;++n)if(a=i[n].name.toUpperCase(),l=i[n].abbr.toUpperCase(),o=i[n].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[n];break;case"NNNN":if(a===e)return i[n];break;case"NNNNN":if(o===e)return i[n];break}else if([a,l,o].indexOf(e)>=0)return i[n]}function ku(e,t){var s=e.since<=e.until?1:-1;return t===void 0?_(e.since).year():_(e.since).year()+(t-e.offset)*s}function Su(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].name;return""}function Mu(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].narrow;return""}function xu(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].abbr;return""}function bu(){var e,t,s,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=r[e].since<=r[e].until?1:-1,n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-_(r[e].since).year())*s+r[e].offset;return this.year()}function Ou(e){return U(this,"_erasNameRegex")||on.call(this),e?this._erasNameRegex:this._erasRegex}function Du(e){return U(this,"_erasAbbrRegex")||on.call(this),e?this._erasAbbrRegex:this._erasRegex}function Tu(e){return U(this,"_erasNarrowRegex")||on.call(this),e?this._erasNarrowRegex:this._erasRegex}function an(e,t){return t.erasAbbrRegex(e)}function Cu(e,t){return t.erasNameRegex(e)}function Yu(e,t){return t.erasNarrowRegex(e)}function Pu(e,t){return t._eraYearOrdinalRegex||pt}function on(){var e=[],t=[],s=[],n=[],r,i,a,l,o,c=this.eras();for(r=0,i=c.length;r<i;++r)a=We(c[r].name),l=We(c[r].abbr),o=We(c[r].narrow),t.push(a),e.push(l),s.push(o),n.push(a),n.push(l),n.push(o);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}D(0,["gg",2],0,function(){return this.weekYear()%100});D(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hs(e,t){D(0,[e,e.length],0,t)}hs("gggg","weekYear");hs("ggggg","weekYear");hs("GGGG","isoWeekYear");hs("GGGGG","isoWeekYear");k("G",os);k("g",os);k("GG",B,he);k("gg",B,he);k("GGGG",Zs,Bs);k("gggg",Zs,Bs);k("GGGGG",as,rs);k("ggggg",as,rs);Et(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,n){t[n.substr(0,2)]=N(e)});Et(["gg","GG"],function(e,t,s,n){t[n]=_.parseTwoDigitYear(e)});function Lu(e){return Nr.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Au(e){return Nr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Nu(){return Re(this.year(),1,4)}function Iu(){return Re(this.isoWeekYear(),1,4)}function Eu(){var e=this.localeData()._week;return Re(this.year(),e.dow,e.doy)}function Wu(){var e=this.localeData()._week;return Re(this.weekYear(),e.dow,e.doy)}function Nr(e,t,s,n,r){var i;return e==null?Ct(this,n,r).year:(i=Re(e,n,r),t>i&&(t=i),Ru.call(this,e,t,s,n,r))}function Ru(e,t,s,n,r){var i=fr(e,t,s,n,r),a=Tt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}D("Q",0,"Qo","quarter");k("Q",sr);H("Q",function(e,t){t[Ie]=(N(e)-1)*3});function $u(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}D("D",["DD",2],"Do","date");k("D",B,gt);k("DD",B,he);k("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});H(["D","DD"],Te);H("Do",function(e,t){t[Te]=N(e.match(B)[0])});var Ir=vt("Date",!0);D("DDD",["DDDD",3],"DDDo","dayOfYear");k("DDD",is);k("DDDD",nr);H(["DDD","DDDD"],function(e,t,s){s._dayOfYear=N(e)});function Fu(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}D("m",["mm",2],0,"minute");k("m",B,Gs);k("mm",B,he);H(["m","mm"],ke);var Uu=vt("Minutes",!1);D("s",["ss",2],0,"second");k("s",B,Gs);k("ss",B,he);H(["s","ss"],Ee);var zu=vt("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/100)});D(0,["SS",2],0,function(){return~~(this.millisecond()/10)});D(0,["SSS",3],0,"millisecond");D(0,["SSSS",4],0,function(){return this.millisecond()*10});D(0,["SSSSS",5],0,function(){return this.millisecond()*100});D(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});D(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});D(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});D(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});k("S",is,sr);k("SS",is,he);k("SSS",is,nr);var Ze,Er;for(Ze="SSSS";Ze.length<=9;Ze+="S")k(Ze,pt);function Hu(e,t){t[Xe]=N(("0."+e)*1e3)}for(Ze="S";Ze.length<=9;Ze+="S")H(Ze,Hu);Er=vt("Milliseconds",!1);D("z",0,0,"zoneAbbr");D("zz",0,0,"zoneName");function Vu(){return this._isUTC?"UTC":""}function ju(){return this._isUTC?"Coordinated Universal Time":""}var g=Nt.prototype;g.add=Wl;g.calendar=Vl;g.clone=jl;g.diff=Ql;g.endOf=lu;g.format=su;g.from=nu;g.fromNow=ru;g.to=iu;g.toNow=au;g.get=eo;g.invalidAt=vu;g.isAfter=Bl;g.isBefore=Zl;g.isBetween=Gl;g.isSame=ql;g.isSameOrAfter=Jl;g.isSameOrBefore=Kl;g.isValid=pu;g.lang=Cr;g.locale=Tr;g.localeData=Yr;g.max=pl;g.min=ml;g.parsingFlags=gu;g.set=to;g.startOf=ou;g.subtract=Rl;g.toArray=hu;g.toObject=fu;g.toDate=du;g.toISOString=eu;g.inspect=tu;typeof Symbol<"u"&&Symbol.for!=null&&(g[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});g.toJSON=mu;g.toString=Xl;g.unix=cu;g.valueOf=uu;g.creationData=_u;g.eraName=Su;g.eraNarrow=Mu;g.eraAbbr=xu;g.eraYear=bu;g.year=ar;g.isLeapYear=Xa;g.weekYear=Lu;g.isoWeekYear=Au;g.quarter=g.quarters=$u;g.month=dr;g.daysInMonth=co;g.week=g.weeks=yo;g.isoWeek=g.isoWeeks=wo;g.weeksInYear=Eu;g.weeksInWeekYear=Wu;g.isoWeeksInYear=Nu;g.isoWeeksInISOWeekYear=Iu;g.date=Ir;g.day=g.days=Ao;g.weekday=No;g.isoWeekday=Io;g.dayOfYear=Fu;g.hour=g.hours=zo;g.minute=g.minutes=Uu;g.second=g.seconds=zu;g.millisecond=g.milliseconds=Er;g.utcOffset=xl;g.utc=Ol;g.local=Dl;g.parseZone=Tl;g.hasAlignedHourOffset=Cl;g.isDST=Yl;g.isLocal=Ll;g.isUtcOffset=Al;g.isUtc=xr;g.isUTC=xr;g.zoneAbbr=Vu;g.zoneName=ju;g.dates=ve("dates accessor is deprecated. Use date instead.",Ir);g.months=ve("months accessor is deprecated. Use month instead",dr);g.years=ve("years accessor is deprecated. Use year instead",ar);g.zone=ve("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",bl);g.isDSTShifted=ve("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pl);function Bu(e){return V(e*1e3)}function Zu(){return V.apply(null,arguments).parseZone()}function Wr(e){return e}var z=Hs.prototype;z.calendar=Pa;z.longDateFormat=Ia;z.invalidDate=Wa;z.ordinal=Fa;z.preparse=Wr;z.postformat=Wr;z.relativeTime=za;z.pastFuture=Ha;z.set=Ca;z.eras=yu;z.erasParse=wu;z.erasConvertYear=ku;z.erasAbbrRegex=Du;z.erasNameRegex=Ou;z.erasNarrowRegex=Tu;z.months=ao;z.monthsShort=oo;z.monthsParse=uo;z.monthsRegex=fo;z.monthsShortRegex=ho;z.week=po;z.firstDayOfYear=_o;z.firstDayOfWeek=vo;z.weekdays=To;z.weekdaysMin=Yo;z.weekdaysShort=Co;z.weekdaysParse=Lo;z.weekdaysRegex=Eo;z.weekdaysShortRegex=Wo;z.weekdaysMinRegex=Ro;z.isPM=Fo;z.meridiem=Ho;function ts(e,t,s,n){var r=Fe(),i=Ye().set(n,t);return r[s](i,e)}function Rr(e,t,s){if($e(e)&&(t=e,e=void 0),e=e||"",t!=null)return ts(e,t,s,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ts(e,n,s,"month");return r}function ln(e,t,s,n){typeof e=="boolean"?($e(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,$e(t)&&(s=t,t=void 0),t=t||"");var r=Fe(),i=e?r._week.dow:0,a,l=[];if(s!=null)return ts(t,(s+i)%7,n,"day");for(a=0;a<7;a++)l[a]=ts(t,(a+i)%7,n,"day");return l}function Gu(e,t){return Rr(e,t,"months")}function qu(e,t){return Rr(e,t,"monthsShort")}function Ju(e,t,s){return ln(e,t,s,"weekdays")}function Ku(e,t,s){return ln(e,t,s,"weekdaysShort")}function Qu(e,t,s){return ln(e,t,s,"weekdaysMin")}Ge("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=N(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});_.lang=ve("moment.lang is deprecated. Use moment.locale instead.",Ge);_.langData=ve("moment.langData is deprecated. Use moment.localeData instead.",Fe);var Ae=Math.abs;function Xu(){var e=this._data;return this._milliseconds=Ae(this._milliseconds),this._days=Ae(this._days),this._months=Ae(this._months),e.milliseconds=Ae(e.milliseconds),e.seconds=Ae(e.seconds),e.minutes=Ae(e.minutes),e.hours=Ae(e.hours),e.months=Ae(e.months),e.years=Ae(e.years),this}function $r(e,t,s,n){var r=xe(t,s);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function ec(e,t){return $r(this,e,t,1)}function tc(e,t){return $r(this,e,t,-1)}function xn(e){return e<0?Math.floor(e):Math.ceil(e)}function sc(){var e=this._milliseconds,t=this._days,s=this._months,n=this._data,r,i,a,l,o;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=xn(As(s)+t)*864e5,t=0,s=0),n.milliseconds=e%1e3,r=pe(e/1e3),n.seconds=r%60,i=pe(r/60),n.minutes=i%60,a=pe(i/60),n.hours=a%24,t+=pe(a/24),o=pe(Fr(t)),s+=o,t-=xn(As(o)),l=pe(s/12),s%=12,n.days=t,n.months=s,n.years=l,this}function Fr(e){return e*4800/146097}function As(e){return e*146097/4800}function nc(e){if(!this.isValid())return NaN;var t,s,n=this._milliseconds;if(e=_e(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,s=this._months+Fr(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(As(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Ue(e){return function(){return this.as(e)}}var Ur=Ue("ms"),rc=Ue("s"),ic=Ue("m"),ac=Ue("h"),oc=Ue("d"),lc=Ue("w"),uc=Ue("M"),cc=Ue("Q"),dc=Ue("y"),hc=Ur;function fc(){return xe(this)}function mc(e){return e=_e(e),this.isValid()?this[e+"s"]():NaN}function st(e){return function(){return this.isValid()?this._data[e]:NaN}}var pc=st("milliseconds"),gc=st("seconds"),vc=st("minutes"),_c=st("hours"),yc=st("days"),wc=st("months"),kc=st("years");function Sc(){return pe(this.days()/7)}var Ne=Math.round,ot={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Mc(e,t,s,n,r){return r.relativeTime(t||1,!!s,e,n)}function xc(e,t,s,n){var r=xe(e).abs(),i=Ne(r.as("s")),a=Ne(r.as("m")),l=Ne(r.as("h")),o=Ne(r.as("d")),c=Ne(r.as("M")),h=Ne(r.as("w")),u=Ne(r.as("y")),m=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||a<=1&&["m"]||a<s.m&&["mm",a]||l<=1&&["h"]||l<s.h&&["hh",l]||o<=1&&["d"]||o<s.d&&["dd",o];return s.w!=null&&(m=m||h<=1&&["w"]||h<s.w&&["ww",h]),m=m||c<=1&&["M"]||c<s.M&&["MM",c]||u<=1&&["y"]||["yy",u],m[2]=t,m[3]=+e>0,m[4]=n,Mc.apply(null,m)}function bc(e){return e===void 0?Ne:typeof e=="function"?(Ne=e,!0):!1}function Oc(e,t){return ot[e]===void 0?!1:t===void 0?ot[e]:(ot[e]=t,e==="s"&&(ot.ss=t-1),!0)}function Dc(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=ot,r,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(n=Object.assign({},ot,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),r=this.localeData(),i=xc(this,!s,n,r),s&&(i=r.pastFuture(+this,i)),r.postformat(i)}var ys=Math.abs;function rt(e){return(e>0)-(e<0)||+e}function fs(){if(!this.isValid())return this.localeData().invalidDate();var e=ys(this._milliseconds)/1e3,t=ys(this._days),s=ys(this._months),n,r,i,a,l=this.asSeconds(),o,c,h,u;return l?(n=pe(e/60),r=pe(n/60),e%=60,n%=60,i=pe(s/12),s%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",o=l<0?"-":"",c=rt(this._months)!==rt(l)?"-":"",h=rt(this._days)!==rt(l)?"-":"",u=rt(this._milliseconds)!==rt(l)?"-":"",o+"P"+(i?c+i+"Y":"")+(s?c+s+"M":"")+(t?h+t+"D":"")+(r||n||e?"T":"")+(r?u+r+"H":"")+(n?u+n+"M":"")+(e?u+a+"S":"")):"P0D"}var $=ds.prototype;$.isValid=wl;$.abs=Xu;$.add=ec;$.subtract=tc;$.as=nc;$.asMilliseconds=Ur;$.asSeconds=rc;$.asMinutes=ic;$.asHours=ac;$.asDays=oc;$.asWeeks=lc;$.asMonths=uc;$.asQuarters=cc;$.asYears=dc;$.valueOf=hc;$._bubble=sc;$.clone=fc;$.get=mc;$.milliseconds=pc;$.seconds=gc;$.minutes=vc;$.hours=_c;$.days=yc;$.weeks=Sc;$.months=wc;$.years=kc;$.humanize=Dc;$.toISOString=fs;$.toString=fs;$.toJSON=fs;$.locale=Tr;$.localeData=Yr;$.toIsoString=ve("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fs);$.lang=Cr;D("X",0,0,"unix");D("x",0,0,"valueOf");k("x",os);k("X",Za);H("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});H("x",function(e,t,s){s._d=new Date(N(e))});//! moment.js
_.version="2.30.1";Da(V);_.fn=g;_.min=gl;_.max=vl;_.now=_l;_.utc=Ye;_.unix=Bu;_.months=Gu;_.isDate=At;_.locale=Ge;_.invalid=ns;_.duration=xe;_.isMoment=Me;_.weekdays=Ju;_.parseZone=Zu;_.localeData=Fe;_.isDuration=Gt;_.monthsShort=qu;_.weekdaysMin=Qu;_.defineLocale=Xs;_.updateLocale=Zo;_.locales=Go;_.weekdaysShort=Ku;_.normalizeUnits=_e;_.relativeTimeRounding=bc;_.relativeTimeThreshold=Oc;_.calendarFormat=Hl;_.prototype=g;_.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const be=e=>(ni("data-v-4f5ac7e1"),e=e(),ri(),e),Tc={class:"dataWrap"},Cc=be(()=>f("p",null,"相簿名稱",-1)),Yc=be(()=>f("p",null,"建立時間",-1)),Pc={class:"locationWrap"},Lc={class:"modeWrap"},Ac=be(()=>f("p",null,"選取地點方式",-1)),Nc={class:"modeDataWrap"},Ic={key:0,class:"addressWrap"},Ec={key:1,class:"XYWrap"},Wc=be(()=>f("p",null,"X 軸",-1)),Rc=be(()=>f("p",null,"Y 軸",-1)),$c=be(()=>f("p",null,"類型",-1)),Fc={class:"imgsWrap"},Uc=be(()=>f("p",null,"照片",-1)),zc={class:"imgsDataWrap"},Hc={key:0,class:"imgsSrcWrap"},Vc=["onClick"],jc={key:0,class:"uploadImgWrap"},Bc={enctype:"multipart/form-data"},Zc={class:"albumDepictionWrap"},Gc=be(()=>f("p",null,"相簿說明",-1)),qc={class:"remarkWrap"},Jc=be(()=>f("p",null,"備註",-1)),Kc={class:"sendDataWrap"},Qc=be(()=>f("div",null,"清除",-1)),Xc=be(()=>f("div",null,"儲存",-1)),ed=j({__name:"NewAlbumPage",props:{data:{},options:{}},emits:["deleteImage","initNewAlbum","addedSuccess","updateNewAlbum","uploadImages"],setup(e,{emit:t}){const s=Ws(),n=Un(),r=I(!1),i=e,a=I(JSON.parse(JSON.stringify(i.data)));ce(()=>i.data,()=>{i.data.item.updateStatus?a.value=JSON.parse(JSON.stringify(i.data)):(a.value.item.lng=i.data.item.lng,a.value.item.lat=i.data.item.lat,a.value.item.newDate=i.data.item.newDate,a.value.uploadStatus=i.data.uploadStatus)},{deep:!0});const l=()=>{n.warning({title:"警告",content:"清除資料 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{c("initNewAlbum")}})},o=async()=>{if(r.value=!0,a.value.item.imgs=a.value.imgsSrc.filter(u=>u!=="").map(u=>u).join(","),a.value.item.title===""){s.warning("請輸入相簿名稱");return}if(a.value.item.type===""){s.warning("請選擇類型");return}if(a.value.item.depiction===""){s.warning("請輸入相簿敘述");return}if(a.value.item.remark===""){s.warning("請輸入備註");return}if(a.value.item.imgs.length===0){s.warning("請上傳照片");return}if(a.value.item.lat===""||a.value.item.lng===""){s.warning("請選擇地點");return}const h=new FormData;h.append("Name",a.value.item.title),h.append("Time",String(a.value.item.newDate)),h.append("Lat",String(a.value.item.lat)),h.append("Lng",String(a.value.item.lng)),h.append("Type",String(a.value.item.type)),h.append("Depiction",a.value.item.depiction),h.append("Remark",a.value.item.remark),h.append("Imgs",String(a.value.item.imgs));try{(await at.post("/api/GoogleSheet/album",h)).status===200&&(c("addedSuccess"),s.success("新增成功"),r.value=!1,i.data.item.updateStatus=!0,c("initNewAlbum"))}catch(u){console.log(u),s.error("新增失敗")}},c=t;return ce(()=>a.value,()=>{c("updateNewAlbum",a.value)},{deep:!0}),(h,u)=>{const m=le("n-input"),p=le("n-radio"),d=le("n-select"),w=le("n-space"),S=le("n-image"),y=le("n-spin");return M(),De(y,{size:"medium",show:r.value},{default:ge(()=>[f("div",Tc,[f("div",null,[Cc,Y(m,{type:"text",value:a.value.item.title,"onUpdate:value":u[0]||(u[0]=x=>a.value.item.title=x),placeholder:"請輸入內容"},null,8,["value"])]),f("div",null,[Yc,Y(m,{type:"text",placeholder:a.value.item.newDate,disabled:""},null,8,["placeholder"])]),f("div",Pc,[f("div",Lc,[Ac,f("div",null,[Y(p,{checked:a.value.item.locationStaus==="map",value:"map",name:"locationMode",onClick:u[1]||(u[1]=x=>a.value.item.locationStaus="map")},{default:ge(()=>[Os(" 地圖選取 ")]),_:1},8,["checked"])])]),f("div",Nc,[a.value.item.locationStaus==="address"?(M(),C("div",Ic,[Y(m,{type:"text",placeholder:"請輸入內容"})])):(M(),C("div",Ec,[f("div",null,[Wc,Y(m,{type:"text",value:a.value.item.lng,"onUpdate:value":u[2]||(u[2]=x=>a.value.item.lng=x),placeholder:"請輸入內容",disabled:""},null,8,["value"])]),f("div",null,[Rc,Y(m,{type:"text",value:a.value.item.lat,"onUpdate:value":u[3]||(u[3]=x=>a.value.item.lat=x),placeholder:"請輸入內容",disabled:""},null,8,["value"])])]))])]),f("div",null,[$c,Y(w,{vertical:""},{default:ge(()=>[Y(d,{value:a.value.item.type,"onUpdate:value":u[4]||(u[4]=x=>a.value.item.type=x),options:i.options,placeholder:"請選擇類型"},null,8,["value","options"])]),_:1})]),f("div",Fc,[Uc,f("div",zc,[Y(y,{size:"medium",show:a.value.uploadStatus},{default:ge(()=>[(M(!0),C(tt,null,Rs(a.value.imgsSrc,(x,A)=>(M(),C(tt,{key:x},[x!==""?(M(),C("div",Hc,[f("div",{class:"deleteIconWrap",onClick:Q=>h.$emit("deleteImage","new",a.value.imgsSrc,A)},[Y(T(te),{component:T(Jt),size:"18"},null,8,["component"])],8,Vc),Y(S,{src:x},null,8,["src"])])):oe("",!0)],64))),128)),a.value.imgsSrc.length<10?(M(),C("div",jc,[f("label",Bc,[Y(T(te),{component:T(Jt),size:"25"},null,8,["component"]),f("input",{type:"file",max:"10",id:"new_img_uploader",accept:"image/*",onChange:u[5]||(u[5]=x=>h.$emit("uploadImages",x,"new_img_uploader",a.value.imgsSrc,a.value.uploadNum,"new"))},null,32)])])):oe("",!0)]),_:1},8,["show"])])]),f("div",Zc,[Gc,Y(m,{class:"textareaStyle",type:"textarea",value:a.value.item.depiction,"onUpdate:value":u[6]||(u[6]=x=>a.value.item.depiction=x),placeholder:"請輸入內容"},null,8,["value"])]),f("div",qc,[Jc,Y(m,{class:"textareaStyle",type:"textarea",value:a.value.item.remark,"onUpdate:value":u[7]||(u[7]=x=>a.value.item.remark=x),placeholder:"請輸入內容"},null,8,["value"])])]),f("div",Kc,[f("div",{onClick:l},[Y(T(te),{component:T(_i),size:"15"},null,8,["component"]),Qc]),f("div",{onClick:o},[Y(T(te),{component:T(Bn),size:"15"},null,8,["component"]),Xc])])]),_:1},8,["show"])}}}),td=zn(ed,[["__scopeId","data-v-4f5ac7e1"]]);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mapdiv[data-v-174b771e]{width:100%;height:100%}.info-window-wrapper[data-v-90174664]{display:none}.mapdiv .info-window-wrapper[data-v-90174664]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var sd=Object.defineProperty,nd=(e,t,s)=>t in e?sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,bn=(e,t,s)=>(nd(e,typeof t!="symbol"?t+"":t,s),s);const un=Symbol("map"),cn=Symbol("api"),zr=Symbol("markerCluster"),ms=Symbol("CustomMarker"),rd=Symbol("mapTilesLoaded"),Hr=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function id(e,t,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(u){a(u)}}function o(h){try{c(n.throw(h))}catch(u){a(u)}}function c(h){h.done?i(h.value):r(h.value).then(l,o)}c((n=n.apply(e,t||[])).next())})}var ad=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const On="__googleMapsScriptId";var lt;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(lt||(lt={}));class Qe{constructor({apiKey:t,authReferrerPolicy:s,channel:n,client:r,id:i=On,language:a,libraries:l=[],mapIds:o,nonce:c,region:h,retries:u=3,url:m="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=s,this.channel=n,this.client=r,this.id=i||On,this.language=a,this.libraries=l,this.mapIds=o,this.nonce=c,this.region=h,this.retries=u,this.url=m,this.version=p,Qe.instance){if(!ad(this.options,Qe.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Qe.instance.options)}`);return Qe.instance}Qe.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?lt.FAILURE:this.done?lt.SUCCESS:this.loading?lt.LOADING:lt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,s)=>{this.loadCallback(n=>{n?s(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,s;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((s=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||s===void 0)&&s.importLibrary||(i=>{let a,l,o,c="The Google Maps JavaScript API",h="google",u="importLibrary",m="__ib__",p=document,d=window;d=d[h]||(d[h]={});const w=d.maps||(d.maps={}),S=new Set,y=new URLSearchParams,x=()=>a||(a=new Promise((A,Q)=>id(this,void 0,void 0,function*(){var ne;yield l=p.createElement("script"),l.id=this.id,y.set("libraries",[...S]+"");for(o in i)y.set(o.replace(/[A-Z]/g,re=>"_"+re[0].toLowerCase()),i[o]);y.set("callback",h+".maps."+m),l.src=this.url+"?"+y,w[m]=A,l.onerror=()=>a=Q(Error(c+" could not load.")),l.nonce=this.nonce||((ne=p.querySelector("script[nonce]"))===null||ne===void 0?void 0:ne.nonce)||"",p.head.append(l)})));w[u]?console.warn(c+" only loads once. Ignoring:",i):w[u]=(A,...Q)=>S.add(A)&&x().then(()=>w[u](A,...Q))})(n);const r=this.libraries.map(i=>this.importLibrary(i));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const s=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${s} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}function od(e){return class extends e.OverlayView{constructor(t){super(),bn(this,"element"),bn(this,"opts");const{element:s,...n}=t;this.element=s,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const t=this.element;return t.style.display!=="none"&&t.style.visibility!=="hidden"&&(t.style.opacity===""||Number(t.style.opacity)>.01)}onAdd(){if(!this.element)return;const t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const t=this.getProjection(),s=t==null?void 0:t.fromLatLngToDivPixel(this.getPosition());if(s){this.element.style.position="absolute";const n=this.element.offsetHeight,r=this.element.offsetWidth;let i,a;switch(this.opts.anchorPoint){case"TOP_CENTER":i=s.x-r/2,a=s.y;break;case"BOTTOM_CENTER":i=s.x-r/2,a=s.y-n;break;case"LEFT_CENTER":i=s.x,a=s.y-n/2;break;case"RIGHT_CENTER":i=s.x-r,a=s.y-n/2;break;case"TOP_LEFT":i=s.x,a=s.y;break;case"TOP_RIGHT":i=s.x-r,a=s.y;break;case"BOTTOM_LEFT":i=s.x,a=s.y-n;break;case"BOTTOM_RIGHT":i=s.x-r,a=s.y-n;break;default:i=s.x-r/2,a=s.y-n/2}this.element.style.left=i+"px",this.element.style.top=a+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(t){const{element:s,...n}=t;this.element=s,this.opts=n,this.draw()}}}let Dn;const Tn=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","heading_changed","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],ld=j({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:Tn,setup(e,{emit:t}){const s=I(),n=I(!1),r=I(),i=I(),a=I(!1);Bt(un,r),Bt(cn,i),Bt(rd,a);const l=()=>{const u={...e};Object.keys(u).forEach(d=>{u[d]===void 0&&delete u[d]});const m=d=>{var w;return d?{position:(w=i.value)==null?void 0:w.ControlPosition[d]}:{}},p={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:m(e.panControlPosition),zoomControlOptions:m(e.zoomControlPosition),rotateControlOptions:m(e.rotateControlPosition),streetViewControlOptions:m(e.streetViewControlPosition),fullscreenControlOptions:m(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi};return{...u,...p}},o=ce([i,r],([u,m])=>{const p=u,d=m;p&&d&&(p.event.addListenerOnce(d,"tilesloaded",()=>{a.value=!0}),setTimeout(o,0))},{immediate:!0}),c=()=>{try{const{apiKey:u,region:m,version:p,language:d,libraries:w}=e;Dn=new Qe({apiKey:u,region:m,version:p,language:d,libraries:w})}catch(u){console.error(u)}},h=u=>{i.value=ut(u.maps),r.value=ut(new u.maps.Map(s.value,l()));const m=od(i.value);i.value[ms]=m,Tn.forEach(d=>{var w;(w=r.value)==null||w.addListener(d,S=>t(d,S))}),n.value=!0;const p=Object.keys(e).filter(d=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom"].includes(d)).map(d=>ui(e,d));ce([()=>e.center,()=>e.zoom,...p],([d,w],[S,y])=>{var x,A,Q;const{center:ne,zoom:re,...Z}=l();(x=r.value)==null||x.setOptions(Z),w!==void 0&&w!==y&&((A=r.value)==null||A.setZoom(w));const de=!S||d.lng!==S.lng||d.lat!==S.lat;d&&de&&((Q=r.value)==null||Q.panTo(d))})};return ss(()=>{e.apiPromise&&e.apiPromise instanceof Promise?e.apiPromise.then(h):(c(),Dn.load().then(h))}),$s(()=>{var u;a.value=!1,r.value&&((u=i.value)==null||u.event.clearInstanceListeners(r.value))}),{mapRef:s,ready:n,map:r,api:i,mapTilesLoaded:a}}}),Vr=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},ud={ref:"mapRef",class:"mapdiv"};function cd(e,t,s,n,r,i){return M(),C("div",null,[f("div",ud,null,512),Hn(e.$slots,"default",ii(ai({ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded})),void 0,!0)])}const dd=Vr(ld,[["render",cd],["__scopeId","data-v-174b771e"]]);function hd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fd=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const Pt=hd(fd),md=e=>e==="Marker",pd=e=>e===ms,gd=(e,t,s,n)=>{const r=I(),i=xt(un,I()),a=xt(cn,I()),l=xt(zr,I()),o=Ot(()=>!!(l.value&&a.value&&(r.value instanceof a.value.Marker||r.value instanceof a.value[ms])));return ce([i,s],(c,[h,u])=>{var m,p,d;const w=!Pt(s.value,u)||i.value!==h;!i.value||!a.value||!w||(r.value?(r.value.setOptions(s.value),o.value&&((m=l.value)==null||m.removeMarker(r.value),(p=l.value)==null||p.addMarker(r.value))):(md(e)?r.value=ut(new a.value[e](s.value)):pd(e)?r.value=ut(new a.value[e](s.value)):r.value=ut(new a.value[e]({...s.value,map:i.value})),o.value?(d=l.value)==null||d.addMarker(r.value):r.value.setMap(i.value),t.forEach(S=>{var y;(y=r.value)==null||y.addListener(S,x=>n(S,x))})))},{immediate:!0}),$s(()=>{var c,h;r.value&&((c=a.value)==null||c.event.clearInstanceListeners(r.value),o.value?(h=l.value)==null||h.removeMarker(r.value):r.value.setMap(null))}),r};Hr.concat(["bounds_changed"]);Hr.concat(["center_changed","radius_changed"]);const Cn=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ws=1,wt=8;class dn{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,n]=new Uint8Array(t,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(r!==ws)throw new Error(`Got v${r} data when expected v${ws}.`);const i=Cn[n&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new dn(l,a,i,t)}constructor(t,s=64,n=Float64Array,r){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=Cn.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,wt,t),this.coords=new this.ArrayType(this.data,wt+l+o,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(wt+a+l+o),this.ids=new this.IndexArrayType(this.data,wt,t),this.coords=new this.ArrayType(this.data,wt+l+o,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ws<<4)+i]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=t)}add(t,s){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=s,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Ns(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,s,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:l}=this,o=[0,i.length-1,0],c=[];for(;o.length;){const h=o.pop()||0,u=o.pop()||0,m=o.pop()||0;if(u-m<=l){for(let S=m;S<=u;S++){const y=a[2*S],x=a[2*S+1];y>=t&&y<=n&&x>=s&&x<=r&&c.push(i[S])}continue}const p=m+u>>1,d=a[2*p],w=a[2*p+1];d>=t&&d<=n&&w>=s&&w<=r&&c.push(i[p]),(h===0?t<=d:s<=w)&&(o.push(m),o.push(p-1),o.push(1-h)),(h===0?n>=d:r>=w)&&(o.push(p+1),o.push(u),o.push(1-h))}return c}within(t,s,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:a}=this,l=[0,r.length-1,0],o=[],c=n*n;for(;l.length;){const h=l.pop()||0,u=l.pop()||0,m=l.pop()||0;if(u-m<=a){for(let S=m;S<=u;S++)Yn(i[2*S],i[2*S+1],t,s)<=c&&o.push(r[S]);continue}const p=m+u>>1,d=i[2*p],w=i[2*p+1];Yn(d,w,t,s)<=c&&o.push(r[p]),(h===0?t-n<=d:s-n<=w)&&(l.push(m),l.push(p-1),l.push(1-h)),(h===0?t+n>=d:s+n>=w)&&(l.push(p+1),l.push(u),l.push(1-h))}return o}}function Ns(e,t,s,n,r,i){if(r-n<=s)return;const a=n+r>>1;jr(e,t,a,n,r,i),Ns(e,t,s,n,a-1,1-i),Ns(e,t,s,a+1,r,1-i)}function jr(e,t,s,n,r,i){for(;r>n;){if(r-n>600){const c=r-n+1,h=s-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(c-m)/c)*(h-c/2<0?-1:1),d=Math.max(n,Math.floor(s-h*m/c+p)),w=Math.min(r,Math.floor(s+(c-h)*m/c+p));jr(e,t,s,d,w,i)}const a=t[2*s+i];let l=n,o=r;for(kt(e,t,n,s),t[2*r+i]>a&&kt(e,t,n,r);l<o;){for(kt(e,t,l,o),l++,o--;t[2*l+i]<a;)l++;for(;t[2*o+i]>a;)o--}t[2*n+i]===a?kt(e,t,n,o):(o++,kt(e,t,o,r)),o<=s&&(n=o+1),s<=o&&(r=o-1)}}function kt(e,t,s,n){ks(e,s,n),ks(t,2*s,2*n),ks(t,2*s+1,2*n+1)}function ks(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}function Yn(e,t,s,n){const r=e-s,i=t-n;return r*r+i*i}const vd={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Pn=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Je=2,Ve=3,Ss=4,ze=5,Br=6;class Zr{constructor(t){this.options=Object.assign(Object.create(vd),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:s,minZoom:n,maxZoom:r}=this.options;s&&console.time("total time");const i=`prepare ${t.length} points`;s&&console.time(i),this.points=t;const a=[];for(let o=0;o<t.length;o++){const c=t[o];if(!c.geometry)continue;const[h,u]=c.geometry.coordinates,m=Pn(zt(h)),p=Pn(Ht(u));a.push(m,p,1/0,o,-1,1),this.options.reduce&&a.push(0)}let l=this.trees[r+1]=this._createTree(a);s&&console.timeEnd(i);for(let o=r;o>=n;o--){const c=+Date.now();l=this.trees[o]=this._createTree(this._cluster(l,o)),s&&console.log("z%d: %d clusters in %dms",o,l.numItems,+Date.now()-c)}return s&&console.timeEnd("total time"),this}getClusters(t,s){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const u=this.getClusters([n,r,180,a],s),m=this.getClusters([-180,r,i,a],s);return u.concat(m)}const l=this.trees[this._limitZoom(s)],o=l.range(zt(n),Ht(a),zt(i),Ht(r)),c=l.data,h=[];for(const u of o){const m=this.stride*u;h.push(c[m+ze]>1?Ln(c,m,this.clusterProps):this.points[c[m+Ve]])}return h}getChildren(t){const s=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const a=i.data;if(s*this.stride>=a.length)throw new Error(r);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=a[s*this.stride],c=a[s*this.stride+1],h=i.within(o,c,l),u=[];for(const m of h){const p=m*this.stride;a[p+Ss]===t&&u.push(a[p+ze]>1?Ln(a,p,this.clusterProps):this.points[a[p+Ve]])}if(u.length===0)throw new Error(r);return u}getLeaves(t,s,n){s=s||10,n=n||0;const r=[];return this._appendLeaves(r,t,s,n,0),r}getTile(t,s,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:a,radius:l}=this.options,o=l/a,c=(n-o)/i,h=(n+1+o)/i,u={features:[]};return this._addTileFeatures(r.range((s-o)/i,c,(s+1+o)/i,h),r.data,s,n,i,u),s===0&&this._addTileFeatures(r.range(1-o/i,c,1,h),r.data,i,n,i,u),s===i-1&&this._addTileFeatures(r.range(0,c,o/i,h),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(t){let s=this._getOriginZoom(t)-1;for(;s<=this.options.maxZoom;){const n=this.getChildren(t);if(s++,n.length!==1)break;t=n[0].properties.cluster_id}return s}_appendLeaves(t,s,n,r,i){const a=this.getChildren(s);for(const l of a){const o=l.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(t,o.cluster_id,n,r,i):i<r?i++:t.push(l),t.length===n)break}return i}_createTree(t){const s=new dn(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)s.add(t[n],t[n+1]);return s.finish(),s.data=t,s}_addTileFeatures(t,s,n,r,i,a){for(const l of t){const o=l*this.stride,c=s[o+ze]>1;let h,u,m;if(c)h=Gr(s,o,this.clusterProps),u=s[o],m=s[o+1];else{const w=this.points[s[o+Ve]];h=w.properties;const[S,y]=w.geometry.coordinates;u=zt(S),m=Ht(y)}const p={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(m*i-r))]],tags:h};let d;c||this.options.generateId?d=s[o+Ve]:d=this.points[s[o+Ve]].id,d!==void 0&&(p.id=d),a.features.push(p)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,s){const{radius:n,extent:r,reduce:i,minPoints:a}=this.options,l=n/(r*Math.pow(2,s)),o=t.data,c=[],h=this.stride;for(let u=0;u<o.length;u+=h){if(o[u+Je]<=s)continue;o[u+Je]=s;const m=o[u],p=o[u+1],d=t.within(o[u],o[u+1],l),w=o[u+ze];let S=w;for(const y of d){const x=y*h;o[x+Je]>s&&(S+=o[x+ze])}if(S>w&&S>=a){let y=m*w,x=p*w,A,Q=-1;const ne=((u/h|0)<<5)+(s+1)+this.points.length;for(const re of d){const Z=re*h;if(o[Z+Je]<=s)continue;o[Z+Je]=s;const de=o[Z+ze];y+=o[Z]*de,x+=o[Z+1]*de,o[Z+Ss]=ne,i&&(A||(A=this._map(o,u,!0),Q=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(o,Z)))}o[u+Ss]=ne,c.push(y/S,x/S,1/0,ne,-1,S),i&&c.push(Q)}else{for(let y=0;y<h;y++)c.push(o[u+y]);if(S>1)for(const y of d){const x=y*h;if(!(o[x+Je]<=s)){o[x+Je]=s;for(let A=0;A<h;A++)c.push(o[x+A])}}}}return c}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,s,n){if(t[s+ze]>1){const a=this.clusterProps[t[s+Br]];return n?Object.assign({},a):a}const r=this.points[t[s+Ve]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function Ln(e,t,s){return{type:"Feature",id:e[t+Ve],properties:Gr(e,t,s),geometry:{type:"Point",coordinates:[_d(e[t]),yd(e[t+1])]}}}function Gr(e,t,s){const n=e[t+ze],r=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,i=e[t+Br],a=i===-1?{}:Object.assign({},s[i]);return Object.assign(a,{cluster:!0,cluster_id:e[t+Ve],point_count:n,point_count_abbreviated:r})}function zt(e){return e/360+.5}function Ht(e){const t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function _d(e){return(e-.5)*360}function yd(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function hn(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s}class ie{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,s){this.isAdvancedMarker(t)?t.map=s:t.setMap(s)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Lt{constructor({markers:t,position:s}){this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const s of this.markers)t.extend(ie.getPosition(s));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>ie.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(ie.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const wd=(e,t,s,n)=>{const r=qr(e.getBounds(),t,n);return s.filter(i=>r.contains(ie.getPosition(i)))},qr=(e,t,s)=>{const{northEast:n,southWest:r}=kd(e,t),i=Sd({northEast:n,southWest:r},s);return Md(i,t)},An=(e,t,s)=>{const n=qr(e,t,s),r=n.getNorthEast(),i=n.getSouthWest();return[i.lng(),i.lat(),r.lng(),r.lat()]},kd=(e,t)=>({northEast:t.fromLatLngToDivPixel(e.getNorthEast()),southWest:t.fromLatLngToDivPixel(e.getSouthWest())}),Sd=({northEast:e,southWest:t},s)=>(e.x+=s,e.y-=s,t.x-=s,t.y+=s,{northEast:e,southWest:t}),Md=({northEast:e,southWest:t},s)=>{const n=s.fromDivPixelToLatLng(t),r=s.fromDivPixelToLatLng(e);return new google.maps.LatLngBounds(n,r)};class Jr{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return bd(t)}}class xd extends Jr{constructor(t){var{viewportPadding:s=60}=t,n=hn(t,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=s}calculate({markers:t,map:s,mapCanvasProjection:n}){return s.getZoom()>=this.maxZoom?{clusters:this.noop({markers:t}),changed:!1}:{clusters:this.cluster({markers:wd(s,n,t,this.viewportPadding),map:s,mapCanvasProjection:n})}}}const bd=e=>e.map(t=>new Lt({position:ie.getPosition(t),markers:[t]}));class Od extends Jr{constructor(t){var{maxZoom:s,radius:n=60}=t,r=hn(t,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new Zr(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(t){let s=!1;const n={zoom:t.map.getZoom()};if(!Pt(t.markers,this.markers)){s=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=ie.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return s||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(s=!Pt(this.state,n)),this.state=n,s&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:s}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(s=>this.transformCluster(s))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Lt({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Lt({markers:[r],position:ie.getPosition(r)})}}class Dd extends xd{constructor(t){var{maxZoom:s,radius:n=60,viewportPadding:r=60}=t,i=hn(t,["maxZoom","radius","viewportPadding"]);super({maxZoom:s,viewportPadding:r}),this.superCluster=new Zr(Object.assign({maxZoom:this.maxZoom,radius:n},i)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(t){const s={zoom:Math.round(t.map.getZoom()),view:An(t.map.getBounds(),t.mapCanvasProjection,this.viewportPadding)};let n=!Pt(this.state,s);if(!Pt(t.markers,this.markers)){n=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=ie.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return n&&(this.clusters=this.cluster(t),this.state=s),{clusters:this.clusters,changed:n}}cluster({map:t,mapCanvasProjection:s}){const n={zoom:Math.round(t.getZoom()),view:An(t.getBounds(),s,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Lt({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Lt({markers:[r],position:ie.getPosition(r)})}}class Td{constructor(t,s){this.markers={sum:t.length};const n=s.map(i=>i.count),r=n.reduce((i,a)=>i+a,0);this.clusters={count:s.length,markers:{mean:r/s.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Cd{render({count:t,position:s},n,r){const i=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,a=`Cluster of ${t} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+t;if(ie.isAdvancedMarkerAvailable(r)){const c=document.createElement("div");c.innerHTML=i;const h=c.firstElementChild;h.setAttribute("transform","translate(0 25)");const u={map:r,position:s,zIndex:l,title:a,content:h};return new google.maps.marker.AdvancedMarkerElement(u)}const o={position:s,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(i)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(o)}}function Yd(e,t){for(let s in t.prototype)e.prototype[s]=t.prototype[s]}class fn{constructor(){Yd(fn,google.maps.OverlayView)}}var ft;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(ft||(ft={}));const Pd=(e,t,s)=>{s.fitBounds(t.bounds)};class Ld extends fn{constructor({map:t,markers:s=[],algorithmOptions:n={},algorithm:r=new Od(n),renderer:i=new Cd,onClusterClick:a=Pd}){super(),this.markers=[...s],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=a,t&&this.setMap(t)}addMarker(t,s){this.markers.includes(t)||(this.markers.push(t),s||this.render())}addMarkers(t,s){t.forEach(n=>{this.addMarker(n,!0)}),s||this.render()}removeMarker(t,s){const n=this.markers.indexOf(t);return n===-1?!1:(ie.setMap(t,null),this.markers.splice(n,1),s||this.render(),!0)}removeMarkers(t,s){let n=!1;return t.forEach(r=>{n=this.removeMarker(r,!0)||n}),n&&!s&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,ft.CLUSTERING_BEGIN,this);const{clusters:s,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const r=new Set;for(const a of s)a.markers.length==1&&r.add(a.markers[0]);const i=[];for(const a of this.clusters)a.marker!=null&&(a.markers.length==1?r.has(a.marker)||ie.setMap(a.marker,null):i.push(a.marker));this.clusters=s,this.renderClusters(),requestAnimationFrame(()=>i.forEach(a=>ie.setMap(a,null)))}google.maps.event.trigger(this,ft.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>ie.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new Td(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,s),n.markers.forEach(r=>ie.setMap(r,null)),this.onClusterClick&&n.marker.addListener("click",r=>{google.maps.event.trigger(this,ft.CLUSTER_CLICK,n),this.onClusterClick(r,n,s)})),ie.setMap(n.marker,s)})}}const Nn=Object.values(ft),Ad=j({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Nn,setup(e,{emit:t,expose:s,slots:n}){const r=I(),i=xt(un,I()),a=xt(cn,I());return Bt(zr,r),ce(i,()=>{i.value&&(r.value=ut(new Ld({map:i.value,algorithm:new Dd(e.options.algorithmOptions??{}),...e.options})),Nn.forEach(l=>{var o;(o=r.value)==null||o.addListener(l,c=>t(l,c))}))},{immediate:!0}),$s(()=>{var l;r.value&&((l=a.value)==null||l.event.clearInstanceListeners(r.value),r.value.clearMarkers(),r.value.setMap(null))}),s({markerCluster:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Nd=j({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:s,expose:n}){const r=I(),i=Ot(()=>{var o;return(o=t.default)==null?void 0:o.call(t).some(c=>c.type!==oi)}),a=Ot(()=>({...e.options,element:r.value})),l=gd(ms,[],a,s);return n({customMarker:l}),{customMarkerRef:r,customMarker:l,hasSlotContent:i}}}),Id={key:0,class:"custom-marker-wrapper"};function Ed(e,t,s,n,r,i){return e.hasSlotContent?(M(),C("div",Id,[f("div",li({ref:"customMarkerRef",style:{cursor:e.$attrs.onClick?"pointer":void 0}},e.$attrs),[Hn(e.$slots,"default",{},void 0,!0)],16)])):oe("",!0)}const Wd=Vr(Nd,[["render",Ed],["__scopeId","data-v-2d2d343a"]]);var Rd=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const In=ci(Rd),En=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ms=1,St=8;class mn{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,n]=new Uint8Array(t,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(r!==Ms)throw new Error(`Got v${r} data when expected v${Ms}.`);const i=En[n&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new mn(l,a,i,t)}constructor(t,s=64,n=Float64Array,r){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=En.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,St,t),this.coords=new this.ArrayType(this.data,St+l+o,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(St+a+l+o),this.ids=new this.IndexArrayType(this.data,St,t),this.coords=new this.ArrayType(this.data,St+l+o,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ms<<4)+i]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=t)}add(t,s){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=s,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Is(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,s,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:l}=this,o=[0,i.length-1,0],c=[];for(;o.length;){const h=o.pop()||0,u=o.pop()||0,m=o.pop()||0;if(u-m<=l){for(let S=m;S<=u;S++){const y=a[2*S],x=a[2*S+1];y>=t&&y<=n&&x>=s&&x<=r&&c.push(i[S])}continue}const p=m+u>>1,d=a[2*p],w=a[2*p+1];d>=t&&d<=n&&w>=s&&w<=r&&c.push(i[p]),(h===0?t<=d:s<=w)&&(o.push(m),o.push(p-1),o.push(1-h)),(h===0?n>=d:r>=w)&&(o.push(p+1),o.push(u),o.push(1-h))}return c}within(t,s,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:a}=this,l=[0,r.length-1,0],o=[],c=n*n;for(;l.length;){const h=l.pop()||0,u=l.pop()||0,m=l.pop()||0;if(u-m<=a){for(let S=m;S<=u;S++)Wn(i[2*S],i[2*S+1],t,s)<=c&&o.push(r[S]);continue}const p=m+u>>1,d=i[2*p],w=i[2*p+1];Wn(d,w,t,s)<=c&&o.push(r[p]),(h===0?t-n<=d:s-n<=w)&&(l.push(m),l.push(p-1),l.push(1-h)),(h===0?t+n>=d:s+n>=w)&&(l.push(p+1),l.push(u),l.push(1-h))}return o}}function Is(e,t,s,n,r,i){if(r-n<=s)return;const a=n+r>>1;Kr(e,t,a,n,r,i),Is(e,t,s,n,a-1,1-i),Is(e,t,s,a+1,r,1-i)}function Kr(e,t,s,n,r,i){for(;r>n;){if(r-n>600){const c=r-n+1,h=s-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(c-m)/c)*(h-c/2<0?-1:1),d=Math.max(n,Math.floor(s-h*m/c+p)),w=Math.min(r,Math.floor(s+(c-h)*m/c+p));Kr(e,t,s,d,w,i)}const a=t[2*s+i];let l=n,o=r;for(Mt(e,t,n,s),t[2*r+i]>a&&Mt(e,t,n,r);l<o;){for(Mt(e,t,l,o),l++,o--;t[2*l+i]<a;)l++;for(;t[2*o+i]>a;)o--}t[2*n+i]===a?Mt(e,t,n,o):(o++,Mt(e,t,o,r)),o<=s&&(n=o+1),s<=o&&(r=o-1)}}function Mt(e,t,s,n){xs(e,s,n),xs(t,2*s,2*n),xs(t,2*s+1,2*n+1)}function xs(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}function Wn(e,t,s,n){const r=e-s,i=t-n;return r*r+i*i}const $d={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Rn=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Ke=2,je=3,bs=4,He=5,Qr=6;class Fd{constructor(t){this.options=Object.assign(Object.create($d),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:s,minZoom:n,maxZoom:r}=this.options;s&&console.time("total time");const i=`prepare ${t.length} points`;s&&console.time(i),this.points=t;const a=[];for(let o=0;o<t.length;o++){const c=t[o];if(!c.geometry)continue;const[h,u]=c.geometry.coordinates,m=Rn(Vt(h)),p=Rn(jt(u));a.push(m,p,1/0,o,-1,1),this.options.reduce&&a.push(0)}let l=this.trees[r+1]=this._createTree(a);s&&console.timeEnd(i);for(let o=r;o>=n;o--){const c=+Date.now();l=this.trees[o]=this._createTree(this._cluster(l,o)),s&&console.log("z%d: %d clusters in %dms",o,l.numItems,+Date.now()-c)}return s&&console.timeEnd("total time"),this}getClusters(t,s){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const u=this.getClusters([n,r,180,a],s),m=this.getClusters([-180,r,i,a],s);return u.concat(m)}const l=this.trees[this._limitZoom(s)],o=l.range(Vt(n),jt(a),Vt(i),jt(r)),c=l.data,h=[];for(const u of o){const m=this.stride*u;h.push(c[m+He]>1?$n(c,m,this.clusterProps):this.points[c[m+je]])}return h}getChildren(t){const s=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const a=i.data;if(s*this.stride>=a.length)throw new Error(r);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=a[s*this.stride],c=a[s*this.stride+1],h=i.within(o,c,l),u=[];for(const m of h){const p=m*this.stride;a[p+bs]===t&&u.push(a[p+He]>1?$n(a,p,this.clusterProps):this.points[a[p+je]])}if(u.length===0)throw new Error(r);return u}getLeaves(t,s,n){s=s||10,n=n||0;const r=[];return this._appendLeaves(r,t,s,n,0),r}getTile(t,s,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:a,radius:l}=this.options,o=l/a,c=(n-o)/i,h=(n+1+o)/i,u={features:[]};return this._addTileFeatures(r.range((s-o)/i,c,(s+1+o)/i,h),r.data,s,n,i,u),s===0&&this._addTileFeatures(r.range(1-o/i,c,1,h),r.data,i,n,i,u),s===i-1&&this._addTileFeatures(r.range(0,c,o/i,h),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(t){let s=this._getOriginZoom(t)-1;for(;s<=this.options.maxZoom;){const n=this.getChildren(t);if(s++,n.length!==1)break;t=n[0].properties.cluster_id}return s}_appendLeaves(t,s,n,r,i){const a=this.getChildren(s);for(const l of a){const o=l.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(t,o.cluster_id,n,r,i):i<r?i++:t.push(l),t.length===n)break}return i}_createTree(t){const s=new mn(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)s.add(t[n],t[n+1]);return s.finish(),s.data=t,s}_addTileFeatures(t,s,n,r,i,a){for(const l of t){const o=l*this.stride,c=s[o+He]>1;let h,u,m;if(c)h=Xr(s,o,this.clusterProps),u=s[o],m=s[o+1];else{const w=this.points[s[o+je]];h=w.properties;const[S,y]=w.geometry.coordinates;u=Vt(S),m=jt(y)}const p={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(m*i-r))]],tags:h};let d;c||this.options.generateId?d=s[o+je]:d=this.points[s[o+je]].id,d!==void 0&&(p.id=d),a.features.push(p)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,s){const{radius:n,extent:r,reduce:i,minPoints:a}=this.options,l=n/(r*Math.pow(2,s)),o=t.data,c=[],h=this.stride;for(let u=0;u<o.length;u+=h){if(o[u+Ke]<=s)continue;o[u+Ke]=s;const m=o[u],p=o[u+1],d=t.within(o[u],o[u+1],l),w=o[u+He];let S=w;for(const y of d){const x=y*h;o[x+Ke]>s&&(S+=o[x+He])}if(S>w&&S>=a){let y=m*w,x=p*w,A,Q=-1;const ne=((u/h|0)<<5)+(s+1)+this.points.length;for(const re of d){const Z=re*h;if(o[Z+Ke]<=s)continue;o[Z+Ke]=s;const de=o[Z+He];y+=o[Z]*de,x+=o[Z+1]*de,o[Z+bs]=ne,i&&(A||(A=this._map(o,u,!0),Q=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(o,Z)))}o[u+bs]=ne,c.push(y/S,x/S,1/0,ne,-1,S),i&&c.push(Q)}else{for(let y=0;y<h;y++)c.push(o[u+y]);if(S>1)for(const y of d){const x=y*h;if(!(o[x+Ke]<=s)){o[x+Ke]=s;for(let A=0;A<h;A++)c.push(o[x+A])}}}}return c}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,s,n){if(t[s+He]>1){const a=this.clusterProps[t[s+Qr]];return n?Object.assign({},a):a}const r=this.points[t[s+je]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function $n(e,t,s){return{type:"Feature",id:e[t+je],properties:Xr(e,t,s),geometry:{type:"Point",coordinates:[Ud(e[t]),zd(e[t+1])]}}}function Xr(e,t,s){const n=e[t+He],r=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,i=e[t+Qr],a=i===-1?{}:Object.assign({},s[i]);return Object.assign(a,{cluster:!0,cluster_id:e[t+je],point_count:n,point_count_abbreviated:r})}function Vt(e){return e/360+.5}function jt(e){const t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function Ud(e){return(e-.5)*360}function zd(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hd(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s}class mt{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,s){this.isAdvancedMarker(t)?t.map=s:t.setMap(s)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Es{constructor({markers:t,position:s}){this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const s of this.markers)t.extend(mt.getPosition(s));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>mt.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(mt.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Vd{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return jd(t)}}const jd=e=>e.map(s=>new Es({position:mt.getPosition(s),markers:[s]}));class Bd extends Vd{constructor(t){var{maxZoom:s,radius:n=60}=t,r=Hd(t,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new Fd(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(t){let s=!1;const n={zoom:t.map.getZoom()};if(!In(t.markers,this.markers)){s=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=mt.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return s||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(s=!In(this.state,n)),this.state=n,s&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:s}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(s=>this.transformCluster(s))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Es({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Es({markers:[r],position:mt.getPosition(r)})}}var Fn;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Fn||(Fn={}));const Zd=[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}],Gd=e=>{const t=e.latLng,s=t.lat(),n=t.lng();return{lat:s,lng:n}},qd={key:1,class:"loadingFailedWrap"},Jd={id:"infoWindow"},Kd={class:"infoWindowWrap"},Qd={class:"title"},Xd=f("p",null,"相簿名稱 : ",-1),eh={class:"main"},th=f("p",null,"相簿說明 : ",-1),sh=f("div",{class:"infoWindowBtnWrap"},[f("button",{class:"more"},"更多詳細")],-1),nh={id:"newInfoWindow"},rh={class:"infoWindowWrap"},ih={class:"title"},ah=f("p",null,"X 軸 : ",-1),oh={class:"main"},lh=f("p",null,"Y 軸 : ",-1),uh={key:0,class:"infoWindowBtnWrap"},ch={class:"newAlbum"},dh={class:"getCoordinates"},hh=j({__name:"OpMap",props:{dataList:{},data:{},editAlbum:{},switchDataBtn:{}},emits:["updateNewAlbum","updateSwitchBtn","updateNowMapItem"],setup(e,{expose:t,emit:s}){const n=Ws(),r=Vn(),{loginStatus:i}=jn(r),a=I({});let l={},o={};const c=new Bd({radius:30,maxZoom:16,minPoints:2}),h=[],u=[],m=I({}),p=I({lat:null,lng:null}),d={north:25.5,south:21.5,west:118,east:123},w=I(""),S=I(""),y=e,x=I(JSON.parse(JSON.stringify(y.data))),A=s;ce(()=>y.data,()=>{x.value=JSON.parse(JSON.stringify(y.data))},{deep:!0}),ce(y.dataList,()=>{Le()},{deep:!0}),ce(()=>y.editAlbum,()=>{var L;y.editAlbum.item.id!==S.value&&(Q((L=a.value)==null?void 0:L.ready),S.value=y.editAlbum.item.id)},{deep:!0}),ce(()=>{var L;return(L=a.value)==null?void 0:L.ready},L=>{var E,q;L&&(l=(E=a==null?void 0:a.value)==null?void 0:E.map,o=(q=a==null?void 0:a.value)==null?void 0:q.api,o.event.addListenerOnce(l,"idle",()=>{Le(),Q(L),l.addListener("tilesloaded",()=>{}),l.addListener("click",()=>{Z()})}))});const Q=L=>{if(L!==void 0&&y.dataList.length>0){const E=y.dataList.findIndex(q=>q.id===y.editAlbum.item.id);E!==-1&&nt(y.dataList[E])}};ss(()=>{ne()});const ne=async()=>{const L=sessionStorage.getItem("userName");try{const E=await at.get(`/api/GoogleSheet/GoogleKey?Username=${L}`);E.status===200&&E.data.data.length>0&&(w.value=E.data.data[0].key)}catch(E){console.log(E)}},re=async L=>{await vn();const E=L.latLng,q=E.lat(),Oe=E.lng();p.value.lat=q,p.value.lng=Oe,setTimeout(()=>{var ye;let X=new o.InfoWindow({content:(ye=document.getElementById("newInfoWindow"))==null?void 0:ye.innerHTML});X.setPosition({lat:q,lng:Oe}),X.setOptions({pixelOffset:new o.Size(0,-50)}),h.length>0&&Z(),u.length>0&&de(),u.push(X),X.open(l)},10),setTimeout(()=>{const X=document.querySelector(".infoWindowWrap .getCoordinates");X==null||X.addEventListener("click",function(){Wt(L)});const ye=document.querySelector(".infoWindowWrap .newAlbum");ye==null||ye.addEventListener("click",function(){A("updateSwitchBtn","new")})},50)},Z=()=>{const L=h.pop();L==null||L.close()},de=()=>{const L=u.pop();L==null||L.close()},nt=async L=>{m.value=L,await vn(),setTimeout(()=>{var q;let E=new o.InfoWindow({content:(q=document.getElementById("infoWindow"))==null?void 0:q.innerHTML});E.setPosition({lat:Number(L.lat),lng:Number(L.lng)}),E.setOptions({pixelOffset:new o.Size(0,-50)}),h.length>0&&Z(),u.length>0&&de(),h.push(E),E.open(l)},10),setTimeout(()=>{const E=document.querySelector(".infoWindowWrap .more");E==null||E.addEventListener("click",function(){A("updateNowMapItem",`${m.value.type}_${m.value.id}`)})},10)},Le=()=>{setTimeout(()=>{let L;if(y.dataList.length>0){const E=y.dataList[0];L=new o.LatLngBounds(new o.LatLng(Number(E.lat),Number(E.lng)),new o.LatLng(Number(E.lat),Number(E.lng))),y.dataList.forEach(q=>{try{let Oe={lat:Number(q.lat),lng:Number(q.lng)};L.extend(Oe)}catch(Oe){console.log(Oe)}})}else o&&(L=new o.LatLngBounds(new o.LatLng(d.south,d.west),new o.LatLng(d.north,d.east)));l.fitBounds(L)},200)},Wt=L=>{if(y.switchDataBtn==="new"){const{lng:E,lat:q}=Gd(L);x.value.item.lng=String(E),x.value.item.lat=String(q),x.value.item.updateStatus=!1,n.success("複製座標成功"),A("updateNewAlbum",x.value)}};return t({clickMarker:nt,closeNewInfoWindow:de}),(L,E)=>{const q=le("n-icon"),Oe=le("n-empty");return M(),C(tt,null,[w.value!==""?(M(),De(T(dd),{key:0,ref_key:"mapRef",ref:a,styles:T(Zd),"api-key":w.value,zoom:15,onClick:re,onRightclick:re},{default:ge(()=>[Y(T(Ad),{options:{algorithm:T(c)}},{default:ge(()=>[(M(!0),C(tt,null,Rs(y.dataList,X=>(M(),C("div",{key:X.id},[Y(T(Wd),{options:{position:{lat:Number(X.lat),lng:Number(X.lng)}},onClick:di(ye=>nt(X),["stop"])},{default:ge(()=>[f("div",null,[X.type==="0"?(M(),De(q,{key:0,class:"type0",component:T(qn),size:"35"},null,8,["component"])):X.type==="1"?(M(),De(q,{key:1,class:"type1",component:T(Zn),size:"35"},null,8,["component"])):X.type==="2"?(M(),De(q,{key:2,class:"type2",component:T(Jn),size:"35"},null,8,["component"])):X.type==="3"?(M(),De(q,{key:3,class:"type3",component:T(Gn),size:"35"},null,8,["component"])):oe("",!0)])]),_:2},1032,["options","onClick"])]))),128))]),_:1},8,["options"])]),_:1},8,["styles","api-key"])):(M(),C("div",qd,[Y(Oe,{description:"無 Google Map API Key 無法載入"})])),Rt(f("div",Jd,[f("div",Kd,[f("div",Qd,[f("div",null,[Xd,f("p",null,me(m.value.title),1)])]),f("div",eh,[f("div",null,[th,f("p",null,me(m.value.depiction),1)]),sh])])],512),[[$t,!1]]),Rt(f("div",nh,[f("div",rh,[f("div",ih,[f("div",null,[ah,f("p",null,me(p.value.lng),1)])]),f("div",oh,[f("div",null,[lh,f("p",null,me(p.value.lat),1)]),T(i)?(M(),C("div",uh,[Rt(f("button",ch," 建立相簿 ",512),[[$t,y.switchDataBtn!=="new"]]),Rt(f("button",dh," 取得座標 ",512),[[$t,y.switchDataBtn==="new"]])])):oe("",!0)])])],512),[[$t,!1]])],64)}}}),fh={class:"selectDataWrap"},mh=j({__name:"SearchAlbumPage",props:{showAlbumStatus:{type:Boolean},menuOptions:{},data:{}},emits:["updateAlbumStatus","updateNowMapItem"],setup(e,{emit:t}){const s=I([]),n=e,r=I(n.data);ce(()=>n.data,()=>{r.value=n.data},{deep:!0}),ce(r,()=>{i(),l("updateNowMapItem",r.value)}),ss(()=>{i()});const i=()=>{if(!r.value.includes("other")&&!r.value.includes("all")){const o=r.value.split("_")[0];[`${o}_all`,`${o}_all_other`].forEach(h=>{s.value.includes(h)||s.value.push(h)})}else r.value.includes("all")&&[`${r.value.split("_")[0]}_all`].forEach(h=>{s.value.includes(h)||s.value.push(h)})},a=o=>{s.value=o},l=t;return(o,c)=>{const h=le("n-radio"),u=le("n-menu");return M(),C(tt,null,[f("div",fh,[Y(h,{checked:!n.showAlbumStatus,value:"single",name:"single",onChange:c[0]||(c[0]=m=>l("updateAlbumStatus",!1))},{default:ge(()=>[Os(" 各別顯示 ")]),_:1},8,["checked"]),Y(h,{checked:n.showAlbumStatus,value:"all",name:"all",onChange:c[1]||(c[1]=m=>l("updateAlbumStatus",!0))},{default:ge(()=>[Os(" 顯示全部 ")]),_:1},8,["checked"])]),Y(u,{value:r.value,"onUpdate:value":c[2]||(c[2]=m=>r.value=m),"root-indent":36,indent:12,options:n.menuOptions,"expanded-keys":s.value,"onUpdate:expandedKeys":a},null,8,["value","options","expanded-keys"])],64)}}}),ph=zn(mh,[["__scopeId","data-v-09c58f02"]]),ei=(e,t)=>{if(e==null||t===null||t===void 0)return e===t;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(let r of s)if(!ei(e[r],t[r]))return!1;return!0},gh={class:"mapWrap contentWrap"},vh={class:"googleMapWrap"},_h={class:"dataInfoWrap"},yh={class:"titleWrap"},wh={class:"textWrap"},kh=f("span",null,"相簿詳細",-1),Sh={key:0,class:"dataBtnWrap"},Mh=f("div",null,"刪除",-1),xh=f("div",null,"編輯",-1),bh=f("div",null,"取消",-1),Oh=f("div",null,"儲存",-1),Dh={class:"albumMainWrap"},Th={class:"infoWrap"},Ch={class:"itemWrap name"},Yh={class:"iconTitleWrap"},Ph=f("div",null,"名稱",-1),Lh={class:"mainWrap"},Ah={key:1},Nh={class:"itemWrap time"},Ih={class:"iconTitleWrap"},Eh=f("div",null,"建立時間",-1),Wh={class:"mainWrap"},Rh={class:"itemWrap place"},$h={class:"iconTitleWrap"},Fh=f("div",null,"地點",-1),Uh={class:"mainWrap"},zh=f("p",null,"X 軸 : ",-1),Hh=f("p",null,"Y 軸 : ",-1),Vh={class:"itemWrap type"},jh={class:"iconTitleWrap"},Bh=f("div",null,"類型",-1),Zh={class:"mainWrap"},Gh={key:1},qh={class:"itemWrap depiction"},Jh={class:"iconTitleWrap"},Kh=f("div",null,"說明",-1),Qh={class:"mainWrap"},Xh={key:1},ef={class:"itemWrap remark"},tf={class:"iconTitleWrap"},sf=f("div",null,"備註",-1),nf={class:"mainWrap"},rf={key:1},af={class:"imgWrap"},of={key:0,class:"imgsSrcWrap"},lf=["onClick"],uf={key:0,class:"uploadImgWrap"},cf={enctype:"multipart/form-data"},df={class:"mapDataWrap"},hf={class:"titileWrap"},ff=f("div",null,"查詢",-1),mf=f("div",null,"建立",-1),pf={class:"mainWrap"},gf={key:0,class:"searchDataWrap"},vf={key:1,class:"newDataWrap"},wf=j({__name:"MapView",setup(e){const t=Vn(),{loginStatus:s}=jn(t),n=Ws(),r=Un(),i=I(null),a=I("search"),l=I(""),o=I(!0),c=I(!1),h=I("最新一筆"),u=I([]),m=I([]),p=I({item:{newDate:"",locationStaus:"map",updateStatus:!1,title:"",depiction:"",remark:"",lat:"請輸入內容",lng:"請輸入內容",type:"",imgs:""},imgsSrc:[],uploadNum:0,uploadStatus:!1}),d=I({item:{},status:!1,imgsSrc:[],uploadNum:0,uploadStatus:!1}),w=O=>()=>_n(te,null,{default:()=>_n(O)}),S=I([{label:"請選擇類型",value:"",disabled:!0},{label:"登山",value:"0"},{label:"美食",value:"1"},{label:"事件",value:"2"},{label:"其他",value:"3"}]),y=I([{label:"登山",key:"0_all",icon:w(qn),disabled:!0,children:[]},{label:"美食",key:"1_all",icon:w(Zn),disabled:!0,children:[]},{label:"事件",key:"2_all",icon:w(Jn),disabled:!0,children:[]},{label:"其他",key:"3_all",icon:w(Gn),disabled:!0,children:[]}]),x=O=>{if(o.value=O,m.value=JSON.parse(JSON.stringify(u.value)),O)l.value="";else{const v=JSON.parse(JSON.stringify(u.value));if(!l.value.includes("all")){for(const b of y.value)if(!b.disabled&&typeof b.key=="string"){l.value=b.key;break}}const W=v.filter(b=>b.type===l.value.split("_")[0]);m.value=W}};ss(()=>{A()});const A=async()=>{try{const O=await at.get("/api/GoogleSheet/album?Year=");u.value=[],O.status===200&&(u.value=O.data.data,l.value===""&&u.value.length>0&&(l.value=`${u.value[u.value.length-1].type}_${u.value[u.value.length-1].id}`),y.value.forEach(v=>{v.children=[],v.disabled=!0}),u.value.forEach(v=>{y.value.filter(b=>b.key===`${v.type}_all`).forEach(b=>{if(b.children!==void 0){b.children.length===0?(b.children.push({label:"顯示全部",key:b.key}),b.children.push({label:"各別顯示",key:`${b.key}_other`,children:[]}),b.disabled=!0):b.disabled=!1;const R=b.children.find(J=>J.label==="各別顯示");R&&R.children!==void 0&&Array.isArray(R.children)&&(R.children.push({label:v.title,key:`${v.type}_${v.id}`}),b.disabled=!1)}})}))}catch(O){console.log(O)}},Q=O=>{const v=document.querySelector(".infoWindowWrap .newAlbum"),W=document.querySelector(".infoWindowWrap .getCoordinates");if(O==="search"){const{title:b,depiction:R,remark:J,lat:fe,lng:F,type:ee,imgs:we}=p.value.item;b!==""||R!==""||J||fe!=="請輸入內容"||F!=="請輸入內容"||ee!==""||we!==""?r.warning({title:"警告",content:"不儲存送出離開 ?",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{a.value="search",pn(),v.style.display="block",W.style.display="none",x(!0)}}):(a.value="search",v.style.display="block",W.style.display="none")}else d.value.status?r.warning({title:"警告",content:"正在編輯中，請問要取消編輯，改為建立資料嗎 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,a.value="new",p.value.item.newDate=_().format("YYYY-MM-DD HH:mm:ss"),E(),n.success("取消編輯")}}):(a.value="new",p.value.item.newDate=_().format("YYYY-MM-DD HH:mm:ss")),v.style.display="none",W.style.display="block"};ce(u,()=>{if(o.value)m.value=JSON.parse(JSON.stringify(u.value));else{const v=JSON.parse(JSON.stringify(u.value)).filter(W=>W.type===l.value.split("_")[0]);m.value=v}}),ce(l,(O,v)=>{let W=!0,b,R;const J=l.value;if(J===""&&u.value.length>0){l.value=`${u.value[u.value.length-1].type}_${u.value[u.value.length-1].id}`;return}if(J.includes("all")){o.value&&(o.value=!1),b=re.value("all",J.split("_all")[0]);const F=JSON.parse(JSON.stringify(u.value)).filter(ee=>ee.type===l.value.split("_")[0]);m.value=F}else J!==""&&(b=re.value("",J.split("_")[0],J.split("_")[1]));v===void 0||v===""?R=re.value("",d.value.item.type,d.value.item.id):v.includes("all")?R=re.value("all",v.split("_all")[0]):R=re.value("",v.split("_")[0],v.split("_")[1]),d.value.status&&(W=ei(d.value.item,R)),W?(d.value.status&&n.success("取消編輯"),d.value.status=!1,ne(b,J)):r.warning({title:"警告",content:"不儲存編輯離開 ?",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,ne(b,J),n.success("取消編輯")}})});const ne=(O,v)=>{if(O!==void 0){d.value.item=JSON.parse(JSON.stringify(O));const W=d.value.item.imgs.split(",");d.value.imgsSrc=[],d.value.imgsSrc=W,d.value.uploadNum=W.length,v===""?h.value="最新一筆":o.value?v.includes(u.value[u.value.length-1].id)?h.value="最新一筆":h.value=`${ye.value} - ${v.includes("all")?"最新一筆":"各別顯示"}`:h.value=`${ye.value} - ${v.includes("all")?"最新一筆":"各別顯示"}`}else n.warning("無資料"),d.value.item={},d.value.imgsSrc=[],d.value.uploadNum=0},re=Ot(()=>(O,v,W)=>{if(O==="all"){const b=u.value.filter(R=>R.type===v);return b.length>0?b[b.length-1]:void 0}else{const b=u.value.filter(R=>R.id===W);return b.length>0?b[0]:void 0}}),Z=(O,v,W,b,R)=>{const J=document.querySelector(`#${v}`),fe=O.target.files[0],F=new FileReader;F.readAsDataURL(fe),F.onload=async function(ee){Le(R,"status");let we="";W[b]="",ee.target.result.toString().length/1024>500?de(ee.target.result.toString(),500,async function(si){we=si,W[b]=await nt(we,R),Le(R,"increase")}):(we=ee.target.result.toString(),W[b]=await nt(we,R),Le(R,"increase")),J.value=""}},de=(O,v,W)=>{let b=new Image;b.src=O,b.onload=function(){let R=document.createElement("canvas"),J=R.getContext("2d"),fe=b.width,F=b.height,ee=1;R.width=fe*ee,R.height=F*ee,J.drawImage(b,0,0,fe*ee,F*ee);let we=R.toDataURL("image/png",.9);for(;we.length>v*1024;)ee*=.9,R.width=fe*ee,R.height=F*ee,J.drawImage(b,0,0,fe*ee,F*ee),we=R.toDataURL("image/png",.9);W(we)}},nt=async(O,v)=>{const W=new FormData;W.append("base64string",O);try{const b=await at.post("/api/Imgur",W);return Le(v,"status"),b.data}catch(b){Le(v,"status"),n.error("上傳失敗"),console.log(b)}},Le=(O,v)=>{O==="new"?v==="status"?p.value.uploadStatus?p.value.uploadStatus=!1:p.value.uploadStatus=!0:v==="increase"?p.value.uploadNum+=1:p.value.uploadNum-=1:v==="status"?d.value.uploadStatus?d.value.uploadStatus=!1:d.value.uploadStatus=!0:v==="increase"?d.value.uploadNum+=1:d.value.uploadNum+-1},Wt=(O,v,W)=>{v.splice(W,1),Le(O,"decrease")},L=()=>{c.value=!0,r.warning({title:"警告",content:"取消編輯 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,E(),c.value=!1,n.success("取消編輯")},onNegativeClick:()=>{c.value=!1}})},E=()=>{let O;l.value.includes("all")?O=re.value("all",d.value.item.type):O=re.value("",d.value.item.type,d.value.item.id),ne(O,l.value)},q=()=>{d.value.status=!0},Oe=async()=>{var v,W;if(c.value=!0,d.value.item.imgs=d.value.imgsSrc.filter(b=>b!=="").map(b=>b).join(","),d.value.item.title===""){n.warning("請輸入相簿名稱");return}if(d.value.item.type===""){n.warning("請選擇類型");return}if(d.value.item.depiction===""){n.warning("請輸入相簿敘述");return}if(d.value.item.remark===""){n.warning("請輸入備註");return}if(d.value.item.imgs.length===0){n.warning("請上傳照片");return}if(d.value.item.lat===""||d.value.item.lng===""){n.warning("請選擇地點");return}const O=new FormData;O.append("Id",String(d.value.item.id)),O.append("Name",d.value.item.title),O.append("Time",String(d.value.item.time)),O.append("Lat",String(d.value.item.lat)),O.append("Lng",String(d.value.item.lng)),O.append("Type",String(d.value.item.type)),O.append("Depiction",d.value.item.depiction),O.append("Remark",d.value.item.remark),O.append("Imgs",String(d.value.item.imgs));try{if((await at.put("/api/GoogleSheet/album",O)).status===200){n.success("修改成功"),d.value.status=!1,await A(),l.value=`${d.value.item.type}_${d.value.item.id}`,(v=i.value)==null||v.closeNewInfoWindow();const R=u.value.findIndex(J=>J.id===d.value.item.id);R!==-1&&((W=i.value)==null||W.clickMarker(u.value[R])),c.value=!1}}catch(b){console.log(b),c.value=!1,n.error("修改失敗")}},X=O=>{c.value=!0,O!==void 0&&r.warning({title:"警告",content:"請問刪除此相簿嗎 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{try{(await at.delete(`/api/GoogleSheet/album?albumId=${O}`)).status===200&&(n.success("刪除成功"),d.value.status&&(d.value.status=!1),await A(),l.value="",c.value=!1)}catch(v){console.log(v),c.value=!1,n.error("刪除失敗")}},onNegativeClick:()=>{n.success("取消刪除"),c.value=!1}})},ye=Ot(()=>{const O=S.value.find(v=>v.value===d.value.item.type);return O?O.label:d.value.item.type}),pn=()=>{p.value.item={newDate:_().format("YYYY-MM-DD HH:mm:ss"),locationStaus:"map",title:"",depiction:"",remark:"",lat:"請輸入內容",lng:"請輸入內容",type:"",imgs:""},p.value.imgsSrc=[],p.value.uploadNum=0},gn=O=>{p.value=O},ti=async()=>{var O,v;await A(),l.value="",(O=i.value)==null||O.closeNewInfoWindow(),(v=i.value)==null||v.clickMarker(u.value[u.value.length-1])};return(O,v)=>{const W=le("n-input"),b=le("n-select"),R=le("n-space"),J=le("n-image"),fe=le("n-spin");return M(),C("div",gh,[f("div",vh,[Y(hh,{ref_key:"mapRef",ref:i,dataList:m.value,data:p.value,switchDataBtn:a.value,editAlbum:d.value,onUpdateSwitchBtn:Q,onUpdateNowMapItem:v[0]||(v[0]=F=>l.value=F),onUpdateNewAlbum:gn},null,8,["dataList","data","switchDataBtn","editAlbum"]),f("div",_h,[Y(fe,{size:"medium",show:c.value},{default:ge(()=>[f("div",{class:ps(["dataMainWrap",T(s)?"loginStatus":""])},[f("div",yh,[f("div",wh,[kh,f("p",null,me(h.value),1)]),T(s)&&Object.keys(d.value.item).length>0?(M(),C("div",Sh,[T(s)?(M(),C("div",{key:0,title:"刪除",class:"delete",onClick:v[1]||(v[1]=F=>X(d.value.item.id))},[Y(T(te),{component:T(Ci),size:"30"},null,8,["component"]),Mh])):oe("",!0),!d.value.status&&a.value!=="new"?(M(),C("div",{key:1,title:"編輯",class:"edit",onClick:q},[Y(T(te),{component:T(bi),size:"30"},null,8,["component"]),xh])):oe("",!0),d.value.status?(M(),C("div",{key:2,title:"取消",class:"cancel",onClick:L},[Y(T(te),{component:T(Wi),size:"30"},null,8,["component"]),bh])):oe("",!0),d.value.status?(M(),C("div",{key:3,title:"儲存",class:"save",onClick:Oe},[Y(T(te),{component:T(Bn),size:"30"},null,8,["component"]),Oh])):oe("",!0)])):oe("",!0)]),f("div",Dh,[f("div",Th,[f("div",Ch,[f("div",Yh,[f("div",null,[Y(T(te),{title:"名稱",component:T(Sa),size:"25"},null,8,["component"]),Ph])]),f("div",Lh,[d.value.status?(M(),De(W,{key:0,type:"text",value:d.value.item.title,"onUpdate:value":v[2]||(v[2]=F=>d.value.item.title=F),placeholder:"請輸入內容"},null,8,["value"])):(M(),C("p",Ah,me(d.value.item.title),1))])]),f("div",Nh,[f("div",Ih,[f("div",null,[Y(T(te),{title:"建立時間",component:T(ea),size:"25"},null,8,["component"]),Eh])]),f("div",Wh,[f("p",null,me(d.value.item.time),1)])]),f("div",Rh,[f("div",$h,[f("div",null,[Y(T(te),{title:"地點",component:T(Oa),size:"25"},null,8,["component"]),Fh])]),f("div",Uh,[f("div",null,[zh,f("p",null,me(d.value.item.lng),1)]),f("div",null,[Hh,f("p",null,me(d.value.item.lat),1)])])]),f("div",Vh,[f("div",jh,[f("div",null,[Y(T(te),{title:"類型",component:T(la),size:"25"},null,8,["component"]),Bh])]),f("div",Zh,[d.value.status?(M(),De(R,{key:0,vertical:""},{default:ge(()=>[Y(b,{value:d.value.item.type,"onUpdate:value":v[3]||(v[3]=F=>d.value.item.type=F),options:S.value,placeholder:"請選擇類型"},null,8,["value","options"])]),_:1})):(M(),C("p",Gh,me(ye.value),1))])]),f("div",qh,[f("div",Jh,[f("div",null,[Y(T(te),{title:"說明",component:T(Zi),size:"25"},null,8,["component"]),Kh])]),f("div",Qh,[d.value.status?(M(),De(W,{key:0,class:"textareaStyle",type:"textarea",value:d.value.item.depiction,"onUpdate:value":v[4]||(v[4]=F=>d.value.item.depiction=F),placeholder:"請輸入內容"},null,8,["value"])):(M(),C("p",Xh,me(d.value.item.depiction),1))])]),f("div",ef,[f("div",tf,[f("div",null,[Y(T(te),{title:"備註",component:T(Ai),size:"25"},null,8,["component"]),sf])]),f("div",nf,[d.value.status?(M(),De(W,{key:0,class:"textareaStyle",type:"textarea",value:d.value.item.remark,"onUpdate:value":v[5]||(v[5]=F=>d.value.item.remark=F),placeholder:"請輸入內容"},null,8,["value"])):(M(),C("p",rf,me(d.value.item.remark),1))])])]),f("div",af,[Y(fe,{size:"medium",show:d.value.uploadStatus},{default:ge(()=>[(M(!0),C(tt,null,Rs(d.value.imgsSrc,(F,ee)=>(M(),C(tt,{key:F},[F!==""?(M(),C("div",of,[d.value.status?(M(),C("div",{key:0,class:"deleteIconWrap",onClick:we=>Wt("edit",d.value.imgsSrc,ee)},[Y(T(te),{component:T(Jt),size:"18"},null,8,["component"])],8,lf)):oe("",!0),Y(J,{src:F},null,8,["src"])])):oe("",!0)],64))),128)),d.value.status?(M(),C("div",uf,[f("label",cf,[Y(T(te),{component:T(Jt),size:"25"},null,8,["component"]),f("input",{type:"file",max:"1",id:"edit_img_uploader",accept:"image/*",onChange:v[6]||(v[6]=F=>Z(F,"edit_img_uploader",d.value.imgsSrc,d.value.uploadNum,"edit"))},null,32)])])):oe("",!0)]),_:1},8,["show"])])])],2)]),_:1},8,["show"])])]),f("div",df,[f("div",hf,[T(s)?(M(),C("div",{key:0,title:"查詢",class:ps(a.value==="search"?"active":""),onClick:v[7]||(v[7]=F=>Q("search"))},[Y(T(te),{component:T(ga),size:"30"},null,8,["component"]),ff],2)):oe("",!0),T(s)?(M(),C("div",{key:1,class:ps(a.value==="search"?"":"active"),onClick:v[8]||(v[8]=F=>Q("new")),title:"建立"},[Y(T(te),{component:T(ra),size:"25"},null,8,["component"]),mf],2)):oe("",!0)]),f("div",pf,[a.value==="search"?(M(),C("section",gf,[Y(ph,{showAlbumStatus:o.value,menuOptions:y.value,data:l.value,onUpdateAlbumStatus:x,onUpdateNowMapItem:v[9]||(v[9]=F=>l.value=F)},null,8,["showAlbumStatus","menuOptions","data"])])):(M(),C("section",vf,[Y(td,{options:S.value,data:p.value,onDeleteImage:Wt,onInitNewAlbum:pn,onUpdateNewAlbum:gn,onAddedSuccess:ti,onUploadImages:Z},null,8,["options","data"])]))])])])}}});export{wf as default};
