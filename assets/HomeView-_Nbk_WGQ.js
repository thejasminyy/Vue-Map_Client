import{a as S}from"./axios-2QEPeKqa.js";import{d as _,o,c as a,a as t,u as A,r as f,f as M,g as h,n as N,h as n,j as w,w as r,q as x,F as k,v as z}from"./index-4H-fh2GH.js";const V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},H=t("g",{fill:"none"},[t("path",{d:"M10.295 19.715a1 1 0 0 0 1.404-1.424l-5.37-5.292h13.67a1 1 0 0 0 0-2H6.336l5.364-5.285a1 1 0 0 0-1.404-1.424L3.37 11.112a1.25 1.25 0 0 0 0 1.78l6.924 6.823z",fill:"currentColor"})],-1),D=[H],b=_({name:"ArrowLeft24Filled",render:function(c,i){return o(),a("svg",V,D)}}),T={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},I=t("g",{fill:"none"},[t("path",{d:"M13.704 4.284a1 1 0 1 0-1.403 1.424L17.67 11H4a1 1 0 1 0 0 2h13.665L12.3 18.285a1 1 0 0 0 1.403 1.424l6.925-6.822a1.25 1.25 0 0 0 0-1.78l-6.925-6.823z",fill:"currentColor"})],-1),E=[I],U=_({name:"ArrowRight24Filled",render:function(c,i){return o(),a("svg",T,E)}}),j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},q=t("path",{d:"M20 3h-1V2c0-.55-.45-1-1-1s-1 .45-1 1v1H7V2c0-.55-.45-1-1-1s-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 18H5c-.55 0-1-.45-1-1V8h16v12c0 .55-.45 1-1 1z",fill:"currentColor"},null,-1),G=[q],y=_({name:"CalendarTodayRound",render:function(c,i){return o(),a("svg",j,G)}}),J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},K=t("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5s5-2.24 5-5s-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z",fill:"currentColor"},null,-1),O=[K],P=_({name:"RadioButtonCheckedFilled",render:function(c,i){return o(),a("svg",J,O)}}),Q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},X=t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z",fill:"currentColor"},null,-1),Z=[X],ee=_({name:"RadioButtonUncheckedFilled",render:function(c,i){return o(),a("svg",Q,Z)}}),te={class:"homeWrap contentWrap"},ne={class:"mainWrap"},oe={class:"wrap"},ie={class:"timeLineWrap"},le={class:"timelineDataWrap"},ae={class:"carouselWrap"},se=["src"],re={key:1,class:"noDataWrap"},de=_({__name:"HomeView",setup(v){const c=A(),i=f(0),L=f(window.innerWidth),e=f({nowTime:new Date,nowYear:0,timeLineNowYear:0});M(()=>{e.value.nowYear=e.value.nowTime.getFullYear(),e.value.timeLineNowYear=e.value.nowYear,C()});const Y=l=>{i.value!==l&&(i.value=l)},u=f([]),C=async()=>{try{const l=await S.get(`/api/GoogleSheet/album?Year=${String(e.value.timeLineNowYear)}`);u.value=[],l.status===200&&(u.value=l.data.data,i.value=0)}catch(l){console.log(l)}},$=l=>{if(e.value.timeLineNowYear=parseInt(e.value.timeLineNowYear,10),l===-1){if(e.value.timeLineNowYear-=1,e.value.timeLineNowYear<2020){e.value.timeLineNowYear+=1,c.error("請勿選取低於2020年份");return}}else if(l===1&&(e.value.timeLineNowYear+=1,e.value.timeLineNowYear>e.value.nowYear)){e.value.timeLineNowYear-=1,c.error("請勿超過當前年份");return}C()};return window.addEventListener("resize",()=>{L.value=window.innerWidth}),(l,p)=>{const d=h("n-icon"),g=h("n-timeline-item"),B=h("n-timeline"),F=h("n-carousel"),W=h("n-empty");return o(),a("div",te,[t("div",ne,[t("div",oe,[t("div",ie,[t("div",null,[t("span",{class:N(e.value.timeLineNowYear===2020?"invalidYearStyle":""),onClick:p[0]||(p[0]=s=>$(-1))},[n(d,{component:w(b),size:"25"},null,8,["component"])],2),t("div",le,[n(B,{"item-placement":"right",size:"medium",horizontal:!(L.value>=992)},{default:r(()=>[n(g,{content:String(e.value.timeLineNowYear)},{icon:r(()=>[n(d,null,{default:r(()=>[n(w(y))]),_:1})]),_:1},8,["content"]),(o(!0),a(k,null,z(u.value,(s,m)=>(o(),a(k,{key:m},[m===i.value?(o(),x(g,{key:0,class:"active",type:"success",title:s.title,content:s.depiction,time:s.time,onClick:R=>Y(m)},{icon:r(()=>[n(d,null,{default:r(()=>[n(w(P))]),_:1})]),_:2},1032,["title","content","time","onClick"])):(o(),x(g,{key:1,title:s.title,content:s.depiction,time:s.time,onClick:R=>Y(m)},{icon:r(()=>[n(d,null,{default:r(()=>[n(w(ee))]),_:1})]),_:2},1032,["title","content","time","onClick"]))],64))),128)),n(g,{content:String(e.value.timeLineNowYear)},{icon:r(()=>[n(d,null,{default:r(()=>[n(w(y))]),_:1})]),_:1},8,["content"])]),_:1},8,["horizontal"])]),t("span",{class:N(e.value.timeLineNowYear===e.value.nowYear?"invalidYearStyle":""),onClick:p[1]||(p[1]=s=>$(1))},[n(d,{component:w(U),size:"25"},null,8,["component"])],2)])]),t("div",ae,[u.value[i.value]!==void 0&&u.value[i.value].imgs!==""?(o(),x(F,{key:0,autoplay:""},{default:r(()=>[(o(!0),a(k,null,z(u.value[i.value].imgs.split(","),(s,m)=>(o(),a("img",{key:m,class:"carousel-img",src:s.trim()},null,8,se))),128))]),_:1})):(o(),a("div",re,[n(W,{description:"此年份無資料"})]))])])])])}}});export{de as default};
