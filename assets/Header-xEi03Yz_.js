import{_ as V}from"./logoIcon-fR31A5ZO.js";import{d as _,o as s,c as a,k as D,a as e,b as M,s as E,e as P,u as T,r as $,f as I,l as y,g as w,n as r,h as c,j as i,w as W,m as p,t as C,p as O,F as U}from"./index-Dwr6cGsX.js";const F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},J=D('<path d="M256 464c-114.69 0-208-93.31-208-208S141.31 48 256 48s208 93.31 208 208s-93.31 208-208 208zm0-384c-97 0-176 79-176 176s79 176 176 176s176-78.95 176-176S353.05 80 256 80z" fill="currentColor"></path><path d="M323.67 292c-17.4 0-34.21-7.72-47.34-21.73a83.76 83.76 0 0 1-22-51.32c-1.47-20.7 4.88-39.75 17.88-53.62S303.38 144 323.67 144c20.14 0 38.37 7.62 51.33 21.46s19.47 33 18 53.51a84 84 0 0 1-22 51.3C357.86 284.28 341.06 292 323.67 292zm55.81-74z" fill="currentColor"></path><path d="M163.82 295.36c-29.76 0-55.93-27.51-58.33-61.33c-1.23-17.32 4.15-33.33 15.17-45.08s26.22-18 43.15-18s32.12 6.44 43.07 18.14s16.5 27.82 15.25 45c-2.44 33.77-28.6 61.27-58.31 61.27z" fill="currentColor"></path><path d="M420.37 355.28c-1.59-4.7-5.46-9.71-13.22-14.46c-23.46-14.33-52.32-21.91-83.48-21.91c-30.57 0-60.23 7.9-83.53 22.25c-26.25 16.17-43.89 39.75-51 68.18c-1.68 6.69-4.13 19.14-1.51 26.11a192.18 192.18 0 0 0 232.75-80.17z" fill="currentColor"></path><path d="M163.63 401.37c7.07-28.21 22.12-51.73 45.47-70.75a8 8 0 0 0-2.59-13.77c-12-3.83-25.7-5.88-42.69-5.88c-23.82 0-49.11 6.45-68.14 18.17c-5.4 3.33-10.7 4.61-14.78 5.75a192.84 192.84 0 0 0 77.78 86.64l1.79-.14a102.82 102.82 0 0 1 3.16-20.02z" fill="currentColor"></path>',5),j=[J],q=_({name:"PeopleCircleOutline",render:function(m,d){return s(),a("svg",F,j)}}),G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},K=e("g",{fill:"none"},[e("path",{d:"M6 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4.257a5.503 5.503 0 0 1-.657-1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v5.022c.343.031.678.094 1 .185V4a2 2 0 0 0-2-2H6zm2 8a1 1 0 1 1-2 0a1 1 0 0 1 2 0zm6.5 9a4.5 4.5 0 1 0 0-9a4.5 4.5 0 0 0 0 9zm.354-2.146a.5.5 0 0 1-.708-.708L15.293 15H12.5a.5.5 0 0 1 0-1h2.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 .146.351v.006a.5.5 0 0 1-.144.348l-.003.003l-2 2z",fill:"currentColor"})],-1),Q=[K],X=_({name:"DoorArrowRight20Regular",render:function(m,d){return s(),a("svg",G,Q)}}),Y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Z=e("path",{d:"M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",fill:"currentColor"},null,-1),ee=[Z],te=_({name:"AlignJustify",render:function(m,d){return s(),a("svg",Y,ee)}}),oe={class:"headerWrap"},ne={class:"sideMenuBtnWrap"},se={key:0,class:"smallLogoWrap"},ae=e("img",{src:V,alt:""},null,-1),le=[ae],re={class:"menuWrap"},ue={key:1,class:"userDetailedWrap"},ie={class:"avatarWrap"},ce=e("span",null,null,-1),de=e("span",null,null,-1),ve={class:"userMainWrap"},pe={class:"userName"},me=e("p",null,"登入時間",-1),he={class:"signOutWrap"},fe=_({__name:"Header",setup(f){const m=M(),{loginStatus:d,loginTime:b,userName:h}=E(m),{initLoginData:R}=M(),z=P(),S=T(),n=$(!1),l=$(window.innerWidth);I(()=>{const t=sessionStorage.getItem("userName"),o=sessionStorage.getItem("loginTime");t!==""&&t!==null&&t!==void 0&&(t!=="訪客"?d.value=!0:d.value=!1,h.value=t,b.value=o)});const v=$(!1),H=()=>{v.value?(v.value=!1,document.body.removeEventListener("click",g,!1)):(v.value=!0,setTimeout(()=>{document.body.addEventListener("click",g,!1)},10))},g=t=>{const o=document.querySelector(".userDetailedWrap");t.composedPath().includes(o)||(v.value=!1,document.body.removeEventListener("click",g,!1))},x=()=>{n.value?n.value=!1:n.value=!0},A=()=>{R(),S.success("登出"),z.push("/")};return window.addEventListener("resize",()=>{l.value=window.innerWidth}),y(l,()=>{l.value>992&&n.value&&(n.value=!1)}),y(()=>z.currentRoute.value.name,()=>{n.value&&(n.value=!1)}),(t,o)=>{const k=w("n-icon"),L=w("n-drawer-content"),N=w("n-drawer"),B=w("router-view");return s(),a(U,null,[e("div",oe,[e("div",{class:r(["sideMenuWrap",,l.value>=992?"hideStyle":""])},[c(k,{component:i(te),class:r({open:n.value,close:!n.value}),size:"20",onClick:x},null,8,["component","class"])],2),c(N,{show:n.value,"onUpdate:show":o[3]||(o[3]=u=>n.value=u),width:502,placement:"left"},{default:W(()=>[c(L,{title:t.$router.currentRoute.value.name},{default:W(()=>[e("div",ne,[e("button",{type:"button",class:r(t.$router.currentRoute.value.name=="Home"?"active":""),onClick:o[0]||(o[0]=u=>t.$router.push("/home"))}," Home ",2),e("button",{type:"button",class:r(t.$router.currentRoute.value.name=="About"?"active":""),onClick:o[1]||(o[1]=u=>t.$router.push("/about"))}," About Me ",2),e("button",{type:"button",class:r(t.$router.currentRoute.value.name=="Map"?"active":""),onClick:o[2]||(o[2]=u=>t.$router.push("/map"))}," Map ",2)])]),_:1},8,["title"])]),_:1},8,["show"]),l.value<=992?(s(),a("div",se,le)):p("",!0),e("div",re,[l.value>=992?(s(),a("button",{key:0,type:"button",class:r(t.$router.currentRoute.value.name=="Home"?"active":""),onClick:o[4]||(o[4]=u=>t.$router.push("/home"))}," Home ",2)):p("",!0),l.value>=992?(s(),a("button",{key:1,type:"button",class:r(t.$router.currentRoute.value.name=="About"?"active":""),onClick:o[5]||(o[5]=u=>t.$router.push("/about"))}," About Me ",2)):p("",!0),l.value>=992?(s(),a("button",{key:2,type:"button",class:r(t.$router.currentRoute.value.name=="Map"?"active":""),onClick:o[6]||(o[6]=u=>t.$router.push("/map"))}," Map ",2)):p("",!0),c(k,{title:"登入詳細",component:i(q),size:"24",onClick:H},null,8,["component"])]),v.value?(s(),a("div",ue,[e("section",ie,[ce,e("div",null,[e("p",null,C(i(h)!==void 0?i(h).charAt(0):"--"),1)]),de]),e("section",ve,[e("div",pe,[e("p",null,C(i(h)),1)]),me,e("p",null,C(i(b)),1)]),e("section",he,[e("button",{onClick:A},[O(" 登出 "),c(k,{component:i(X),size:"20"},null,8,["component"])])])])):p("",!0)]),c(B)],64)}}});export{fe as default};
