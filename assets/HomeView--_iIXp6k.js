import{a as R}from"./axios-2QEPeKqa.js";import{d as _,o as i,c as r,a as t,u as S,r as g,f as V,g as f,n as $,h as n,j as w,w as s,F as x,q as N,v as z,m as A}from"./index-Vf2u-P0U.js";const M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},H=t("g",{fill:"none"},[t("path",{d:"M10.295 19.715a1 1 0 0 0 1.404-1.424l-5.37-5.292h13.67a1 1 0 0 0 0-2H6.336l5.364-5.285a1 1 0 0 0-1.404-1.424L3.37 11.112a1.25 1.25 0 0 0 0 1.78l6.924 6.823z",fill:"currentColor"})],-1),b=[H],D=_({name:"ArrowLeft24Filled",render:function(c,o){return i(),r("svg",M,b)}}),T={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},I=t("g",{fill:"none"},[t("path",{d:"M13.704 4.284a1 1 0 1 0-1.403 1.424L17.67 11H4a1 1 0 1 0 0 2h13.665L12.3 18.285a1 1 0 0 0 1.403 1.424l6.925-6.822a1.25 1.25 0 0 0 0-1.78l-6.925-6.823z",fill:"currentColor"})],-1),E=[I],U=_({name:"ArrowRight24Filled",render:function(c,o){return i(),r("svg",T,E)}}),j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},q=t("path",{d:"M20 3h-1V2c0-.55-.45-1-1-1s-1 .45-1 1v1H7V2c0-.55-.45-1-1-1s-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 18H5c-.55 0-1-.45-1-1V8h16v12c0 .55-.45 1-1 1z",fill:"currentColor"},null,-1),G=[q],B=_({name:"CalendarTodayRound",render:function(c,o){return i(),r("svg",j,G)}}),J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},K=t("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5s5-2.24 5-5s-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z",fill:"currentColor"},null,-1),O=[K],P=_({name:"RadioButtonCheckedFilled",render:function(c,o){return i(),r("svg",J,O)}}),Q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},X=t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z",fill:"currentColor"},null,-1),Z=[X],ee=_({name:"RadioButtonUncheckedFilled",render:function(c,o){return i(),r("svg",Q,Z)}}),te={class:"homeWrap contentWrap"},ne={class:"mainWrap"},oe={class:"wrap"},ie={class:"timeLineWrap"},ae={class:"timelineDataWrap"},le={class:"carouselWrap"},se=["src"],ue=_({__name:"HomeView",setup(v){const c=S(),o=g(0),k=g(window.innerWidth),e=g({nowTime:new Date,nowYear:0,timeLineNowYear:0});V(()=>{e.value.nowYear=e.value.nowTime.getFullYear(),e.value.timeLineNowYear=e.value.nowYear,Y()});const L=a=>{o.value!==a&&(o.value=a)},u=g([]),Y=async()=>{try{const a=await R.get(`/api/GoogleSheet/album?Year=${String(e.value.timeLineNowYear)}`);u.value=[],a.status===200&&(u.value=a.data.data,o.value=0)}catch(a){console.log(a)}},C=a=>{if(e.value.timeLineNowYear=parseInt(e.value.timeLineNowYear,10),a===-1){if(e.value.timeLineNowYear-=1,e.value.timeLineNowYear<2020){e.value.timeLineNowYear+=1,c.error("請勿選取低於2020年份");return}}else if(a===1&&(e.value.timeLineNowYear+=1,e.value.timeLineNowYear>e.value.nowYear)){e.value.timeLineNowYear-=1,c.error("請勿超過當前年份");return}Y()};return window.addEventListener("resize",()=>{k.value=window.innerWidth}),(a,h)=>{const d=f("n-icon"),p=f("n-timeline-item"),y=f("n-timeline"),F=f("n-carousel");return i(),r("div",te,[t("div",ne,[t("div",oe,[t("div",ie,[t("div",null,[t("span",{class:$(e.value.timeLineNowYear===2020?"invalidYearStyle":""),onClick:h[0]||(h[0]=l=>C(-1))},[n(d,{component:w(D),size:"25"},null,8,["component"])],2),t("div",ae,[n(y,{"item-placement":"right",size:"medium",horizontal:!(k.value>=992)},{default:s(()=>[n(p,{content:String(e.value.timeLineNowYear)},{icon:s(()=>[n(d,null,{default:s(()=>[n(w(B))]),_:1})]),_:1},8,["content"]),(i(!0),r(x,null,N(u.value,(l,m)=>(i(),r(x,{key:m},[m===o.value?(i(),z(p,{key:0,class:"active",type:"success",title:l.title,content:l.depiction,time:l.time,onClick:W=>L(m)},{icon:s(()=>[n(d,null,{default:s(()=>[n(w(P))]),_:1})]),_:2},1032,["title","content","time","onClick"])):(i(),z(p,{key:1,title:l.title,content:l.depiction,time:l.time,onClick:W=>L(m)},{icon:s(()=>[n(d,null,{default:s(()=>[n(w(ee))]),_:1})]),_:2},1032,["title","content","time","onClick"]))],64))),128)),n(p,{content:String(e.value.timeLineNowYear)},{icon:s(()=>[n(d,null,{default:s(()=>[n(w(B))]),_:1})]),_:1},8,["content"])]),_:1},8,["horizontal"])]),t("span",{class:$(e.value.timeLineNowYear===e.value.nowYear?"invalidYearStyle":""),onClick:h[1]||(h[1]=l=>C(1))},[n(d,{component:w(U),size:"25"},null,8,["component"])],2)])]),t("div",le,[n(F,{autoplay:""},{default:s(()=>[u.value[o.value]!==void 0&&u.value[o.value].imgs!==""?(i(!0),r(x,{key:0},N(u.value[o.value].imgs.split(","),(l,m)=>(i(),r("img",{key:m,class:"carousel-img",src:l.trim()},null,8,se))),128)):A("",!0)]),_:1})])])])])}}});export{ue as default};
