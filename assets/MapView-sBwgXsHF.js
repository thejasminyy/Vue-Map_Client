import{a as it}from"./axios-2QEPeKqa.js";import{d as V,o as S,c as T,a as f,u as $n,x as Fn,r as $,l as ce,f as Lt,g as oe,h as Y,w as De,j as C,F as Ge,p as bs,v as Es,N as se,m as ae,y as si,z as ni,_ as Un,A as Mt,B as Bt,C as lt,D as Ws,E as zn,G as ri,H as ii,I as bt,J as ai,K as oi,L as li,M as ui,b as Hn,s as jn,q as Ne,O as Rt,t as fe,P as $t,Q as pn,R as ci,n as ms,S as gn}from"./index-NI0wkoeM.js";const di={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},hi=f("g",{fill:"none"},[f("path",{d:"M10.5 2.75a.75.75 0 0 0-1.5 0V9H2.75a.75.75 0 0 0 0 1.5H9v6.25a.75.75 0 0 0 1.5 0V10.5h6.25a.75.75 0 0 0 0-1.5H10.5V2.75z",fill:"currentColor"})],-1),fi=[hi],Jt=V({name:"Add20Filled",render:function(t,s){return S(),T("svg",di,fi)}}),mi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},pi=f("g",{fill:"none"},[f("path",{d:"M5 16C5 9.925 9.925 5 16 5c2.923 0 5.58 1.14 7.55 3h-2.3a1.25 1.25 0 1 0 0 2.5h4.5c.69 0 1.25-.56 1.25-1.25v-4.5a1.25 1.25 0 1 0-2.5 0v.761A13.444 13.444 0 0 0 16 2.5C8.544 2.5 2.5 8.544 2.5 16S8.544 29.5 16 29.5S29.5 23.456 29.5 16c0-.28-.009-.558-.025-.833c-.041-.673-.621-1.167-1.296-1.167c-.708 0-1.239.643-1.198 1.35c.013.215.019.432.019.65c0 6.075-4.925 11-11 11S5 22.075 5 16z",fill:"currentColor"})],-1),gi=[pi],vi=V({name:"ArrowClockwise32Filled",render:function(t,s){return S(),T("svg",mi,gi)}}),_i={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},yi=f("g",{fill:"none"},[f("path",{d:"M7.032 13.907l-3.471-3.905a.75.75 0 0 0-1.122.996l4 4.5a.75.75 0 0 0 1.091.032l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.938 9.937z",fill:"currentColor"})],-1),wi=[yi],Vn=V({name:"Checkmark20Filled",render:function(t,s){return S(),T("svg",_i,wi)}}),ki={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Si=f("g",{fill:"none"},[f("path",{d:"M20 4.746a2.75 2.75 0 0 0-2.75-2.75H4.75A2.75 2.75 0 0 0 2 4.746v12.5a2.75 2.75 0 0 0 2.75 2.75h6.666l.105-.42c.096-.384.253-.748.463-1.08H4.75c-.69 0-1.25-.56-1.25-1.25v-12.5c0-.69.56-1.25 1.25-1.25h12.5c.69 0 1.25.56 1.25 1.25v7.113c.437-.4.956-.66 1.5-.781V4.746zm-4 9.608V6.73l-.007-.1A.744.744 0 0 0 15.25 6a.74.74 0 0 0-.75.73v8.541l.007.099c.017.125.067.24.142.337L16 14.355zm-8.507-5.71A.75.75 0 0 0 6.75 8a.748.748 0 0 0-.75.747v6.507l.007.101c.05.365.363.645.743.645c.414 0 .75-.334.75-.746V8.746l-.007-.101zm4.214 2.973a.73.73 0 0 0-.732-.62a.73.73 0 0 0-.725.733l.035 3.547l.008.099a.731.731 0 0 0 .732.62a.73.73 0 0 0 .725-.733l-.035-3.548l-.008-.098zm7.393 1.052l-5.903 5.902a2.686 2.686 0 0 0-.706 1.248l-.458 1.83a1.087 1.087 0 0 0 1.319 1.319l1.83-.458a2.685 2.685 0 0 0 1.248-.706l5.902-5.903A2.286 2.286 0 0 0 19.1 12.67z",fill:"currentColor"})],-1),Mi=[Si],xi=V({name:"DataUsageEdit24Regular",render:function(t,s){return S(),T("svg",ki,Mi)}}),bi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},Oi=f("g",{fill:"none"},[f("path",{d:"M24 7.25a5.75 5.75 0 0 1 5.746 5.53l.004.22H37a1.25 1.25 0 0 1 .128 2.493L37 15.5h-1.091l-1.703 22.57A4.25 4.25 0 0 1 29.968 42H18.032a4.25 4.25 0 0 1-4.238-3.93L12.09 15.5H11a1.25 1.25 0 0 1-1.244-1.122l-.006-.128c0-.647.492-1.18 1.122-1.243L11 13h7.25A5.75 5.75 0 0 1 24 7.25zm9.402 8.25H14.598l1.69 22.382a1.75 1.75 0 0 0 1.744 1.618h11.936a1.75 1.75 0 0 0 1.745-1.618l1.69-22.382zm-6.152 5.25c.647 0 1.18.492 1.244 1.122L28.5 22v11a1.25 1.25 0 0 1-2.494.128L26 33V22c0-.69.56-1.25 1.25-1.25zm-6.5 0c.647 0 1.18.492 1.244 1.122L22 22v11a1.25 1.25 0 0 1-2.494.128L19.5 33V22c0-.69.56-1.25 1.25-1.25zm3.25-11a3.25 3.25 0 0 0-3.245 3.066L20.75 13h6.5A3.25 3.25 0 0 0 24 9.75z",fill:"currentColor"})],-1),Di=[Oi],Ti=V({name:"Delete48Regular",render:function(t,s){return S(),T("svg",bi,Di)}}),Ci={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Yi=f("g",{fill:"none"},[f("path",{d:"M12.244 13.149H7.759l2.242-6.405l2.243 6.405zm.7 2l.327.935l1.57-1.57l-3.764-10.751c-.357-1.017-1.795-1.017-2.15 0L4.056 17.67a1 1 0 1 0 1.887.661l1.115-3.182h5.885zm.254 2.423L19.1 11.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Pi=[Yi],Li=V({name:"DrawText24Filled",render:function(t,s){return S(),T("svg",Ci,Pi)}}),Ai={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ni=f("g",{fill:"none"},[f("path",{d:"M2.854 2.146a.5.5 0 1 0-.707.708l5.53 5.53l-4.038 4.04l-.117.127a2 2 0 0 0-.398.76l-1.106 4.055l-.015.08a.5.5 0 0 0 .63.534l4.054-1.106l.165-.053a2 2 0 0 0 .723-.462l4.038-4.039l5.534 5.534a.5.5 0 0 0 .707-.708l-15-15zm8.052 9.467l-4.038 4.039l-.098.086l-.107.072a1 1 0 0 1-.24.1l-3.21.875l.876-3.21l.042-.124a1 1 0 0 1 .215-.32l4.039-4.039l2.521 2.521zm4-4L12.32 10.2l.708.707l4.153-4.153l.13-.14a2.783 2.783 0 0 0-4.066-3.796L9.092 6.971l.707.707l2.586-2.586l2.52 2.521zm1.568-4.089l.11.12c.584.7.547 1.744-.11 2.402l-.861.86l-2.521-2.52l.86-.862l.12-.11a1.783 1.783 0 0 1 2.402.11z",fill:"currentColor"})],-1),Ii=[Ni],Ei=V({name:"EditOff20Regular",render:function(t,s){return S(),T("svg",Ai,Ii)}}),Wi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ri=f("g",{fill:"none"},[f("path",{d:"M18 3a1 1 0 0 1 .993.883L19 4v16a1 1 0 0 1-1.993.117L17 20v-5h-1a1 1 0 0 1-.993-.883L15 14V8c0-2.21 1.5-5 3-5zm-6 0a1 1 0 0 1 .993.883L13 4v5a4.002 4.002 0 0 1-3 3.874V20a1 1 0 0 1-1.993.117L8 20v-7.126a4.002 4.002 0 0 1-2.995-3.668L5 9V4a1 1 0 0 1 1.993-.117L7 4v5a2 2 0 0 0 1 1.732V4a1 1 0 0 1 1.993-.117L10 4l.001 6.732a2 2 0 0 0 .992-1.563L11 9V4a1 1 0 0 1 1-1z",fill:"currentColor"})],-1),$i=[Ri],Bn=V({name:"Food24Filled",render:function(t,s){return S(),T("svg",Wi,$i)}}),Fi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ui=f("g",{fill:"none"},[f("path",{d:"M19.75 2A2.25 2.25 0 0 1 22 4.25v5.462a3.25 3.25 0 0 1-.952 2.298l-.026.026a6.5 6.5 0 0 0-9.028 8.92a3.256 3.256 0 0 1-4.043-.442L3.489 16.06a3.25 3.25 0 0 1-.004-4.596l8.5-8.51a3.25 3.25 0 0 1 2.3-.953h5.465zM17 5.502a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0-3zM23 17.5a5.5 5.5 0 1 0-11 0a5.5 5.5 0 0 0 11 0zm-6.125 3.005a.625.625 0 1 1 1.25 0a.625.625 0 0 1-1.25 0zm-1.229-4.548c-.01-1.137.806-1.954 1.854-1.954c1.03 0 1.853.846 1.853 1.95c0 .566-.185.913-.663 1.447l-.266.29l-.1.116c-.248.292-.324.462-.324.695a.5.5 0 0 1-1 0c0-.576.187-.926.67-1.468l.266-.29l.1-.113c.242-.286.317-.453.317-.677c0-.558-.38-.95-.853-.95c-.494 0-.86.366-.854.945a.5.5 0 0 1-1 .01z",fill:"currentColor"})],-1),zi=[Ui],Zn=V({name:"TagQuestionMark24Filled",render:function(t,s){return S(),T("svg",Fi,zi)}}),Hi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384 512"},ji=f("path",{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z",fill:"currentColor"},null,-1),Vi=[ji],Bi=V({name:"FileAltRegular",render:function(t,s){return S(),T("svg",Hi,Vi)}}),Zi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 640 512"},Gi=f("path",{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64l-38.06-38.06L320 91.18z",fill:"currentColor"},null,-1),qi=[Gi],Gn=V({name:"Mountain",render:function(t,s){return S(),T("svg",Zi,qi)}}),Ji={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ki=f("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8zm.5-13H11v6l5.25 3.15l.75-1.23l-4.5-2.67z",fill:"currentColor"},null,-1),Qi=[Ki],Xi=V({name:"AccessTimeOutlined",render:function(t,s){return S(),T("svg",Ji,Qi)}}),ea={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ta=f("path",{d:"M20 1v3h3v2h-3v3h-2V6h-3V4h3V1h2zm-8 12c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zm1-9.94v2.02A6.53 6.53 0 0 0 12 5c-3.35 0-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.79 6-9.14V11h2v.2c0 3.32-2.67 7.25-8 11.8c-5.33-4.55-8-8.48-8-11.8C4 6.22 7.8 3 12 3c.34 0 .67.02 1 .06z",fill:"currentColor"},null,-1),sa=[ta],na=V({name:"AddLocationAltOutlined",render:function(t,s){return S(),T("svg",ea,sa)}}),ra={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ia=f("path",{d:"M17 11v6.97l-5-2.14l-5 2.14V5h6V3H7c-1.1 0-2 .9-2 2v16l7-3l7 3V11h-2zm4-4h-2v2h-2V7h-2V5h2V3h2v2h2v2z",fill:"currentColor"},null,-1),aa=[ia],oa=V({name:"BookmarkAddOutlined",render:function(t,s){return S(),T("svg",ra,aa)}}),la={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ua=f("path",{opacity:".3",d:"M5 5h14v2H5z",fill:"currentColor"},null,-1),ca=f("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zm0-12H5V5h14v2zM7 11h10v2H7zm0 4h7v2H7z",fill:"currentColor"},null,-1),da=[ua,ca],qn=V({name:"EventNoteTwotone",render:function(t,s){return S(),T("svg",la,da)}}),ha={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},fa=f("path",{d:"M7 9H2V7h5v2zm0 3H2v2h5v-2zm13.59 7l-3.83-3.83c-.8.52-1.74.83-2.76.83c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L22 17.59L20.59 19zM17 11c0-1.65-1.35-3-3-3s-3 1.35-3 3s1.35 3 3 3s3-1.35 3-3zM2 19h10v-2H2v2z",fill:"currentColor"},null,-1),ma=[fa],pa=V({name:"ManageSearchOutlined",render:function(t,s){return S(),T("svg",ha,ma)}}),ga={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},va=f("path",{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14H4V7h4.05l1.83-2h4.24l1.83 2H20v12z",fill:"currentColor"},null,-1),_a=f("circle",{cx:"12",cy:"11",r:"2",fill:"currentColor"},null,-1),ya=f("path",{d:"M14.78 14.58a6.95 6.95 0 0 0-5.56 0A2.01 2.01 0 0 0 8 16.43V17h8v-.57c0-.81-.48-1.53-1.22-1.85z",fill:"currentColor"},null,-1),wa=[va,_a,ya],ka=V({name:"PhotoCameraFrontOutlined",render:function(t,s){return S(),T("svg",ga,wa)}}),Sa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ma=f("path",{d:"M12 12c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zm6-1.8C18 6.57 15.35 4 12 4s-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.8 6-9.14zM12 2c4.2 0 8 3.22 8 8.2c0 3.32-2.67 7.25-8 11.8c-5.33-4.55-8-8.48-8-11.8C4 5.22 7.8 2 12 2z",fill:"currentColor"},null,-1),xa=[Ma],ba=V({name:"PlaceOutlined",render:function(t,s){return S(),T("svg",Sa,xa)}});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Jn;function y(){return Jn.apply(null,arguments)}function Oa(e){Jn=e}function ke(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function tt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rs(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(U(e,t))return!1;return!0}function ue(e){return e===void 0}function $e(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function At(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Kn(e,t){var s=[],n,r=e.length;for(n=0;n<r;++n)s.push(t(e[n],n));return s}function Be(e,t){for(var s in t)U(t,s)&&(e[s]=t[s]);return U(t,"toString")&&(e.toString=t.toString),U(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ce(e,t,s,n){return wr(e,t,s,n,!0).utc()}function Da(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function P(e){return e._pf==null&&(e._pf=Da()),e._pf}var Os;Array.prototype.some?Os=Array.prototype.some:Os=function(e){var t=Object(this),s=t.length>>>0,n;for(n=0;n<s;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function $s(e){var t=null,s=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=P(e),s=Os.call(t.parsedDateParts,function(r){return r!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function ss(e){var t=Ce(NaN);return e!=null?Be(P(t),e):P(t).userInvalidated=!0,t}var vn=y.momentProperties=[],ps=!1;function Fs(e,t){var s,n,r,i=vn.length;if(ue(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ue(t._i)||(e._i=t._i),ue(t._f)||(e._f=t._f),ue(t._l)||(e._l=t._l),ue(t._strict)||(e._strict=t._strict),ue(t._tzm)||(e._tzm=t._tzm),ue(t._isUTC)||(e._isUTC=t._isUTC),ue(t._offset)||(e._offset=t._offset),ue(t._pf)||(e._pf=P(t)),ue(t._locale)||(e._locale=t._locale),i>0)for(s=0;s<i;s++)n=vn[s],r=t[n],ue(r)||(e[n]=r);return e}function Nt(e){Fs(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ps===!1&&(ps=!0,y.updateOffset(this),ps=!1)}function Se(e){return e instanceof Nt||e!=null&&e._isAMomentObject!=null}function Qn(e){y.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function pe(e,t){var s=!0;return Be(function(){if(y.deprecationHandler!=null&&y.deprecationHandler(null,e),s){var n=[],r,i,a,l=arguments.length;for(i=0;i<l;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(a in arguments[0])U(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[i];n.push(r)}Qn(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var _n={};function Xn(e,t){y.deprecationHandler!=null&&y.deprecationHandler(e,t),_n[e]||(Qn(t),_n[e]=!0)}y.suppressDeprecationWarnings=!1;y.deprecationHandler=null;function Ye(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Ta(e){var t,s;for(s in e)U(e,s)&&(t=e[s],Ye(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ds(e,t){var s=Be({},e),n;for(n in t)U(t,n)&&(tt(e[n])&&tt(t[n])?(s[n]={},Be(s[n],e[n]),Be(s[n],t[n])):t[n]!=null?s[n]=t[n]:delete s[n]);for(n in e)U(e,n)&&!U(t,n)&&tt(e[n])&&(s[n]=Be({},s[n]));return s}function Us(e){e!=null&&this.set(e)}var Ts;Object.keys?Ts=Object.keys:Ts=function(e){var t,s=[];for(t in e)U(e,t)&&s.push(t);return s};var Ca={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ya(e,t,s){var n=this._calendar[e]||this._calendar.sameElse;return Ye(n)?n.call(t,s):n}function Te(e,t,s){var n=""+Math.abs(e),r=t-n.length,i=e>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var zs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gs={},ut={};function O(e,t,s,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),e&&(ut[e]=r),t&&(ut[t[0]]=function(){return Te(r.apply(this,arguments),t[1],t[2])}),s&&(ut[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function Pa(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function La(e){var t=e.match(zs),s,n;for(s=0,n=t.length;s<n;s++)ut[t[s]]?t[s]=ut[t[s]]:t[s]=Pa(t[s]);return function(r){var i="",a;for(a=0;a<n;a++)i+=Ye(t[a])?t[a].call(r,e):t[a];return i}}function Zt(e,t){return e.isValid()?(t=er(t,e.localeData()),gs[t]=gs[t]||La(t),gs[t](e)):e.localeData().invalidDate()}function er(e,t){var s=5;function n(r){return t.longDateFormat(r)||r}for(Ft.lastIndex=0;s>=0&&Ft.test(e);)e=e.replace(Ft,n),Ft.lastIndex=0,s-=1;return e}var Aa={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Na(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(zs).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var Ia="Invalid date";function Ea(){return this._invalidDate}var Wa="%d",Ra=/\d{1,2}/;function $a(e){return this._ordinal.replace("%d",e)}var Fa={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ua(e,t,s,n){var r=this._relativeTime[s];return Ye(r)?r(e,t,s,n):r.replace(/%d/i,e)}function za(e,t){var s=this._relativeTime[e>0?"future":"past"];return Ye(s)?s(t):s.replace(/%s/i,t)}var yn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ge(e){return typeof e=="string"?yn[e]||yn[e.toLowerCase()]:void 0}function Hs(e){var t={},s,n;for(n in e)U(e,n)&&(s=ge(n),s&&(t[s]=e[n]));return t}var Ha={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ja(e){var t=[],s;for(s in e)U(e,s)&&t.push({unit:s,priority:Ha[s]});return t.sort(function(n,r){return n.priority-r.priority}),t}var tr=/\d/,he=/\d\d/,sr=/\d{3}/,js=/\d{4}/,ns=/[+-]?\d{6}/,B=/\d\d?/,nr=/\d\d\d\d?/,rr=/\d\d\d\d\d\d?/,rs=/\d{1,3}/,Vs=/\d{1,4}/,is=/[+-]?\d{1,6}/,mt=/\d+/,as=/[+-]?\d+/,Va=/Z|[+-]\d\d:?\d\d/gi,os=/Z|[+-]\d\d(?::?\d\d)?/gi,Ba=/[+-]?\d+(\.\d{1,3})?/,It=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pt=/^[1-9]\d?/,Bs=/^([1-9]\d|\d)/,Kt;Kt={};function w(e,t,s){Kt[e]=Ye(t)?t:function(n,r){return n&&s?s:t}}function Za(e,t){return U(Kt,e)?Kt[e](t._strict,t._locale):new RegExp(Ga(e))}function Ga(e){return We(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,n,r,i){return s||n||r||i}))}function We(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function me(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function A(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=me(t)),s}var Cs={};function H(e,t){var s,n=t,r;for(typeof e=="string"&&(e=[e]),$e(t)&&(n=function(i,a){a[t]=A(i)}),r=e.length,s=0;s<r;s++)Cs[e[s]]=n}function Et(e,t){H(e,function(s,n,r,i){r._w=r._w||{},t(s,r._w,r,i)})}function qa(e,t,s){t!=null&&U(Cs,e)&&Cs[e](t,s._a,s,e)}function ls(e){return e%4===0&&e%100!==0||e%400===0}var ie=0,Ie=1,Oe=2,ne=3,we=4,Ee=5,et=6,Ja=7,Ka=8;O("Y",0,0,function(){var e=this.year();return e<=9999?Te(e,4):"+"+e});O(0,["YY",2],0,function(){return this.year()%100});O(0,["YYYY",4],0,"year");O(0,["YYYYY",5],0,"year");O(0,["YYYYYY",6,!0],0,"year");w("Y",as);w("YY",B,he);w("YYYY",Vs,js);w("YYYYY",is,ns);w("YYYYYY",is,ns);H(["YYYYY","YYYYYY"],ie);H("YYYY",function(e,t){t[ie]=e.length===2?y.parseTwoDigitYear(e):A(e)});H("YY",function(e,t){t[ie]=y.parseTwoDigitYear(e)});H("Y",function(e,t){t[ie]=parseInt(e,10)});function xt(e){return ls(e)?366:365}y.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)};var ir=gt("FullYear",!0);function Qa(){return ls(this.year())}function gt(e,t){return function(s){return s!=null?(ar(this,e,s),y.updateOffset(this,t),this):Ot(this,e)}}function Ot(e,t){if(!e.isValid())return NaN;var s=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return n?s.getUTCSeconds():s.getSeconds();case"Minutes":return n?s.getUTCMinutes():s.getMinutes();case"Hours":return n?s.getUTCHours():s.getHours();case"Date":return n?s.getUTCDate():s.getDate();case"Day":return n?s.getUTCDay():s.getDay();case"Month":return n?s.getUTCMonth():s.getMonth();case"FullYear":return n?s.getUTCFullYear():s.getFullYear();default:return NaN}}function ar(e,t,s){var n,r,i,a,l;if(!(!e.isValid()||isNaN(s))){switch(n=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?n.setUTCMilliseconds(s):n.setMilliseconds(s));case"Seconds":return void(r?n.setUTCSeconds(s):n.setSeconds(s));case"Minutes":return void(r?n.setUTCMinutes(s):n.setMinutes(s));case"Hours":return void(r?n.setUTCHours(s):n.setHours(s));case"Date":return void(r?n.setUTCDate(s):n.setDate(s));case"FullYear":break;default:return}i=s,a=e.month(),l=e.date(),l=l===29&&a===1&&!ls(i)?28:l,r?n.setUTCFullYear(i,a,l):n.setFullYear(i,a,l)}}function Xa(e){return e=ge(e),Ye(this[e])?this[e]():this}function eo(e,t){if(typeof e=="object"){e=Hs(e);var s=ja(e),n,r=s.length;for(n=0;n<r;n++)this[s[n].unit](e[s[n].unit])}else if(e=ge(e),Ye(this[e]))return this[e](t);return this}function to(e,t){return(e%t+t)%t}var Q;Array.prototype.indexOf?Q=Array.prototype.indexOf:Q=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Zs(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=to(t,12);return e+=(t-s)/12,s===1?ls(e)?29:28:31-s%7%2}O("M",["MM",2],"Mo",function(){return this.month()+1});O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});O("MMMM",0,0,function(e){return this.localeData().months(this,e)});w("M",B,pt);w("MM",B,he);w("MMM",function(e,t){return t.monthsShortRegex(e)});w("MMMM",function(e,t){return t.monthsRegex(e)});H(["M","MM"],function(e,t){t[Ie]=A(e)-1});H(["MMM","MMMM"],function(e,t,s,n){var r=s._locale.monthsParse(e,n,s._strict);r!=null?t[Ie]=r:P(s).invalidMonth=e});var so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),or="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,no=It,ro=It;function io(e,t){return e?ke(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||lr).test(t)?"format":"standalone"][e.month()]:ke(this._months)?this._months:this._months.standalone}function ao(e,t){return e?ke(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[lr.test(t)?"format":"standalone"][e.month()]:ke(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oo(e,t,s){var n,r,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=Ce([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return s?t==="MMM"?(r=Q.call(this._shortMonthsParse,a),r!==-1?r:null):(r=Q.call(this._longMonthsParse,a),r!==-1?r:null):t==="MMM"?(r=Q.call(this._shortMonthsParse,a),r!==-1?r:(r=Q.call(this._longMonthsParse,a),r!==-1?r:null)):(r=Q.call(this._longMonthsParse,a),r!==-1?r:(r=Q.call(this._shortMonthsParse,a),r!==-1?r:null))}function lo(e,t,s){var n,r,i;if(this._monthsParseExact)return oo.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=Ce([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(s&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!s&&this._monthsParse[n].test(e))return n}}function ur(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=A(t);else if(t=e.localeData().monthsParse(t),!$e(t))return e}var s=t,n=e.date();return n=n<29?n:Math.min(n,Zs(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,n):e._d.setMonth(s,n),e}function cr(e){return e!=null?(ur(this,e),y.updateOffset(this,!0),this):Ot(this,"Month")}function uo(){return Zs(this.year(),this.month())}function co(e){return this._monthsParseExact?(U(this,"_monthsRegex")||dr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(U(this,"_monthsShortRegex")||(this._monthsShortRegex=no),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ho(e){return this._monthsParseExact?(U(this,"_monthsRegex")||dr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(U(this,"_monthsRegex")||(this._monthsRegex=ro),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dr(){function e(o,h){return h.length-o.length}var t=[],s=[],n=[],r,i,a,l;for(r=0;r<12;r++)i=Ce([2e3,r]),a=We(this.monthsShort(i,"")),l=We(this.months(i,"")),t.push(a),s.push(l),n.push(l),n.push(a);t.sort(e),s.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function fo(e,t,s,n,r,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,s,n,r,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,s,n,r,i,a),l}function Dt(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qt(e,t,s){var n=7+t-s,r=(7+Dt(e,0,n).getUTCDay()-t)%7;return-r+n-1}function hr(e,t,s,n,r){var i=(7+s-n)%7,a=Qt(e,n,r),l=1+7*(t-1)+i+a,o,h;return l<=0?(o=e-1,h=xt(o)+l):l>xt(e)?(o=e+1,h=l-xt(e)):(o=e,h=l),{year:o,dayOfYear:h}}function Tt(e,t,s){var n=Qt(e.year(),t,s),r=Math.floor((e.dayOfYear()-n-1)/7)+1,i,a;return r<1?(a=e.year()-1,i=r+Re(a,t,s)):r>Re(e.year(),t,s)?(i=r-Re(e.year(),t,s),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function Re(e,t,s){var n=Qt(e,t,s),r=Qt(e+1,t,s);return(xt(e)-n+r)/7}O("w",["ww",2],"wo","week");O("W",["WW",2],"Wo","isoWeek");w("w",B,pt);w("ww",B,he);w("W",B,pt);w("WW",B,he);Et(["w","ww","W","WW"],function(e,t,s,n){t[n.substr(0,1)]=A(e)});function mo(e){return Tt(e,this._week.dow,this._week.doy).week}var po={dow:0,doy:6};function go(){return this._week.dow}function vo(){return this._week.doy}function _o(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function yo(e){var t=Tt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}O("d",0,"do","day");O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});O("e",0,0,"weekday");O("E",0,0,"isoWeekday");w("d",B);w("e",B);w("E",B);w("dd",function(e,t){return t.weekdaysMinRegex(e)});w("ddd",function(e,t){return t.weekdaysShortRegex(e)});w("dddd",function(e,t){return t.weekdaysRegex(e)});Et(["dd","ddd","dddd"],function(e,t,s,n){var r=s._locale.weekdaysParse(e,n,s._strict);r!=null?t.d=r:P(s).invalidWeekday=e});Et(["d","e","E"],function(e,t,s,n){t[n]=A(e)});function wo(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ko(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Gs(e,t){return e.slice(t,7).concat(e.slice(0,t))}var So="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xo=It,bo=It,Oo=It;function Do(e,t){var s=ke(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Gs(s,this._week.dow):e?s[e.day()]:s}function To(e){return e===!0?Gs(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Co(e){return e===!0?Gs(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Yo(e,t,s){var n,r,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=Ce([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return s?t==="dddd"?(r=Q.call(this._weekdaysParse,a),r!==-1?r:null):t==="ddd"?(r=Q.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=Q.call(this._minWeekdaysParse,a),r!==-1?r:null):t==="dddd"?(r=Q.call(this._weekdaysParse,a),r!==-1||(r=Q.call(this._shortWeekdaysParse,a),r!==-1)?r:(r=Q.call(this._minWeekdaysParse,a),r!==-1?r:null)):t==="ddd"?(r=Q.call(this._shortWeekdaysParse,a),r!==-1||(r=Q.call(this._weekdaysParse,a),r!==-1)?r:(r=Q.call(this._minWeekdaysParse,a),r!==-1?r:null)):(r=Q.call(this._minWeekdaysParse,a),r!==-1||(r=Q.call(this._weekdaysParse,a),r!==-1)?r:(r=Q.call(this._shortWeekdaysParse,a),r!==-1?r:null))}function Po(e,t,s){var n,r,i;if(this._weekdaysParseExact)return Yo.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=Ce([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(s&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(s&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!s&&this._weekdaysParse[n].test(e))return n}}function Lo(e){if(!this.isValid())return e!=null?this:NaN;var t=Ot(this,"Day");return e!=null?(e=wo(e,this.localeData()),this.add(e-t,"d")):t}function Ao(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function No(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ko(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Io(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||qs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(U(this,"_weekdaysRegex")||(this._weekdaysRegex=xo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Eo(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||qs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(U(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bo),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wo(e){return this._weekdaysParseExact?(U(this,"_weekdaysRegex")||qs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(U(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qs(){function e(c,u){return u.length-c.length}var t=[],s=[],n=[],r=[],i,a,l,o,h;for(i=0;i<7;i++)a=Ce([2e3,1]).day(i),l=We(this.weekdaysMin(a,"")),o=We(this.weekdaysShort(a,"")),h=We(this.weekdays(a,"")),t.push(l),s.push(o),n.push(h),r.push(l),r.push(o),r.push(h);t.sort(e),s.sort(e),n.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Js(){return this.hours()%12||12}function Ro(){return this.hours()||24}O("H",["HH",2],0,"hour");O("h",["hh",2],0,Js);O("k",["kk",2],0,Ro);O("hmm",0,0,function(){return""+Js.apply(this)+Te(this.minutes(),2)});O("hmmss",0,0,function(){return""+Js.apply(this)+Te(this.minutes(),2)+Te(this.seconds(),2)});O("Hmm",0,0,function(){return""+this.hours()+Te(this.minutes(),2)});O("Hmmss",0,0,function(){return""+this.hours()+Te(this.minutes(),2)+Te(this.seconds(),2)});function mr(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mr("a",!0);mr("A",!1);function pr(e,t){return t._meridiemParse}w("a",pr);w("A",pr);w("H",B,Bs);w("h",B,pt);w("k",B,pt);w("HH",B,he);w("hh",B,he);w("kk",B,he);w("hmm",nr);w("hmmss",rr);w("Hmm",nr);w("Hmmss",rr);H(["H","HH"],ne);H(["k","kk"],function(e,t,s){var n=A(e);t[ne]=n===24?0:n});H(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});H(["h","hh"],function(e,t,s){t[ne]=A(e),P(s).bigHour=!0});H("hmm",function(e,t,s){var n=e.length-2;t[ne]=A(e.substr(0,n)),t[we]=A(e.substr(n)),P(s).bigHour=!0});H("hmmss",function(e,t,s){var n=e.length-4,r=e.length-2;t[ne]=A(e.substr(0,n)),t[we]=A(e.substr(n,2)),t[Ee]=A(e.substr(r)),P(s).bigHour=!0});H("Hmm",function(e,t,s){var n=e.length-2;t[ne]=A(e.substr(0,n)),t[we]=A(e.substr(n))});H("Hmmss",function(e,t,s){var n=e.length-4,r=e.length-2;t[ne]=A(e.substr(0,n)),t[we]=A(e.substr(n,2)),t[Ee]=A(e.substr(r))});function $o(e){return(e+"").toLowerCase().charAt(0)==="p"}var Fo=/[ap]\.?m?\.?/i,Uo=gt("Hours",!0);function zo(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var gr={calendar:Ca,longDateFormat:Aa,invalidDate:Ia,ordinal:Wa,dayOfMonthOrdinalParse:Ra,relativeTime:Fa,months:so,monthsShort:or,week:po,weekdays:So,weekdaysMin:Mo,weekdaysShort:fr,meridiemParse:Fo},Z={},vt={},Ct;function Ho(e,t){var s,n=Math.min(e.length,t.length);for(s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}function wn(e){return e&&e.toLowerCase().replace("_","-")}function jo(e){for(var t=0,s,n,r,i;t<e.length;){for(i=wn(e[t]).split("-"),s=i.length,n=wn(e[t+1]),n=n?n.split("-"):null;s>0;){if(r=us(i.slice(0,s).join("-")),r)return r;if(n&&n.length>=s&&Ho(i,n)>=s-1)break;s--}t++}return Ct}function Vo(e){return!!(e&&e.match("^[^/\\\\]*$"))}function us(e){var t=null,s;if(Z[e]===void 0&&typeof module<"u"&&module&&module.exports&&Vo(e))try{t=Ct._abbr,s=require,s("./locale/"+e),qe(t)}catch{Z[e]=null}return Z[e]}function qe(e,t){var s;return e&&(ue(t)?s=Fe(e):s=Ks(e,t),s?Ct=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ct._abbr}function Ks(e,t){if(t!==null){var s,n=gr;if(t.abbr=e,Z[e]!=null)Xn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Z[e]._config;else if(t.parentLocale!=null)if(Z[t.parentLocale]!=null)n=Z[t.parentLocale]._config;else if(s=us(t.parentLocale),s!=null)n=s._config;else return vt[t.parentLocale]||(vt[t.parentLocale]=[]),vt[t.parentLocale].push({name:e,config:t}),null;return Z[e]=new Us(Ds(n,t)),vt[e]&&vt[e].forEach(function(r){Ks(r.name,r.config)}),qe(e),Z[e]}else return delete Z[e],null}function Bo(e,t){if(t!=null){var s,n,r=gr;Z[e]!=null&&Z[e].parentLocale!=null?Z[e].set(Ds(Z[e]._config,t)):(n=us(e),n!=null&&(r=n._config),t=Ds(r,t),n==null&&(t.abbr=e),s=new Us(t),s.parentLocale=Z[e],Z[e]=s),qe(e)}else Z[e]!=null&&(Z[e].parentLocale!=null?(Z[e]=Z[e].parentLocale,e===qe()&&qe(e)):Z[e]!=null&&delete Z[e]);return Z[e]}function Fe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ct;if(!ke(e)){if(t=us(e),t)return t;e=[e]}return jo(e)}function Zo(){return Ts(Z)}function Qs(e){var t,s=e._a;return s&&P(e).overflow===-2&&(t=s[Ie]<0||s[Ie]>11?Ie:s[Oe]<1||s[Oe]>Zs(s[ie],s[Ie])?Oe:s[ne]<0||s[ne]>24||s[ne]===24&&(s[we]!==0||s[Ee]!==0||s[et]!==0)?ne:s[we]<0||s[we]>59?we:s[Ee]<0||s[Ee]>59?Ee:s[et]<0||s[et]>999?et:-1,P(e)._overflowDayOfYear&&(t<ie||t>Oe)&&(t=Oe),P(e)._overflowWeeks&&t===-1&&(t=Ja),P(e)._overflowWeekday&&t===-1&&(t=Ka),P(e).overflow=t),e}var Go=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jo=/Z|[+-]\d\d(?::?\d\d)?/,Ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ko=/^\/?Date\((-?\d+)/i,Qo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xo={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vr(e){var t,s,n=e._i,r=Go.exec(n)||qo.exec(n),i,a,l,o,h=Ut.length,c=vs.length;if(r){for(P(e).iso=!0,t=0,s=h;t<s;t++)if(Ut[t][1].exec(r[1])){a=Ut[t][0],i=Ut[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(r[3]){for(t=0,s=c;t<s;t++)if(vs[t][1].exec(r[3])){l=(r[2]||" ")+vs[t][0];break}if(l==null){e._isValid=!1;return}}if(!i&&l!=null){e._isValid=!1;return}if(r[4])if(Jo.exec(r[4]))o="Z";else{e._isValid=!1;return}e._f=a+(l||"")+(o||""),en(e)}else e._isValid=!1}function el(e,t,s,n,r,i){var a=[tl(e),or.indexOf(t),parseInt(s,10),parseInt(n,10),parseInt(r,10)];return i&&a.push(parseInt(i,10)),a}function tl(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sl(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function nl(e,t,s){if(e){var n=fr.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(n!==r)return P(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function rl(e,t,s){if(e)return Xo[e];if(t)return 0;var n=parseInt(s,10),r=n%100,i=(n-r)/100;return i*60+r}function _r(e){var t=Qo.exec(sl(e._i)),s;if(t){if(s=el(t[4],t[3],t[2],t[5],t[6],t[7]),!nl(t[1],s,e))return;e._a=s,e._tzm=rl(t[8],t[9],t[10]),e._d=Dt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),P(e).rfc2822=!0}else e._isValid=!1}function il(e){var t=Ko.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vr(e),e._isValid===!1)delete e._isValid;else return;if(_r(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:y.createFromInputFallback(e)}y.createFromInputFallback=pe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function rt(e,t,s){return e??t??s}function al(e){var t=new Date(y.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Xs(e){var t,s,n=[],r,i,a;if(!e._d){for(r=al(e),e._w&&e._a[Oe]==null&&e._a[Ie]==null&&ol(e),e._dayOfYear!=null&&(a=rt(e._a[ie],r[ie]),(e._dayOfYear>xt(a)||e._dayOfYear===0)&&(P(e)._overflowDayOfYear=!0),s=Dt(a,0,e._dayOfYear),e._a[Ie]=s.getUTCMonth(),e._a[Oe]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=r[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ne]===24&&e._a[we]===0&&e._a[Ee]===0&&e._a[et]===0&&(e._nextDay=!0,e._a[ne]=0),e._d=(e._useUTC?Dt:fo).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ne]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(P(e).weekdayMismatch=!0)}}function ol(e){var t,s,n,r,i,a,l,o,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,a=4,s=rt(t.GG,e._a[ie],Tt(j(),1,4).year),n=rt(t.W,1),r=rt(t.E,1),(r<1||r>7)&&(o=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,h=Tt(j(),i,a),s=rt(t.gg,e._a[ie],h.year),n=rt(t.w,h.week),t.d!=null?(r=t.d,(r<0||r>6)&&(o=!0)):t.e!=null?(r=t.e+i,(t.e<0||t.e>6)&&(o=!0)):r=i),n<1||n>Re(s,i,a)?P(e)._overflowWeeks=!0:o!=null?P(e)._overflowWeekday=!0:(l=hr(s,n,r,i,a),e._a[ie]=l.year,e._dayOfYear=l.dayOfYear)}y.ISO_8601=function(){};y.RFC_2822=function(){};function en(e){if(e._f===y.ISO_8601){vr(e);return}if(e._f===y.RFC_2822){_r(e);return}e._a=[],P(e).empty=!0;var t=""+e._i,s,n,r,i,a,l=t.length,o=0,h,c;for(r=er(e._f,e._locale).match(zs)||[],c=r.length,s=0;s<c;s++)i=r[s],n=(t.match(Za(i,e))||[])[0],n&&(a=t.substr(0,t.indexOf(n)),a.length>0&&P(e).unusedInput.push(a),t=t.slice(t.indexOf(n)+n.length),o+=n.length),ut[i]?(n?P(e).empty=!1:P(e).unusedTokens.push(i),qa(i,n,e)):e._strict&&!n&&P(e).unusedTokens.push(i);P(e).charsLeftOver=l-o,t.length>0&&P(e).unusedInput.push(t),e._a[ne]<=12&&P(e).bigHour===!0&&e._a[ne]>0&&(P(e).bigHour=void 0),P(e).parsedDateParts=e._a.slice(0),P(e).meridiem=e._meridiem,e._a[ne]=ll(e._locale,e._a[ne],e._meridiem),h=P(e).era,h!==null&&(e._a[ie]=e._locale.erasConvertYear(h,e._a[ie])),Xs(e),Qs(e)}function ll(e,t,s){var n;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(n=e.isPM(s),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function ul(e){var t,s,n,r,i,a,l=!1,o=e._f.length;if(o===0){P(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<o;r++)i=0,a=!1,t=Fs({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],en(t),$s(t)&&(a=!0),i+=P(t).charsLeftOver,i+=P(t).unusedTokens.length*10,P(t).score=i,l?i<n&&(n=i,s=t):(n==null||i<n||a)&&(n=i,s=t,a&&(l=!0));Be(e,s||t)}function cl(e){if(!e._d){var t=Hs(e._i),s=t.day===void 0?t.date:t.day;e._a=Kn([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),Xs(e)}}function dl(e){var t=new Nt(Qs(yr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yr(e){var t=e._i,s=e._f;return e._locale=e._locale||Fe(e._l),t===null||s===void 0&&t===""?ss({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Se(t)?new Nt(Qs(t)):(At(t)?e._d=t:ke(s)?ul(e):s?en(e):hl(e),$s(e)||(e._d=null),e))}function hl(e){var t=e._i;ue(t)?e._d=new Date(y.now()):At(t)?e._d=new Date(t.valueOf()):typeof t=="string"?il(e):ke(t)?(e._a=Kn(t.slice(0),function(s){return parseInt(s,10)}),Xs(e)):tt(t)?cl(e):$e(t)?e._d=new Date(t):y.createFromInputFallback(e)}function wr(e,t,s,n,r){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(s===!0||s===!1)&&(n=s,s=void 0),(tt(e)&&Rs(e)||ke(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=s,i._i=e,i._f=t,i._strict=n,dl(i)}function j(e,t,s,n){return wr(e,t,s,n,!1)}var fl=pe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=j.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ss()}),ml=pe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=j.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ss()});function kr(e,t){var s,n;if(t.length===1&&ke(t[0])&&(t=t[0]),!t.length)return j();for(s=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](s))&&(s=t[n]);return s}function pl(){var e=[].slice.call(arguments,0);return kr("isBefore",e)}function gl(){var e=[].slice.call(arguments,0);return kr("isAfter",e)}var vl=function(){return Date.now?Date.now():+new Date},_t=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _l(e){var t,s=!1,n,r=_t.length;for(t in e)if(U(e,t)&&!(Q.call(_t,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<r;++n)if(e[_t[n]]){if(s)return!1;parseFloat(e[_t[n]])!==A(e[_t[n]])&&(s=!0)}return!0}function yl(){return this._isValid}function wl(){return Me(NaN)}function cs(e){var t=Hs(e),s=t.year||0,n=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,o=t.minute||0,h=t.second||0,c=t.millisecond||0;this._isValid=_l(t),this._milliseconds=+c+h*1e3+o*6e4+l*1e3*60*60,this._days=+a+i*7,this._months=+r+n*3+s*12,this._data={},this._locale=Fe(),this._bubble()}function Gt(e){return e instanceof cs}function Ys(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function kl(e,t,s){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,a;for(a=0;a<n;a++)(s&&e[a]!==t[a]||!s&&A(e[a])!==A(t[a]))&&i++;return i+r}function Sr(e,t){O(e,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+Te(~~(s/60),2)+t+Te(~~s%60,2)})}Sr("Z",":");Sr("ZZ","");w("Z",os);w("ZZ",os);H(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=tn(os,e)});var Sl=/([\+\-]|\d\d)/gi;function tn(e,t){var s=(t||"").match(e),n,r,i;return s===null?null:(n=s[s.length-1]||[],r=(n+"").match(Sl)||["-",0,0],i=+(r[1]*60)+A(r[2]),i===0?0:r[0]==="+"?i:-i)}function sn(e,t){var s,n;return t._isUTC?(s=t.clone(),n=(Se(e)||At(e)?e.valueOf():j(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),y.updateOffset(s,!1),s):j(e).local()}function Ps(e){return-Math.round(e._d.getTimezoneOffset())}y.updateOffset=function(){};function Ml(e,t,s){var n=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=tn(os,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(r=Ps(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==e&&(!t||this._changeInProgress?br(this,Me(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Ps(this)}function xl(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function bl(e){return this.utcOffset(0,e)}function Ol(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ps(this),"m")),this}function Dl(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=tn(Va,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Tl(e){return this.isValid()?(e=e?j(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Cl(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yl(){if(!ue(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Fs(e,this),e=yr(e),e._a?(t=e._isUTC?Ce(e._a):j(e._a),this._isDSTShifted=this.isValid()&&kl(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Pl(){return this.isValid()?!this._isUTC:!1}function Ll(){return this.isValid()?this._isUTC:!1}function Mr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Al=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nl=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Me(e,t){var s=e,n=null,r,i,a;return Gt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:$e(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(n=Al.exec(e))?(r=n[1]==="-"?-1:1,s={y:0,d:A(n[Oe])*r,h:A(n[ne])*r,m:A(n[we])*r,s:A(n[Ee])*r,ms:A(Ys(n[et]*1e3))*r}):(n=Nl.exec(e))?(r=n[1]==="-"?-1:1,s={y:Je(n[2],r),M:Je(n[3],r),w:Je(n[4],r),d:Je(n[5],r),h:Je(n[6],r),m:Je(n[7],r),s:Je(n[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(a=Il(j(s.from),j(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new cs(s),Gt(e)&&U(e,"_locale")&&(i._locale=e._locale),Gt(e)&&U(e,"_isValid")&&(i._isValid=e._isValid),i}Me.fn=cs.prototype;Me.invalid=wl;function Je(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function kn(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Il(e,t){var s;return e.isValid()&&t.isValid()?(t=sn(t,e),e.isBefore(t)?s=kn(e,t):(s=kn(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function xr(e,t){return function(s,n){var r,i;return n!==null&&!isNaN(+n)&&(Xn(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=n,n=i),r=Me(s,n),br(this,r,e),this}}function br(e,t,s,n){var r=t._milliseconds,i=Ys(t._days),a=Ys(t._months);e.isValid()&&(n=n??!0,a&&ur(e,Ot(e,"Month")+a*s),i&&ar(e,"Date",Ot(e,"Date")+i*s),r&&e._d.setTime(e._d.valueOf()+r*s),n&&y.updateOffset(e,i||a))}var El=xr(1,"add"),Wl=xr(-1,"subtract");function Or(e){return typeof e=="string"||e instanceof String}function Rl(e){return Se(e)||At(e)||Or(e)||$e(e)||Fl(e)||$l(e)||e===null||e===void 0}function $l(e){var t=tt(e)&&!Rs(e),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,a=n.length;for(r=0;r<a;r+=1)i=n[r],s=s||U(e,i);return t&&s}function Fl(e){var t=ke(e),s=!1;return t&&(s=e.filter(function(n){return!$e(n)&&Or(e)}).length===0),t&&s}function Ul(e){var t=tt(e)&&!Rs(e),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<n.length;r+=1)i=n[r],s=s||U(e,i);return t&&s}function zl(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Hl(e,t){arguments.length===1&&(arguments[0]?Rl(arguments[0])?(e=arguments[0],t=void 0):Ul(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||j(),n=sn(s,this).startOf("day"),r=y.calendarFormat(this,n)||"sameElse",i=t&&(Ye(t[r])?t[r].call(this,s):t[r]);return this.format(i||this.localeData().calendar(r,this,j(s)))}function jl(){return new Nt(this)}function Vl(e,t){var s=Se(e)?e:j(e);return this.isValid()&&s.isValid()?(t=ge(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Bl(e,t){var s=Se(e)?e:j(e);return this.isValid()&&s.isValid()?(t=ge(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Zl(e,t,s,n){var r=Se(e)?e:j(e),i=Se(t)?t:j(t);return this.isValid()&&r.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(n[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function Gl(e,t){var s=Se(e)?e:j(e),n;return this.isValid()&&s.isValid()?(t=ge(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function ql(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Jl(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kl(e,t,s){var n,r,i;if(!this.isValid())return NaN;if(n=sn(e,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,t=ge(t),t){case"year":i=qt(this,n)/12;break;case"month":i=qt(this,n);break;case"quarter":i=qt(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-r)/864e5;break;case"week":i=(this-n-r)/6048e5;break;default:i=this-n}return s?i:me(i)}function qt(e,t){if(e.date()<t.date())return-qt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(s,"months"),r,i;return t-n<0?(r=e.clone().add(s-1,"months"),i=(t-n)/(n-r)):(r=e.clone().add(s+1,"months"),i=(t-n)/(r-n)),-(s+i)||0}y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ql(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xl(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Zt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ye(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zt(s,"Z")):Zt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,n,r,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(s+n+r+i)}function tu(e){e||(e=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);var t=Zt(this,e);return this.localeData().postformat(t)}function su(e,t){return this.isValid()&&(Se(e)&&e.isValid()||j(e).isValid())?Me({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function nu(e){return this.from(j(),e)}function ru(e,t){return this.isValid()&&(Se(e)&&e.isValid()||j(e).isValid())?Me({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function iu(e){return this.to(j(),e)}function Dr(e){var t;return e===void 0?this._locale._abbr:(t=Fe(e),t!=null&&(this._locale=t),this)}var Tr=pe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Cr(){return this._locale}var Xt=1e3,ct=60*Xt,es=60*ct,Yr=(365*400+97)*24*es;function dt(e,t){return(e%t+t)%t}function Pr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-Yr:new Date(e,t,s).valueOf()}function Lr(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-Yr:Date.UTC(e,t,s)}function au(e){var t,s;if(e=ge(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Lr:Pr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=dt(t+(this._isUTC?0:this.utcOffset()*ct),es);break;case"minute":t=this._d.valueOf(),t-=dt(t,ct);break;case"second":t=this._d.valueOf(),t-=dt(t,Xt);break}return this._d.setTime(t),y.updateOffset(this,!0),this}function ou(e){var t,s;if(e=ge(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Lr:Pr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=es-dt(t+(this._isUTC?0:this.utcOffset()*ct),es)-1;break;case"minute":t=this._d.valueOf(),t+=ct-dt(t,ct)-1;break;case"second":t=this._d.valueOf(),t+=Xt-dt(t,Xt)-1;break}return this._d.setTime(t),y.updateOffset(this,!0),this}function lu(){return this._d.valueOf()-(this._offset||0)*6e4}function uu(){return Math.floor(this.valueOf()/1e3)}function cu(){return new Date(this.valueOf())}function du(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function hu(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function fu(){return this.isValid()?this.toISOString():null}function mu(){return $s(this)}function pu(){return Be({},P(this))}function gu(){return P(this).overflow}function vu(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}O("N",0,0,"eraAbbr");O("NN",0,0,"eraAbbr");O("NNN",0,0,"eraAbbr");O("NNNN",0,0,"eraName");O("NNNNN",0,0,"eraNarrow");O("y",["y",1],"yo","eraYear");O("y",["yy",2],0,"eraYear");O("y",["yyy",3],0,"eraYear");O("y",["yyyy",4],0,"eraYear");w("N",nn);w("NN",nn);w("NNN",nn);w("NNNN",Tu);w("NNNNN",Cu);H(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,n){var r=s._locale.erasParse(e,n,s._strict);r?P(s).era=r:P(s).invalidEra=e});w("y",mt);w("yy",mt);w("yyy",mt);w("yyyy",mt);w("yo",Yu);H(["y","yy","yyy","yyyy"],ie);H(["yo"],function(e,t,s,n){var r;s._locale._eraYearOrdinalRegex&&(r=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[ie]=s._locale.eraYearOrdinalParse(e,r):t[ie]=parseInt(e,10)});function _u(e,t){var s,n,r,i=this._eras||Fe("en")._eras;for(s=0,n=i.length;s<n;++s){switch(typeof i[s].since){case"string":r=y(i[s].since).startOf("day"),i[s].since=r.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":r=y(i[s].until).startOf("day").valueOf(),i[s].until=r.valueOf();break}}return i}function yu(e,t,s){var n,r,i=this.eras(),a,l,o;for(e=e.toUpperCase(),n=0,r=i.length;n<r;++n)if(a=i[n].name.toUpperCase(),l=i[n].abbr.toUpperCase(),o=i[n].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[n];break;case"NNNN":if(a===e)return i[n];break;case"NNNNN":if(o===e)return i[n];break}else if([a,l,o].indexOf(e)>=0)return i[n]}function wu(e,t){var s=e.since<=e.until?1:-1;return t===void 0?y(e.since).year():y(e.since).year()+(t-e.offset)*s}function ku(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].name;return""}function Su(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].narrow;return""}function Mu(){var e,t,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return n[e].abbr;return""}function xu(){var e,t,s,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=r[e].since<=r[e].until?1:-1,n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-y(r[e].since).year())*s+r[e].offset;return this.year()}function bu(e){return U(this,"_erasNameRegex")||rn.call(this),e?this._erasNameRegex:this._erasRegex}function Ou(e){return U(this,"_erasAbbrRegex")||rn.call(this),e?this._erasAbbrRegex:this._erasRegex}function Du(e){return U(this,"_erasNarrowRegex")||rn.call(this),e?this._erasNarrowRegex:this._erasRegex}function nn(e,t){return t.erasAbbrRegex(e)}function Tu(e,t){return t.erasNameRegex(e)}function Cu(e,t){return t.erasNarrowRegex(e)}function Yu(e,t){return t._eraYearOrdinalRegex||mt}function rn(){var e=[],t=[],s=[],n=[],r,i,a,l,o,h=this.eras();for(r=0,i=h.length;r<i;++r)a=We(h[r].name),l=We(h[r].abbr),o=We(h[r].narrow),t.push(a),e.push(l),s.push(o),n.push(a),n.push(l),n.push(o);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}O(0,["gg",2],0,function(){return this.weekYear()%100});O(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ds(e,t){O(0,[e,e.length],0,t)}ds("gggg","weekYear");ds("ggggg","weekYear");ds("GGGG","isoWeekYear");ds("GGGGG","isoWeekYear");w("G",as);w("g",as);w("GG",B,he);w("gg",B,he);w("GGGG",Vs,js);w("gggg",Vs,js);w("GGGGG",is,ns);w("ggggg",is,ns);Et(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,n){t[n.substr(0,2)]=A(e)});Et(["gg","GG"],function(e,t,s,n){t[n]=y.parseTwoDigitYear(e)});function Pu(e){return Ar.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Lu(e){return Ar.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Au(){return Re(this.year(),1,4)}function Nu(){return Re(this.isoWeekYear(),1,4)}function Iu(){var e=this.localeData()._week;return Re(this.year(),e.dow,e.doy)}function Eu(){var e=this.localeData()._week;return Re(this.weekYear(),e.dow,e.doy)}function Ar(e,t,s,n,r){var i;return e==null?Tt(this,n,r).year:(i=Re(e,n,r),t>i&&(t=i),Wu.call(this,e,t,s,n,r))}function Wu(e,t,s,n,r){var i=hr(e,t,s,n,r),a=Dt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}O("Q",0,"Qo","quarter");w("Q",tr);H("Q",function(e,t){t[Ie]=(A(e)-1)*3});function Ru(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}O("D",["DD",2],"Do","date");w("D",B,pt);w("DD",B,he);w("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});H(["D","DD"],Oe);H("Do",function(e,t){t[Oe]=A(e.match(B)[0])});var Nr=gt("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear");w("DDD",rs);w("DDDD",sr);H(["DDD","DDDD"],function(e,t,s){s._dayOfYear=A(e)});function $u(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}O("m",["mm",2],0,"minute");w("m",B,Bs);w("mm",B,he);H(["m","mm"],we);var Fu=gt("Minutes",!1);O("s",["ss",2],0,"second");w("s",B,Bs);w("ss",B,he);H(["s","ss"],Ee);var Uu=gt("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)});O(0,["SS",2],0,function(){return~~(this.millisecond()/10)});O(0,["SSS",3],0,"millisecond");O(0,["SSSS",4],0,function(){return this.millisecond()*10});O(0,["SSSSS",5],0,function(){return this.millisecond()*100});O(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});O(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});O(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});O(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});w("S",rs,tr);w("SS",rs,he);w("SSS",rs,sr);var Ze,Ir;for(Ze="SSSS";Ze.length<=9;Ze+="S")w(Ze,mt);function zu(e,t){t[et]=A(("0."+e)*1e3)}for(Ze="S";Ze.length<=9;Ze+="S")H(Ze,zu);Ir=gt("Milliseconds",!1);O("z",0,0,"zoneAbbr");O("zz",0,0,"zoneName");function Hu(){return this._isUTC?"UTC":""}function ju(){return this._isUTC?"Coordinated Universal Time":""}var p=Nt.prototype;p.add=El;p.calendar=Hl;p.clone=jl;p.diff=Kl;p.endOf=ou;p.format=tu;p.from=su;p.fromNow=nu;p.to=ru;p.toNow=iu;p.get=Xa;p.invalidAt=gu;p.isAfter=Vl;p.isBefore=Bl;p.isBetween=Zl;p.isSame=Gl;p.isSameOrAfter=ql;p.isSameOrBefore=Jl;p.isValid=mu;p.lang=Tr;p.locale=Dr;p.localeData=Cr;p.max=ml;p.min=fl;p.parsingFlags=pu;p.set=eo;p.startOf=au;p.subtract=Wl;p.toArray=du;p.toObject=hu;p.toDate=cu;p.toISOString=Xl;p.inspect=eu;typeof Symbol<"u"&&Symbol.for!=null&&(p[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});p.toJSON=fu;p.toString=Ql;p.unix=uu;p.valueOf=lu;p.creationData=vu;p.eraName=ku;p.eraNarrow=Su;p.eraAbbr=Mu;p.eraYear=xu;p.year=ir;p.isLeapYear=Qa;p.weekYear=Pu;p.isoWeekYear=Lu;p.quarter=p.quarters=Ru;p.month=cr;p.daysInMonth=uo;p.week=p.weeks=_o;p.isoWeek=p.isoWeeks=yo;p.weeksInYear=Iu;p.weeksInWeekYear=Eu;p.isoWeeksInYear=Au;p.isoWeeksInISOWeekYear=Nu;p.date=Nr;p.day=p.days=Lo;p.weekday=Ao;p.isoWeekday=No;p.dayOfYear=$u;p.hour=p.hours=Uo;p.minute=p.minutes=Fu;p.second=p.seconds=Uu;p.millisecond=p.milliseconds=Ir;p.utcOffset=Ml;p.utc=bl;p.local=Ol;p.parseZone=Dl;p.hasAlignedHourOffset=Tl;p.isDST=Cl;p.isLocal=Pl;p.isUtcOffset=Ll;p.isUtc=Mr;p.isUTC=Mr;p.zoneAbbr=Hu;p.zoneName=ju;p.dates=pe("dates accessor is deprecated. Use date instead.",Nr);p.months=pe("months accessor is deprecated. Use month instead",cr);p.years=pe("years accessor is deprecated. Use year instead",ir);p.zone=pe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",xl);p.isDSTShifted=pe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yl);function Vu(e){return j(e*1e3)}function Bu(){return j.apply(null,arguments).parseZone()}function Er(e){return e}var z=Us.prototype;z.calendar=Ya;z.longDateFormat=Na;z.invalidDate=Ea;z.ordinal=$a;z.preparse=Er;z.postformat=Er;z.relativeTime=Ua;z.pastFuture=za;z.set=Ta;z.eras=_u;z.erasParse=yu;z.erasConvertYear=wu;z.erasAbbrRegex=Ou;z.erasNameRegex=bu;z.erasNarrowRegex=Du;z.months=io;z.monthsShort=ao;z.monthsParse=lo;z.monthsRegex=ho;z.monthsShortRegex=co;z.week=mo;z.firstDayOfYear=vo;z.firstDayOfWeek=go;z.weekdays=Do;z.weekdaysMin=Co;z.weekdaysShort=To;z.weekdaysParse=Po;z.weekdaysRegex=Io;z.weekdaysShortRegex=Eo;z.weekdaysMinRegex=Wo;z.isPM=$o;z.meridiem=zo;function ts(e,t,s,n){var r=Fe(),i=Ce().set(n,t);return r[s](i,e)}function Wr(e,t,s){if($e(e)&&(t=e,e=void 0),e=e||"",t!=null)return ts(e,t,s,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ts(e,n,s,"month");return r}function an(e,t,s,n){typeof e=="boolean"?($e(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,$e(t)&&(s=t,t=void 0),t=t||"");var r=Fe(),i=e?r._week.dow:0,a,l=[];if(s!=null)return ts(t,(s+i)%7,n,"day");for(a=0;a<7;a++)l[a]=ts(t,(a+i)%7,n,"day");return l}function Zu(e,t){return Wr(e,t,"months")}function Gu(e,t){return Wr(e,t,"monthsShort")}function qu(e,t,s){return an(e,t,s,"weekdays")}function Ju(e,t,s){return an(e,t,s,"weekdaysShort")}function Ku(e,t,s){return an(e,t,s,"weekdaysMin")}qe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=A(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});y.lang=pe("moment.lang is deprecated. Use moment.locale instead.",qe);y.langData=pe("moment.langData is deprecated. Use moment.localeData instead.",Fe);var Le=Math.abs;function Qu(){var e=this._data;return this._milliseconds=Le(this._milliseconds),this._days=Le(this._days),this._months=Le(this._months),e.milliseconds=Le(e.milliseconds),e.seconds=Le(e.seconds),e.minutes=Le(e.minutes),e.hours=Le(e.hours),e.months=Le(e.months),e.years=Le(e.years),this}function Rr(e,t,s,n){var r=Me(t,s);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Xu(e,t){return Rr(this,e,t,1)}function ec(e,t){return Rr(this,e,t,-1)}function Sn(e){return e<0?Math.floor(e):Math.ceil(e)}function tc(){var e=this._milliseconds,t=this._days,s=this._months,n=this._data,r,i,a,l,o;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Sn(Ls(s)+t)*864e5,t=0,s=0),n.milliseconds=e%1e3,r=me(e/1e3),n.seconds=r%60,i=me(r/60),n.minutes=i%60,a=me(i/60),n.hours=a%24,t+=me(a/24),o=me($r(t)),s+=o,t-=Sn(Ls(o)),l=me(s/12),s%=12,n.days=t,n.months=s,n.years=l,this}function $r(e){return e*4800/146097}function Ls(e){return e*146097/4800}function sc(e){if(!this.isValid())return NaN;var t,s,n=this._milliseconds;if(e=ge(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,s=this._months+$r(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Ls(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Ue(e){return function(){return this.as(e)}}var Fr=Ue("ms"),nc=Ue("s"),rc=Ue("m"),ic=Ue("h"),ac=Ue("d"),oc=Ue("w"),lc=Ue("M"),uc=Ue("Q"),cc=Ue("y"),dc=Fr;function hc(){return Me(this)}function fc(e){return e=ge(e),this.isValid()?this[e+"s"]():NaN}function st(e){return function(){return this.isValid()?this._data[e]:NaN}}var mc=st("milliseconds"),pc=st("seconds"),gc=st("minutes"),vc=st("hours"),_c=st("days"),yc=st("months"),wc=st("years");function kc(){return me(this.days()/7)}var Ae=Math.round,at={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Sc(e,t,s,n,r){return r.relativeTime(t||1,!!s,e,n)}function Mc(e,t,s,n){var r=Me(e).abs(),i=Ae(r.as("s")),a=Ae(r.as("m")),l=Ae(r.as("h")),o=Ae(r.as("d")),h=Ae(r.as("M")),c=Ae(r.as("w")),u=Ae(r.as("y")),m=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||a<=1&&["m"]||a<s.m&&["mm",a]||l<=1&&["h"]||l<s.h&&["hh",l]||o<=1&&["d"]||o<s.d&&["dd",o];return s.w!=null&&(m=m||c<=1&&["w"]||c<s.w&&["ww",c]),m=m||h<=1&&["M"]||h<s.M&&["MM",h]||u<=1&&["y"]||["yy",u],m[2]=t,m[3]=+e>0,m[4]=n,Sc.apply(null,m)}function xc(e){return e===void 0?Ae:typeof e=="function"?(Ae=e,!0):!1}function bc(e,t){return at[e]===void 0?!1:t===void 0?at[e]:(at[e]=t,e==="s"&&(at.ss=t-1),!0)}function Oc(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=at,r,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(n=Object.assign({},at,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),r=this.localeData(),i=Mc(this,!s,n,r),s&&(i=r.pastFuture(+this,i)),r.postformat(i)}var _s=Math.abs;function nt(e){return(e>0)-(e<0)||+e}function hs(){if(!this.isValid())return this.localeData().invalidDate();var e=_s(this._milliseconds)/1e3,t=_s(this._days),s=_s(this._months),n,r,i,a,l=this.asSeconds(),o,h,c,u;return l?(n=me(e/60),r=me(n/60),e%=60,n%=60,i=me(s/12),s%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",o=l<0?"-":"",h=nt(this._months)!==nt(l)?"-":"",c=nt(this._days)!==nt(l)?"-":"",u=nt(this._milliseconds)!==nt(l)?"-":"",o+"P"+(i?h+i+"Y":"")+(s?h+s+"M":"")+(t?c+t+"D":"")+(r||n||e?"T":"")+(r?u+r+"H":"")+(n?u+n+"M":"")+(e?u+a+"S":"")):"P0D"}var R=cs.prototype;R.isValid=yl;R.abs=Qu;R.add=Xu;R.subtract=ec;R.as=sc;R.asMilliseconds=Fr;R.asSeconds=nc;R.asMinutes=rc;R.asHours=ic;R.asDays=ac;R.asWeeks=oc;R.asMonths=lc;R.asQuarters=uc;R.asYears=cc;R.valueOf=dc;R._bubble=tc;R.clone=hc;R.get=fc;R.milliseconds=mc;R.seconds=pc;R.minutes=gc;R.hours=vc;R.days=_c;R.weeks=kc;R.months=yc;R.years=wc;R.humanize=Oc;R.toISOString=hs;R.toString=hs;R.toJSON=hs;R.locale=Dr;R.localeData=Cr;R.toIsoString=pe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hs);R.lang=Tr;O("X",0,0,"unix");O("x",0,0,"valueOf");w("x",as);w("X",Ba);H("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});H("x",function(e,t,s){s._d=new Date(A(e))});//! moment.js
y.version="2.30.1";Oa(j);y.fn=p;y.min=pl;y.max=gl;y.now=vl;y.utc=Ce;y.unix=Vu;y.months=Zu;y.isDate=At;y.locale=qe;y.invalid=ss;y.duration=Me;y.isMoment=Se;y.weekdays=qu;y.parseZone=Bu;y.localeData=Fe;y.isDuration=Gt;y.monthsShort=Gu;y.weekdaysMin=Ku;y.defineLocale=Ks;y.updateLocale=Bo;y.locales=Zo;y.weekdaysShort=Ju;y.normalizeUnits=ge;y.relativeTimeRounding=xc;y.relativeTimeThreshold=bc;y.calendarFormat=zl;y.prototype=p;y.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const xe=e=>(si("data-v-6ced0f40"),e=e(),ni(),e),Dc={class:"dataWrap"},Tc=xe(()=>f("p",null,"相簿名稱",-1)),Cc=xe(()=>f("p",null,"建立時間",-1)),Yc={class:"locationWrap"},Pc={class:"modeWrap"},Lc=xe(()=>f("p",null,"選取地點方式",-1)),Ac={class:"modeDataWrap"},Nc={key:0,class:"addressWrap"},Ic={key:1,class:"XYWrap"},Ec=xe(()=>f("p",null,"X 軸",-1)),Wc=xe(()=>f("p",null,"Y 軸",-1)),Rc=xe(()=>f("p",null,"類型",-1)),$c={class:"imgsWrap"},Fc=xe(()=>f("p",null,"照片",-1)),Uc={class:"imgsDataWrap"},zc={key:0,class:"imgsSrcWrap"},Hc=["onClick"],jc={key:0,class:"uploadImgWrap"},Vc={enctype:"multipart/form-data"},Bc={class:"albumDepictionWrap"},Zc=xe(()=>f("p",null,"相簿說明",-1)),Gc={class:"remarkWrap"},qc=xe(()=>f("p",null,"備註",-1)),Jc={class:"sendDataWrap"},Kc=xe(()=>f("div",null,"清除",-1)),Qc=xe(()=>f("div",null,"儲存",-1)),Xc=V({__name:"NewAlbumPage",props:{data:{},options:{}},emits:["deleteImage","initNewAlbum","addedSuccess","updateNewAlbum","uploadImages"],setup(e,{emit:t}){const s=$n(),n=Fn(),r=e,i=$(JSON.parse(JSON.stringify(r.data)));ce(()=>r.data,()=>{r.data.item.updateStatus?i.value=JSON.parse(JSON.stringify(r.data)):(i.value.item.lng=r.data.item.lng,i.value.item.lat=r.data.item.lat,i.value.item.newDate=r.data.item.newDate,i.value.uploadStatus=r.data.uploadStatus)},{deep:!0}),Lt(()=>{i.value.imgsSrc.forEach((c,u)=>{o(u)})});const a=()=>{n.warning({title:"警告",content:"清除資料 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{h("initNewAlbum")}})},l=async()=>{if(i.value.item.imgs=i.value.imgsSrc.filter(u=>u!=="").map(u=>u).join(","),i.value.item.title===""){s.warning("請輸入相簿名稱");return}if(i.value.item.type===""){s.warning("請選擇類型");return}if(i.value.item.depiction===""){s.warning("請輸入相簿敘述");return}if(i.value.item.remark===""){s.warning("請輸入備註");return}if(i.value.item.imgs.length===0){s.warning("請上傳照片");return}if(i.value.item.lat===""||i.value.item.lng===""){s.warning("請選擇地點");return}const c=new FormData;c.append("Name",i.value.item.title),c.append("Time",String(i.value.item.newDate)),c.append("Lat",String(i.value.item.lat)),c.append("Lng",String(i.value.item.lng)),c.append("Type",String(i.value.item.type)),c.append("Depiction",i.value.item.depiction),c.append("Remark",i.value.item.remark),c.append("Imgs",String(i.value.item.imgs));try{(await it.post("/api/GoogleSheet/album",c)).status===200&&(h("addedSuccess"),s.success("新增成功"),r.data.item.updateStatus=!0,h("initNewAlbum"))}catch(u){console.log(u),s.error("新增失敗")}};async function o(c){try{const u=await fetch(i.value.imgsSrc[c]);if(u.redirected){const m=u.url;console.log("Redirected to:",m),i.value.imgsSrc[c]=m}}catch(u){console.error("Error fetching image:",u)}}const h=t;return ce(()=>i.value,()=>{h("updateNewAlbum",i.value)},{deep:!0}),(c,u)=>{const m=oe("n-input"),d=oe("n-radio"),g=oe("n-select"),k=oe("n-space"),v=oe("n-image"),D=oe("n-spin");return S(),T(Ge,null,[f("div",Dc,[f("div",null,[Tc,Y(m,{type:"text",value:i.value.item.title,"onUpdate:value":u[0]||(u[0]=M=>i.value.item.title=M),placeholder:"請輸入內容"},null,8,["value"])]),f("div",null,[Cc,Y(m,{type:"text",placeholder:i.value.item.newDate,disabled:""},null,8,["placeholder"])]),f("div",Yc,[f("div",Pc,[Lc,f("div",null,[Y(d,{checked:i.value.item.locationStaus==="map",value:"map",name:"locationMode",onClick:u[1]||(u[1]=M=>i.value.item.locationStaus="map")},{default:De(()=>[bs(" 地圖選取 ")]),_:1},8,["checked"])])]),f("div",Ac,[i.value.item.locationStaus==="address"?(S(),T("div",Nc,[Y(m,{type:"text",placeholder:"請輸入內容"})])):(S(),T("div",Ic,[f("div",null,[Ec,Y(m,{type:"text",value:i.value.item.lng,"onUpdate:value":u[2]||(u[2]=M=>i.value.item.lng=M),placeholder:"請輸入內容",disabled:""},null,8,["value"])]),f("div",null,[Wc,Y(m,{type:"text",value:i.value.item.lat,"onUpdate:value":u[3]||(u[3]=M=>i.value.item.lat=M),placeholder:"請輸入內容",disabled:""},null,8,["value"])])]))])]),f("div",null,[Rc,Y(k,{vertical:""},{default:De(()=>[Y(g,{value:i.value.item.type,"onUpdate:value":u[4]||(u[4]=M=>i.value.item.type=M),options:r.options,placeholder:"請選擇類型"},null,8,["value","options"])]),_:1})]),f("div",$c,[Fc,f("div",Uc,[Y(D,{size:"medium",show:i.value.uploadStatus},{default:De(()=>[(S(!0),T(Ge,null,Es(i.value.imgsSrc,(M,N)=>(S(),T(Ge,{key:M},[M!==""?(S(),T("div",zc,[f("div",{class:"deleteIconWrap",onClick:X=>c.$emit("deleteImage","new",i.value.imgsSrc,N)},[Y(C(se),{component:C(Jt),size:"18"},null,8,["component"])],8,Hc),Y(v,{src:M},null,8,["src"])])):ae("",!0)],64))),128)),i.value.imgsSrc.length<10?(S(),T("div",jc,[f("label",Vc,[Y(C(se),{component:C(Jt),size:"25"},null,8,["component"]),f("input",{type:"file",max:"10",id:"new_img_uploader",accept:"image/*",onChange:u[5]||(u[5]=M=>c.$emit("uploadImages",M,"new_img_uploader",i.value.imgsSrc,i.value.uploadNum,"new"))},null,32)])])):ae("",!0)]),_:1},8,["show"])])]),f("div",Bc,[Zc,Y(m,{class:"textareaStyle",type:"textarea",value:i.value.item.depiction,"onUpdate:value":u[6]||(u[6]=M=>i.value.item.depiction=M),placeholder:"請輸入內容"},null,8,["value"])]),f("div",Gc,[qc,Y(m,{class:"textareaStyle",type:"textarea",value:i.value.item.remark,"onUpdate:value":u[7]||(u[7]=M=>i.value.item.remark=M),placeholder:"請輸入內容"},null,8,["value"])])]),f("div",Jc,[f("div",{onClick:a},[Y(C(se),{component:C(vi),size:"15"},null,8,["component"]),Kc]),f("div",{onClick:l},[Y(C(se),{component:C(Vn),size:"15"},null,8,["component"]),Qc])])],64)}}}),ed=Un(Xc,[["__scopeId","data-v-6ced0f40"]]);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mapdiv[data-v-174b771e]{width:100%;height:100%}.info-window-wrapper[data-v-90174664]{display:none}.mapdiv .info-window-wrapper[data-v-90174664]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var td=Object.defineProperty,sd=(e,t,s)=>t in e?td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mn=(e,t,s)=>(sd(e,typeof t!="symbol"?t+"":t,s),s);const on=Symbol("map"),ln=Symbol("api"),Ur=Symbol("markerCluster"),fs=Symbol("CustomMarker"),nd=Symbol("mapTilesLoaded"),zr=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function rd(e,t,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function l(c){try{h(n.next(c))}catch(u){a(u)}}function o(c){try{h(n.throw(c))}catch(u){a(u)}}function h(c){c.done?i(c.value):r(c.value).then(l,o)}h((n=n.apply(e,t||[])).next())})}var id=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const xn="__googleMapsScriptId";var ot;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(ot||(ot={}));class Xe{constructor({apiKey:t,authReferrerPolicy:s,channel:n,client:r,id:i=xn,language:a,libraries:l=[],mapIds:o,nonce:h,region:c,retries:u=3,url:m="https://maps.googleapis.com/maps/api/js",version:d}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=s,this.channel=n,this.client=r,this.id=i||xn,this.language=a,this.libraries=l,this.mapIds=o,this.nonce=h,this.region=c,this.retries=u,this.url=m,this.version=d,Xe.instance){if(!id(this.options,Xe.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Xe.instance.options)}`);return Xe.instance}Xe.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ot.FAILURE:this.done?ot.SUCCESS:this.loading?ot.LOADING:ot.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,s)=>{this.loadCallback(n=>{n?s(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,s;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((s=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||s===void 0)&&s.importLibrary||(i=>{let a,l,o,h="The Google Maps JavaScript API",c="google",u="importLibrary",m="__ib__",d=document,g=window;g=g[c]||(g[c]={});const k=g.maps||(g.maps={}),v=new Set,D=new URLSearchParams,M=()=>a||(a=new Promise((N,X)=>rd(this,void 0,void 0,function*(){var G;yield l=d.createElement("script"),l.id=this.id,D.set("libraries",[...v]+"");for(o in i)D.set(o.replace(/[A-Z]/g,de=>"_"+de[0].toLowerCase()),i[o]);D.set("callback",c+".maps."+m),l.src=this.url+"?"+D,k[m]=N,l.onerror=()=>a=X(Error(h+" could not load.")),l.nonce=this.nonce||((G=d.querySelector("script[nonce]"))===null||G===void 0?void 0:G.nonce)||"",d.head.append(l)})));k[u]?console.warn(h+" only loads once. Ignoring:",i):k[u]=(N,...X)=>v.add(N)&&M().then(()=>k[u](N,...X))})(n);const r=this.libraries.map(i=>this.importLibrary(i));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const s=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${s} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}function ad(e){return class extends e.OverlayView{constructor(t){super(),Mn(this,"element"),Mn(this,"opts");const{element:s,...n}=t;this.element=s,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const t=this.element;return t.style.display!=="none"&&t.style.visibility!=="hidden"&&(t.style.opacity===""||Number(t.style.opacity)>.01)}onAdd(){if(!this.element)return;const t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const t=this.getProjection(),s=t==null?void 0:t.fromLatLngToDivPixel(this.getPosition());if(s){this.element.style.position="absolute";const n=this.element.offsetHeight,r=this.element.offsetWidth;let i,a;switch(this.opts.anchorPoint){case"TOP_CENTER":i=s.x-r/2,a=s.y;break;case"BOTTOM_CENTER":i=s.x-r/2,a=s.y-n;break;case"LEFT_CENTER":i=s.x,a=s.y-n/2;break;case"RIGHT_CENTER":i=s.x-r,a=s.y-n/2;break;case"TOP_LEFT":i=s.x,a=s.y;break;case"TOP_RIGHT":i=s.x-r,a=s.y;break;case"BOTTOM_LEFT":i=s.x,a=s.y-n;break;case"BOTTOM_RIGHT":i=s.x-r,a=s.y-n;break;default:i=s.x-r/2,a=s.y-n/2}this.element.style.left=i+"px",this.element.style.top=a+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(t){const{element:s,...n}=t;this.element=s,this.opts=n,this.draw()}}}let bn;const On=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","heading_changed","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],od=V({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:On,setup(e,{emit:t}){const s=$(),n=$(!1),r=$(),i=$(),a=$(!1);Bt(on,r),Bt(ln,i),Bt(nd,a);const l=()=>{const u={...e};Object.keys(u).forEach(g=>{u[g]===void 0&&delete u[g]});const m=g=>{var k;return g?{position:(k=i.value)==null?void 0:k.ControlPosition[g]}:{}},d={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:m(e.panControlPosition),zoomControlOptions:m(e.zoomControlPosition),rotateControlOptions:m(e.rotateControlPosition),streetViewControlOptions:m(e.streetViewControlPosition),fullscreenControlOptions:m(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi};return{...u,...d}},o=ce([i,r],([u,m])=>{const d=u,g=m;d&&g&&(d.event.addListenerOnce(g,"tilesloaded",()=>{a.value=!0}),setTimeout(o,0))},{immediate:!0}),h=()=>{try{const{apiKey:u,region:m,version:d,language:g,libraries:k}=e;bn=new Xe({apiKey:u,region:m,version:d,language:g,libraries:k})}catch(u){console.error(u)}},c=u=>{i.value=lt(u.maps),r.value=lt(new u.maps.Map(s.value,l()));const m=ad(i.value);i.value[fs]=m,On.forEach(g=>{var k;(k=r.value)==null||k.addListener(g,v=>t(g,v))}),n.value=!0;const d=Object.keys(e).filter(g=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom"].includes(g)).map(g=>li(e,g));ce([()=>e.center,()=>e.zoom,...d],([g,k],[v,D])=>{var M,N,X;const{center:G,zoom:de,...q}=l();(M=r.value)==null||M.setOptions(q),k!==void 0&&k!==D&&((N=r.value)==null||N.setZoom(k));const le=!v||g.lng!==v.lng||g.lat!==v.lat;g&&le&&((X=r.value)==null||X.panTo(g))})};return Lt(()=>{e.apiPromise&&e.apiPromise instanceof Promise?e.apiPromise.then(c):(h(),bn.load().then(c))}),Ws(()=>{var u;a.value=!1,r.value&&((u=i.value)==null||u.event.clearInstanceListeners(r.value))}),{mapRef:s,ready:n,map:r,api:i,mapTilesLoaded:a}}}),Hr=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},ld={ref:"mapRef",class:"mapdiv"};function ud(e,t,s,n,r,i){return S(),T("div",null,[f("div",ld,null,512),zn(e.$slots,"default",ri(ii({ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded})),void 0,!0)])}const cd=Hr(od,[["render",ud],["__scopeId","data-v-174b771e"]]);function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hd=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const Yt=dd(hd),fd=e=>e==="Marker",md=e=>e===fs,pd=(e,t,s,n)=>{const r=$(),i=Mt(on,$()),a=Mt(ln,$()),l=Mt(Ur,$()),o=bt(()=>!!(l.value&&a.value&&(r.value instanceof a.value.Marker||r.value instanceof a.value[fs])));return ce([i,s],(h,[c,u])=>{var m,d,g;const k=!Yt(s.value,u)||i.value!==c;!i.value||!a.value||!k||(r.value?(r.value.setOptions(s.value),o.value&&((m=l.value)==null||m.removeMarker(r.value),(d=l.value)==null||d.addMarker(r.value))):(fd(e)?r.value=lt(new a.value[e](s.value)):md(e)?r.value=lt(new a.value[e](s.value)):r.value=lt(new a.value[e]({...s.value,map:i.value})),o.value?(g=l.value)==null||g.addMarker(r.value):r.value.setMap(i.value),t.forEach(v=>{var D;(D=r.value)==null||D.addListener(v,M=>n(v,M))})))},{immediate:!0}),Ws(()=>{var h,c;r.value&&((h=a.value)==null||h.event.clearInstanceListeners(r.value),o.value?(c=l.value)==null||c.removeMarker(r.value):r.value.setMap(null))}),r};zr.concat(["bounds_changed"]);zr.concat(["center_changed","radius_changed"]);const Dn=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ys=1,yt=8;class un{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,n]=new Uint8Array(t,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(r!==ys)throw new Error(`Got v${r} data when expected v${ys}.`);const i=Dn[n&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new un(l,a,i,t)}constructor(t,s=64,n=Float64Array,r){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=Dn.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,yt,t),this.coords=new this.ArrayType(this.data,yt+l+o,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(yt+a+l+o),this.ids=new this.IndexArrayType(this.data,yt,t),this.coords=new this.ArrayType(this.data,yt+l+o,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ys<<4)+i]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=t)}add(t,s){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=s,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return As(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,s,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:l}=this,o=[0,i.length-1,0],h=[];for(;o.length;){const c=o.pop()||0,u=o.pop()||0,m=o.pop()||0;if(u-m<=l){for(let v=m;v<=u;v++){const D=a[2*v],M=a[2*v+1];D>=t&&D<=n&&M>=s&&M<=r&&h.push(i[v])}continue}const d=m+u>>1,g=a[2*d],k=a[2*d+1];g>=t&&g<=n&&k>=s&&k<=r&&h.push(i[d]),(c===0?t<=g:s<=k)&&(o.push(m),o.push(d-1),o.push(1-c)),(c===0?n>=g:r>=k)&&(o.push(d+1),o.push(u),o.push(1-c))}return h}within(t,s,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:a}=this,l=[0,r.length-1,0],o=[],h=n*n;for(;l.length;){const c=l.pop()||0,u=l.pop()||0,m=l.pop()||0;if(u-m<=a){for(let v=m;v<=u;v++)Tn(i[2*v],i[2*v+1],t,s)<=h&&o.push(r[v]);continue}const d=m+u>>1,g=i[2*d],k=i[2*d+1];Tn(g,k,t,s)<=h&&o.push(r[d]),(c===0?t-n<=g:s-n<=k)&&(l.push(m),l.push(d-1),l.push(1-c)),(c===0?t+n>=g:s+n>=k)&&(l.push(d+1),l.push(u),l.push(1-c))}return o}}function As(e,t,s,n,r,i){if(r-n<=s)return;const a=n+r>>1;jr(e,t,a,n,r,i),As(e,t,s,n,a-1,1-i),As(e,t,s,a+1,r,1-i)}function jr(e,t,s,n,r,i){for(;r>n;){if(r-n>600){const h=r-n+1,c=s-n+1,u=Math.log(h),m=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*m*(h-m)/h)*(c-h/2<0?-1:1),g=Math.max(n,Math.floor(s-c*m/h+d)),k=Math.min(r,Math.floor(s+(h-c)*m/h+d));jr(e,t,s,g,k,i)}const a=t[2*s+i];let l=n,o=r;for(wt(e,t,n,s),t[2*r+i]>a&&wt(e,t,n,r);l<o;){for(wt(e,t,l,o),l++,o--;t[2*l+i]<a;)l++;for(;t[2*o+i]>a;)o--}t[2*n+i]===a?wt(e,t,n,o):(o++,wt(e,t,o,r)),o<=s&&(n=o+1),s<=o&&(r=o-1)}}function wt(e,t,s,n){ws(e,s,n),ws(t,2*s,2*n),ws(t,2*s+1,2*n+1)}function ws(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}function Tn(e,t,s,n){const r=e-s,i=t-n;return r*r+i*i}const gd={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Cn=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Ke=2,je=3,ks=4,ze=5,Vr=6;class Br{constructor(t){this.options=Object.assign(Object.create(gd),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:s,minZoom:n,maxZoom:r}=this.options;s&&console.time("total time");const i=`prepare ${t.length} points`;s&&console.time(i),this.points=t;const a=[];for(let o=0;o<t.length;o++){const h=t[o];if(!h.geometry)continue;const[c,u]=h.geometry.coordinates,m=Cn(zt(c)),d=Cn(Ht(u));a.push(m,d,1/0,o,-1,1),this.options.reduce&&a.push(0)}let l=this.trees[r+1]=this._createTree(a);s&&console.timeEnd(i);for(let o=r;o>=n;o--){const h=+Date.now();l=this.trees[o]=this._createTree(this._cluster(l,o)),s&&console.log("z%d: %d clusters in %dms",o,l.numItems,+Date.now()-h)}return s&&console.timeEnd("total time"),this}getClusters(t,s){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const u=this.getClusters([n,r,180,a],s),m=this.getClusters([-180,r,i,a],s);return u.concat(m)}const l=this.trees[this._limitZoom(s)],o=l.range(zt(n),Ht(a),zt(i),Ht(r)),h=l.data,c=[];for(const u of o){const m=this.stride*u;c.push(h[m+ze]>1?Yn(h,m,this.clusterProps):this.points[h[m+je]])}return c}getChildren(t){const s=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const a=i.data;if(s*this.stride>=a.length)throw new Error(r);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=a[s*this.stride],h=a[s*this.stride+1],c=i.within(o,h,l),u=[];for(const m of c){const d=m*this.stride;a[d+ks]===t&&u.push(a[d+ze]>1?Yn(a,d,this.clusterProps):this.points[a[d+je]])}if(u.length===0)throw new Error(r);return u}getLeaves(t,s,n){s=s||10,n=n||0;const r=[];return this._appendLeaves(r,t,s,n,0),r}getTile(t,s,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:a,radius:l}=this.options,o=l/a,h=(n-o)/i,c=(n+1+o)/i,u={features:[]};return this._addTileFeatures(r.range((s-o)/i,h,(s+1+o)/i,c),r.data,s,n,i,u),s===0&&this._addTileFeatures(r.range(1-o/i,h,1,c),r.data,i,n,i,u),s===i-1&&this._addTileFeatures(r.range(0,h,o/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(t){let s=this._getOriginZoom(t)-1;for(;s<=this.options.maxZoom;){const n=this.getChildren(t);if(s++,n.length!==1)break;t=n[0].properties.cluster_id}return s}_appendLeaves(t,s,n,r,i){const a=this.getChildren(s);for(const l of a){const o=l.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(t,o.cluster_id,n,r,i):i<r?i++:t.push(l),t.length===n)break}return i}_createTree(t){const s=new un(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)s.add(t[n],t[n+1]);return s.finish(),s.data=t,s}_addTileFeatures(t,s,n,r,i,a){for(const l of t){const o=l*this.stride,h=s[o+ze]>1;let c,u,m;if(h)c=Zr(s,o,this.clusterProps),u=s[o],m=s[o+1];else{const k=this.points[s[o+je]];c=k.properties;const[v,D]=k.geometry.coordinates;u=zt(v),m=Ht(D)}const d={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(m*i-r))]],tags:c};let g;h||this.options.generateId?g=s[o+je]:g=this.points[s[o+je]].id,g!==void 0&&(d.id=g),a.features.push(d)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,s){const{radius:n,extent:r,reduce:i,minPoints:a}=this.options,l=n/(r*Math.pow(2,s)),o=t.data,h=[],c=this.stride;for(let u=0;u<o.length;u+=c){if(o[u+Ke]<=s)continue;o[u+Ke]=s;const m=o[u],d=o[u+1],g=t.within(o[u],o[u+1],l),k=o[u+ze];let v=k;for(const D of g){const M=D*c;o[M+Ke]>s&&(v+=o[M+ze])}if(v>k&&v>=a){let D=m*k,M=d*k,N,X=-1;const G=((u/c|0)<<5)+(s+1)+this.points.length;for(const de of g){const q=de*c;if(o[q+Ke]<=s)continue;o[q+Ke]=s;const le=o[q+ze];D+=o[q]*le,M+=o[q+1]*le,o[q+ks]=G,i&&(N||(N=this._map(o,u,!0),X=this.clusterProps.length,this.clusterProps.push(N)),i(N,this._map(o,q)))}o[u+ks]=G,h.push(D/v,M/v,1/0,G,-1,v),i&&h.push(X)}else{for(let D=0;D<c;D++)h.push(o[u+D]);if(v>1)for(const D of g){const M=D*c;if(!(o[M+Ke]<=s)){o[M+Ke]=s;for(let N=0;N<c;N++)h.push(o[M+N])}}}}return h}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,s,n){if(t[s+ze]>1){const a=this.clusterProps[t[s+Vr]];return n?Object.assign({},a):a}const r=this.points[t[s+je]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function Yn(e,t,s){return{type:"Feature",id:e[t+je],properties:Zr(e,t,s),geometry:{type:"Point",coordinates:[vd(e[t]),_d(e[t+1])]}}}function Zr(e,t,s){const n=e[t+ze],r=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,i=e[t+Vr],a=i===-1?{}:Object.assign({},s[i]);return Object.assign(a,{cluster:!0,cluster_id:e[t+je],point_count:n,point_count_abbreviated:r})}function zt(e){return e/360+.5}function Ht(e){const t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function vd(e){return(e-.5)*360}function _d(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cn(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s}class re{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,s){this.isAdvancedMarker(t)?t.map=s:t.setMap(s)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Pt{constructor({markers:t,position:s}){this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const s of this.markers)t.extend(re.getPosition(s));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>re.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(re.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const yd=(e,t,s,n)=>{const r=Gr(e.getBounds(),t,n);return s.filter(i=>r.contains(re.getPosition(i)))},Gr=(e,t,s)=>{const{northEast:n,southWest:r}=wd(e,t),i=kd({northEast:n,southWest:r},s);return Sd(i,t)},Pn=(e,t,s)=>{const n=Gr(e,t,s),r=n.getNorthEast(),i=n.getSouthWest();return[i.lng(),i.lat(),r.lng(),r.lat()]},wd=(e,t)=>({northEast:t.fromLatLngToDivPixel(e.getNorthEast()),southWest:t.fromLatLngToDivPixel(e.getSouthWest())}),kd=({northEast:e,southWest:t},s)=>(e.x+=s,e.y-=s,t.x-=s,t.y+=s,{northEast:e,southWest:t}),Sd=({northEast:e,southWest:t},s)=>{const n=s.fromDivPixelToLatLng(t),r=s.fromDivPixelToLatLng(e);return new google.maps.LatLngBounds(n,r)};class qr{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return xd(t)}}class Md extends qr{constructor(t){var{viewportPadding:s=60}=t,n=cn(t,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=s}calculate({markers:t,map:s,mapCanvasProjection:n}){return s.getZoom()>=this.maxZoom?{clusters:this.noop({markers:t}),changed:!1}:{clusters:this.cluster({markers:yd(s,n,t,this.viewportPadding),map:s,mapCanvasProjection:n})}}}const xd=e=>e.map(t=>new Pt({position:re.getPosition(t),markers:[t]}));class bd extends qr{constructor(t){var{maxZoom:s,radius:n=60}=t,r=cn(t,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new Br(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(t){let s=!1;const n={zoom:t.map.getZoom()};if(!Yt(t.markers,this.markers)){s=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=re.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return s||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(s=!Yt(this.state,n)),this.state=n,s&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:s}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(s=>this.transformCluster(s))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Pt({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Pt({markers:[r],position:re.getPosition(r)})}}class Od extends Md{constructor(t){var{maxZoom:s,radius:n=60,viewportPadding:r=60}=t,i=cn(t,["maxZoom","radius","viewportPadding"]);super({maxZoom:s,viewportPadding:r}),this.superCluster=new Br(Object.assign({maxZoom:this.maxZoom,radius:n},i)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(t){const s={zoom:Math.round(t.map.getZoom()),view:Pn(t.map.getBounds(),t.mapCanvasProjection,this.viewportPadding)};let n=!Yt(this.state,s);if(!Yt(t.markers,this.markers)){n=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=re.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return n&&(this.clusters=this.cluster(t),this.state=s),{clusters:this.clusters,changed:n}}cluster({map:t,mapCanvasProjection:s}){const n={zoom:Math.round(t.getZoom()),view:Pn(t.getBounds(),s,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Pt({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Pt({markers:[r],position:re.getPosition(r)})}}class Dd{constructor(t,s){this.markers={sum:t.length};const n=s.map(i=>i.count),r=n.reduce((i,a)=>i+a,0);this.clusters={count:s.length,markers:{mean:r/s.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Td{render({count:t,position:s},n,r){const i=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,a=`Cluster of ${t} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+t;if(re.isAdvancedMarkerAvailable(r)){const h=document.createElement("div");h.innerHTML=i;const c=h.firstElementChild;c.setAttribute("transform","translate(0 25)");const u={map:r,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}const o={position:s,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(i)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(o)}}function Cd(e,t){for(let s in t.prototype)e.prototype[s]=t.prototype[s]}class dn{constructor(){Cd(dn,google.maps.OverlayView)}}var ht;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(ht||(ht={}));const Yd=(e,t,s)=>{s.fitBounds(t.bounds)};class Pd extends dn{constructor({map:t,markers:s=[],algorithmOptions:n={},algorithm:r=new bd(n),renderer:i=new Td,onClusterClick:a=Yd}){super(),this.markers=[...s],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=a,t&&this.setMap(t)}addMarker(t,s){this.markers.includes(t)||(this.markers.push(t),s||this.render())}addMarkers(t,s){t.forEach(n=>{this.addMarker(n,!0)}),s||this.render()}removeMarker(t,s){const n=this.markers.indexOf(t);return n===-1?!1:(re.setMap(t,null),this.markers.splice(n,1),s||this.render(),!0)}removeMarkers(t,s){let n=!1;return t.forEach(r=>{n=this.removeMarker(r,!0)||n}),n&&!s&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,ht.CLUSTERING_BEGIN,this);const{clusters:s,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const r=new Set;for(const a of s)a.markers.length==1&&r.add(a.markers[0]);const i=[];for(const a of this.clusters)a.marker!=null&&(a.markers.length==1?r.has(a.marker)||re.setMap(a.marker,null):i.push(a.marker));this.clusters=s,this.renderClusters(),requestAnimationFrame(()=>i.forEach(a=>re.setMap(a,null)))}google.maps.event.trigger(this,ht.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>re.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new Dd(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,s),n.markers.forEach(r=>re.setMap(r,null)),this.onClusterClick&&n.marker.addListener("click",r=>{google.maps.event.trigger(this,ht.CLUSTER_CLICK,n),this.onClusterClick(r,n,s)})),re.setMap(n.marker,s)})}}const Ln=Object.values(ht),Ld=V({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Ln,setup(e,{emit:t,expose:s,slots:n}){const r=$(),i=Mt(on,$()),a=Mt(ln,$());return Bt(Ur,r),ce(i,()=>{i.value&&(r.value=lt(new Pd({map:i.value,algorithm:new Od(e.options.algorithmOptions??{}),...e.options})),Ln.forEach(l=>{var o;(o=r.value)==null||o.addListener(l,h=>t(l,h))}))},{immediate:!0}),Ws(()=>{var l;r.value&&((l=a.value)==null||l.event.clearInstanceListeners(r.value),r.value.clearMarkers(),r.value.setMap(null))}),s({markerCluster:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Ad=V({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:s,expose:n}){const r=$(),i=bt(()=>{var o;return(o=t.default)==null?void 0:o.call(t).some(h=>h.type!==ai)}),a=bt(()=>({...e.options,element:r.value})),l=pd(fs,[],a,s);return n({customMarker:l}),{customMarkerRef:r,customMarker:l,hasSlotContent:i}}}),Nd={key:0,class:"custom-marker-wrapper"};function Id(e,t,s,n,r,i){return e.hasSlotContent?(S(),T("div",Nd,[f("div",oi({ref:"customMarkerRef",style:{cursor:e.$attrs.onClick?"pointer":void 0}},e.$attrs),[zn(e.$slots,"default",{},void 0,!0)],16)])):ae("",!0)}const Ed=Hr(Ad,[["render",Id],["__scopeId","data-v-2d2d343a"]]);var Wd=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){var a=i[r];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s};const An=ui(Wd),Nn=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ss=1,kt=8;class hn{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,n]=new Uint8Array(t,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(r!==Ss)throw new Error(`Got v${r} data when expected v${Ss}.`);const i=Nn[n&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new hn(l,a,i,t)}constructor(t,s=64,n=Float64Array,r){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=Nn.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,kt,t),this.coords=new this.ArrayType(this.data,kt+l+o,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(kt+a+l+o),this.ids=new this.IndexArrayType(this.data,kt,t),this.coords=new this.ArrayType(this.data,kt+l+o,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ss<<4)+i]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=t)}add(t,s){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=s,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Ns(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,s,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:l}=this,o=[0,i.length-1,0],h=[];for(;o.length;){const c=o.pop()||0,u=o.pop()||0,m=o.pop()||0;if(u-m<=l){for(let v=m;v<=u;v++){const D=a[2*v],M=a[2*v+1];D>=t&&D<=n&&M>=s&&M<=r&&h.push(i[v])}continue}const d=m+u>>1,g=a[2*d],k=a[2*d+1];g>=t&&g<=n&&k>=s&&k<=r&&h.push(i[d]),(c===0?t<=g:s<=k)&&(o.push(m),o.push(d-1),o.push(1-c)),(c===0?n>=g:r>=k)&&(o.push(d+1),o.push(u),o.push(1-c))}return h}within(t,s,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:a}=this,l=[0,r.length-1,0],o=[],h=n*n;for(;l.length;){const c=l.pop()||0,u=l.pop()||0,m=l.pop()||0;if(u-m<=a){for(let v=m;v<=u;v++)In(i[2*v],i[2*v+1],t,s)<=h&&o.push(r[v]);continue}const d=m+u>>1,g=i[2*d],k=i[2*d+1];In(g,k,t,s)<=h&&o.push(r[d]),(c===0?t-n<=g:s-n<=k)&&(l.push(m),l.push(d-1),l.push(1-c)),(c===0?t+n>=g:s+n>=k)&&(l.push(d+1),l.push(u),l.push(1-c))}return o}}function Ns(e,t,s,n,r,i){if(r-n<=s)return;const a=n+r>>1;Jr(e,t,a,n,r,i),Ns(e,t,s,n,a-1,1-i),Ns(e,t,s,a+1,r,1-i)}function Jr(e,t,s,n,r,i){for(;r>n;){if(r-n>600){const h=r-n+1,c=s-n+1,u=Math.log(h),m=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*m*(h-m)/h)*(c-h/2<0?-1:1),g=Math.max(n,Math.floor(s-c*m/h+d)),k=Math.min(r,Math.floor(s+(h-c)*m/h+d));Jr(e,t,s,g,k,i)}const a=t[2*s+i];let l=n,o=r;for(St(e,t,n,s),t[2*r+i]>a&&St(e,t,n,r);l<o;){for(St(e,t,l,o),l++,o--;t[2*l+i]<a;)l++;for(;t[2*o+i]>a;)o--}t[2*n+i]===a?St(e,t,n,o):(o++,St(e,t,o,r)),o<=s&&(n=o+1),s<=o&&(r=o-1)}}function St(e,t,s,n){Ms(e,s,n),Ms(t,2*s,2*n),Ms(t,2*s+1,2*n+1)}function Ms(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}function In(e,t,s,n){const r=e-s,i=t-n;return r*r+i*i}const Rd={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},En=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Qe=2,Ve=3,xs=4,He=5,Kr=6;class $d{constructor(t){this.options=Object.assign(Object.create(Rd),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:s,minZoom:n,maxZoom:r}=this.options;s&&console.time("total time");const i=`prepare ${t.length} points`;s&&console.time(i),this.points=t;const a=[];for(let o=0;o<t.length;o++){const h=t[o];if(!h.geometry)continue;const[c,u]=h.geometry.coordinates,m=En(jt(c)),d=En(Vt(u));a.push(m,d,1/0,o,-1,1),this.options.reduce&&a.push(0)}let l=this.trees[r+1]=this._createTree(a);s&&console.timeEnd(i);for(let o=r;o>=n;o--){const h=+Date.now();l=this.trees[o]=this._createTree(this._cluster(l,o)),s&&console.log("z%d: %d clusters in %dms",o,l.numItems,+Date.now()-h)}return s&&console.timeEnd("total time"),this}getClusters(t,s){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const u=this.getClusters([n,r,180,a],s),m=this.getClusters([-180,r,i,a],s);return u.concat(m)}const l=this.trees[this._limitZoom(s)],o=l.range(jt(n),Vt(a),jt(i),Vt(r)),h=l.data,c=[];for(const u of o){const m=this.stride*u;c.push(h[m+He]>1?Wn(h,m,this.clusterProps):this.points[h[m+Ve]])}return c}getChildren(t){const s=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const a=i.data;if(s*this.stride>=a.length)throw new Error(r);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=a[s*this.stride],h=a[s*this.stride+1],c=i.within(o,h,l),u=[];for(const m of c){const d=m*this.stride;a[d+xs]===t&&u.push(a[d+He]>1?Wn(a,d,this.clusterProps):this.points[a[d+Ve]])}if(u.length===0)throw new Error(r);return u}getLeaves(t,s,n){s=s||10,n=n||0;const r=[];return this._appendLeaves(r,t,s,n,0),r}getTile(t,s,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:a,radius:l}=this.options,o=l/a,h=(n-o)/i,c=(n+1+o)/i,u={features:[]};return this._addTileFeatures(r.range((s-o)/i,h,(s+1+o)/i,c),r.data,s,n,i,u),s===0&&this._addTileFeatures(r.range(1-o/i,h,1,c),r.data,i,n,i,u),s===i-1&&this._addTileFeatures(r.range(0,h,o/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(t){let s=this._getOriginZoom(t)-1;for(;s<=this.options.maxZoom;){const n=this.getChildren(t);if(s++,n.length!==1)break;t=n[0].properties.cluster_id}return s}_appendLeaves(t,s,n,r,i){const a=this.getChildren(s);for(const l of a){const o=l.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(t,o.cluster_id,n,r,i):i<r?i++:t.push(l),t.length===n)break}return i}_createTree(t){const s=new hn(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)s.add(t[n],t[n+1]);return s.finish(),s.data=t,s}_addTileFeatures(t,s,n,r,i,a){for(const l of t){const o=l*this.stride,h=s[o+He]>1;let c,u,m;if(h)c=Qr(s,o,this.clusterProps),u=s[o],m=s[o+1];else{const k=this.points[s[o+Ve]];c=k.properties;const[v,D]=k.geometry.coordinates;u=jt(v),m=Vt(D)}const d={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(m*i-r))]],tags:c};let g;h||this.options.generateId?g=s[o+Ve]:g=this.points[s[o+Ve]].id,g!==void 0&&(d.id=g),a.features.push(d)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,s){const{radius:n,extent:r,reduce:i,minPoints:a}=this.options,l=n/(r*Math.pow(2,s)),o=t.data,h=[],c=this.stride;for(let u=0;u<o.length;u+=c){if(o[u+Qe]<=s)continue;o[u+Qe]=s;const m=o[u],d=o[u+1],g=t.within(o[u],o[u+1],l),k=o[u+He];let v=k;for(const D of g){const M=D*c;o[M+Qe]>s&&(v+=o[M+He])}if(v>k&&v>=a){let D=m*k,M=d*k,N,X=-1;const G=((u/c|0)<<5)+(s+1)+this.points.length;for(const de of g){const q=de*c;if(o[q+Qe]<=s)continue;o[q+Qe]=s;const le=o[q+He];D+=o[q]*le,M+=o[q+1]*le,o[q+xs]=G,i&&(N||(N=this._map(o,u,!0),X=this.clusterProps.length,this.clusterProps.push(N)),i(N,this._map(o,q)))}o[u+xs]=G,h.push(D/v,M/v,1/0,G,-1,v),i&&h.push(X)}else{for(let D=0;D<c;D++)h.push(o[u+D]);if(v>1)for(const D of g){const M=D*c;if(!(o[M+Qe]<=s)){o[M+Qe]=s;for(let N=0;N<c;N++)h.push(o[M+N])}}}}return h}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,s,n){if(t[s+He]>1){const a=this.clusterProps[t[s+Kr]];return n?Object.assign({},a):a}const r=this.points[t[s+Ve]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function Wn(e,t,s){return{type:"Feature",id:e[t+Ve],properties:Qr(e,t,s),geometry:{type:"Point",coordinates:[Fd(e[t]),Ud(e[t+1])]}}}function Qr(e,t,s){const n=e[t+He],r=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,i=e[t+Kr],a=i===-1?{}:Object.assign({},s[i]);return Object.assign(a,{cluster:!0,cluster_id:e[t+Ve],point_count:n,point_count_abbreviated:r})}function jt(e){return e/360+.5}function Vt(e){const t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function Fd(e){return(e-.5)*360}function Ud(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zd(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s}class ft{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,s){this.isAdvancedMarker(t)?t.map=s:t.setMap(s)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Is{constructor({markers:t,position:s}){this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const s of this.markers)t.extend(ft.getPosition(s));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>ft.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(ft.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Hd{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return jd(t)}}const jd=e=>e.map(s=>new Is({position:ft.getPosition(s),markers:[s]}));class Vd extends Hd{constructor(t){var{maxZoom:s,radius:n=60}=t,r=zd(t,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new $d(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(t){let s=!1;const n={zoom:t.map.getZoom()};if(!An(t.markers,this.markers)){s=!0,this.markers=[...t.markers];const r=this.markers.map(i=>{const a=ft.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(r)}return s||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(s=!An(this.state,n)),this.state=n,s&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:s}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(s=>this.transformCluster(s))}transformCluster({geometry:{coordinates:[t,s]},properties:n}){if(n.cluster)return new Is({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:t}});const r=n.marker;return new Is({markers:[r],position:ft.getPosition(r)})}}var Rn;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Rn||(Rn={}));const Bd=[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}],Zd=e=>{const t=e.latLng,s=t.lat(),n=t.lng();return{lat:s,lng:n}},Gd={key:1,class:"loadingFailedWrap"},qd={id:"infoWindow"},Jd={class:"infoWindowWrap"},Kd={class:"title"},Qd=f("p",null,"相簿名稱 : ",-1),Xd={class:"main"},eh=f("p",null,"相簿說明 : ",-1),th=f("div",{class:"infoWindowBtnWrap"},[f("button",{class:"more"},"更多詳細")],-1),sh={id:"newInfoWindow"},nh={class:"infoWindowWrap"},rh={class:"title"},ih=f("p",null,"X 軸 : ",-1),ah={class:"main"},oh=f("p",null,"Y 軸 : ",-1),lh={key:0,class:"infoWindowBtnWrap"},uh={class:"newAlbum"},ch={class:"getCoordinates"},dh=V({__name:"OpMap",props:{dataList:{},data:{},editAlbum:{},switchDataBtn:{}},emits:["updateNewAlbum","updateSwitchBtn","updateNowMapItem"],setup(e,{expose:t,emit:s}){const n=Hn(),{loginStatus:r}=jn(n),i=$({});let a={},l={};const o=new Vd({radius:30,maxZoom:16,minPoints:2}),h=[],c=[],u=$({}),m=$({lat:null,lng:null}),d={north:25.5,south:21.5,west:118,east:123},g=$(""),k=$(""),v=e,D=$(JSON.parse(JSON.stringify(v.data))),M=s;ce(()=>v.data,()=>{D.value=JSON.parse(JSON.stringify(v.data))},{deep:!0}),ce(v.dataList,()=>{Pe()},{deep:!0}),ce(()=>v.editAlbum,()=>{var L;v.editAlbum.item.id!==k.value&&(N((L=i.value)==null?void 0:L.ready),k.value=v.editAlbum.item.id)},{deep:!0}),ce(()=>{var L;return(L=i.value)==null?void 0:L.ready},L=>{var I,J;L&&(a=(I=i==null?void 0:i.value)==null?void 0:I.map,l=(J=i==null?void 0:i.value)==null?void 0:J.api,l.event.addListenerOnce(a,"idle",()=>{Pe(),N(L),a.addListener("tilesloaded",()=>{}),a.addListener("click",()=>{de()})}))});const N=L=>{if(L!==void 0&&v.dataList.length>0){const I=v.dataList.findIndex(J=>J.id===v.editAlbum.item.id);I!==-1&&le(v.dataList[I])}};Lt(()=>{X()});const X=async()=>{const L=sessionStorage.getItem("userName");try{const I=await it.get(`/api/GoogleSheet/GoogleKey?Username=${L}`);I.status===200&&I.data.data.length>0&&(g.value=I.data.data[0].key)}catch(I){console.log(I)}},G=async L=>{await pn();const I=L.latLng,J=I.lat(),be=I.lng();m.value.lat=J,m.value.lng=be,setTimeout(()=>{var ve;let ee=new l.InfoWindow({content:(ve=document.getElementById("newInfoWindow"))==null?void 0:ve.innerHTML});ee.setPosition({lat:J,lng:be}),ee.setOptions({pixelOffset:new l.Size(0,-50)}),h.length>0&&de(),c.length>0&&q(),c.push(ee),ee.open(a)},10),setTimeout(()=>{const ee=document.querySelector(".infoWindowWrap .getCoordinates");ee==null||ee.addEventListener("click",function(){Wt(L)});const ve=document.querySelector(".infoWindowWrap .newAlbum");ve==null||ve.addEventListener("click",function(){M("updateSwitchBtn","new")})},50)},de=()=>{const L=h.pop();L==null||L.close()},q=()=>{const L=c.pop();L==null||L.close()},le=async L=>{u.value=L,await pn(),setTimeout(()=>{var J;let I=new l.InfoWindow({content:(J=document.getElementById("infoWindow"))==null?void 0:J.innerHTML});I.setPosition({lat:Number(L.lat),lng:Number(L.lng)}),I.setOptions({pixelOffset:new l.Size(0,-50)}),h.length>0&&de(),c.length>0&&q(),h.push(I),I.open(a)},10),setTimeout(()=>{const I=document.querySelector(".infoWindowWrap .more");I==null||I.addEventListener("click",function(){M("updateNowMapItem",`${u.value.type}_${u.value.id}`)})},10)},Pe=()=>{setTimeout(()=>{let L;if(v.dataList.length>0){const I=v.dataList[0];L=new l.LatLngBounds(new l.LatLng(Number(I.lat),Number(I.lng)),new l.LatLng(Number(I.lat),Number(I.lng))),v.dataList.forEach(J=>{try{let be={lat:Number(J.lat),lng:Number(J.lng)};L.extend(be)}catch(be){console.log(be)}})}else l&&(L=new l.LatLngBounds(new l.LatLng(d.south,d.west),new l.LatLng(d.north,d.east)));a.fitBounds(L)},200)},Wt=L=>{if(v.switchDataBtn==="new"){const{lng:I,lat:J}=Zd(L);D.value.item.lng=String(I),D.value.item.lat=String(J),D.value.item.updateStatus=!1,M("updateNewAlbum",D.value)}};return t({clickMarker:le,closeNewInfoWindow:q}),(L,I)=>{const J=oe("n-icon"),be=oe("n-empty");return S(),T(Ge,null,[g.value!==""?(S(),Ne(C(cd),{key:0,ref_key:"mapRef",ref:i,styles:C(Bd),"api-key":g.value,zoom:15,onClick:G,onRightclick:G},{default:De(()=>[Y(C(Ld),{options:{algorithm:C(o)}},{default:De(()=>[(S(!0),T(Ge,null,Es(v.dataList,ee=>(S(),T("div",{key:ee.id},[Y(C(Ed),{options:{position:{lat:Number(ee.lat),lng:Number(ee.lng)}},onClick:ci(ve=>le(ee),["stop"])},{default:De(()=>[f("div",null,[ee.type==="0"?(S(),Ne(J,{key:0,class:"type0",component:C(Gn),size:"35"},null,8,["component"])):ee.type==="1"?(S(),Ne(J,{key:1,class:"type1",component:C(Bn),size:"35"},null,8,["component"])):ee.type==="2"?(S(),Ne(J,{key:2,class:"type2",component:C(qn),size:"35"},null,8,["component"])):ee.type==="3"?(S(),Ne(J,{key:3,class:"type3",component:C(Zn),size:"35"},null,8,["component"])):ae("",!0)])]),_:2},1032,["options","onClick"])]))),128))]),_:1},8,["options"])]),_:1},8,["styles","api-key"])):(S(),T("div",Gd,[Y(be,{description:"無 Google Map API Key 無法載入"})])),Rt(f("div",qd,[f("div",Jd,[f("div",Kd,[f("div",null,[Qd,f("p",null,fe(u.value.title),1)])]),f("div",Xd,[f("div",null,[eh,f("p",null,fe(u.value.depiction),1)]),th])])],512),[[$t,!1]]),Rt(f("div",sh,[f("div",nh,[f("div",rh,[f("div",null,[ih,f("p",null,fe(m.value.lng),1)])]),f("div",ah,[f("div",null,[oh,f("p",null,fe(m.value.lat),1)]),C(r)?(S(),T("div",lh,[Rt(f("button",uh," 建立相簿 ",512),[[$t,v.switchDataBtn!=="new"]]),Rt(f("button",ch," 取得座標 ",512),[[$t,v.switchDataBtn==="new"]])])):ae("",!0)])])],512),[[$t,!1]])],64)}}}),hh={class:"selectDataWrap"},fh=V({__name:"SearchAlbumPage",props:{showAlbumStatus:{type:Boolean},menuOptions:{},data:{}},emits:["updateAlbumStatus","updateNowMapItem"],setup(e,{emit:t}){const s=$([]),n=e,r=$(n.data);ce(()=>n.data,()=>{r.value=n.data},{deep:!0}),ce(r,()=>{i(),l("updateNowMapItem",r.value)}),Lt(()=>{i()});const i=()=>{if(!r.value.includes("other")&&!r.value.includes("all")){const o=r.value.split("_")[0];[`${o}_all`,`${o}_all_other`].forEach(c=>{s.value.includes(c)||s.value.push(c)})}else r.value.includes("all")&&[`${r.value.split("_")[0]}_all`].forEach(c=>{s.value.includes(c)||s.value.push(c)})},a=o=>{s.value=o},l=t;return(o,h)=>{const c=oe("n-radio"),u=oe("n-menu");return S(),T(Ge,null,[f("div",hh,[Y(c,{checked:!n.showAlbumStatus,value:"single",name:"single",onChange:h[0]||(h[0]=m=>l("updateAlbumStatus",!1))},{default:De(()=>[bs(" 各別顯示 ")]),_:1},8,["checked"]),Y(c,{checked:n.showAlbumStatus,value:"all",name:"all",onChange:h[1]||(h[1]=m=>l("updateAlbumStatus",!0))},{default:De(()=>[bs(" 顯示全部 ")]),_:1},8,["checked"])]),Y(u,{value:r.value,"onUpdate:value":h[2]||(h[2]=m=>r.value=m),"root-indent":36,indent:12,options:n.menuOptions,"expanded-keys":s.value,"onUpdate:expandedKeys":a},null,8,["value","options","expanded-keys"])],64)}}}),mh=Un(fh,[["__scopeId","data-v-09c58f02"]]),Xr=(e,t)=>{if(e==null||t===null||t===void 0)return e===t;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(let r of s)if(!Xr(e[r],t[r]))return!1;return!0},ph={class:"mapWrap contentWrap"},gh={class:"googleMapWrap"},vh={class:"dataInfoWrap"},_h={class:"titleWrap"},yh={class:"textWrap"},wh=f("span",null,"相簿詳細",-1),kh={key:0,class:"dataBtnWrap"},Sh=f("div",null,"刪除",-1),Mh=f("div",null,"編輯",-1),xh=f("div",null,"取消",-1),bh=f("div",null,"儲存",-1),Oh={class:"albumMainWrap"},Dh={class:"infoWrap"},Th={class:"itemWrap name"},Ch={class:"iconTitleWrap"},Yh=f("div",null,"名稱",-1),Ph={class:"mainWrap"},Lh={key:1},Ah={class:"itemWrap time"},Nh={class:"iconTitleWrap"},Ih=f("div",null,"建立時間",-1),Eh={class:"mainWrap"},Wh={class:"itemWrap place"},Rh={class:"iconTitleWrap"},$h=f("div",null,"地點",-1),Fh={class:"mainWrap"},Uh=f("p",null,"X 軸 : ",-1),zh=f("p",null,"Y 軸 : ",-1),Hh={class:"itemWrap type"},jh={class:"iconTitleWrap"},Vh=f("div",null,"類型",-1),Bh={class:"mainWrap"},Zh={key:1},Gh={class:"itemWrap depiction"},qh={class:"iconTitleWrap"},Jh=f("div",null,"說明",-1),Kh={class:"mainWrap"},Qh={key:1},Xh={class:"itemWrap remark"},ef={class:"iconTitleWrap"},tf=f("div",null,"備註",-1),sf={class:"mainWrap"},nf={key:1},rf={class:"imgWrap"},af={key:0,class:"imgsSrcWrap"},of=["onClick"],lf={key:0,class:"uploadImgWrap"},uf={enctype:"multipart/form-data"},cf={class:"mapDataWrap"},df={class:"titileWrap"},hf=f("div",null,"查詢",-1),ff=f("div",null,"建立",-1),mf={class:"mainWrap"},pf={key:0,class:"searchDataWrap"},gf={key:1,class:"newDataWrap"},yf=V({__name:"MapView",setup(e){const t=Hn(),{loginStatus:s}=jn(t),n=$n(),r=Fn(),i=$(null),a=$("search"),l=$(""),o=$(!0),h=$("最新一筆"),c=$([]),u=$([]),m=$({item:{newDate:"",locationStaus:"map",updateStatus:!1,title:"",depiction:"",remark:"",lat:"請輸入內容",lng:"請輸入內容",type:"",imgs:""},imgsSrc:[],uploadNum:0,uploadStatus:!1}),d=$({item:{},status:!1,imgsSrc:[],uploadNum:0,uploadStatus:!1}),g=b=>()=>gn(se,null,{default:()=>gn(b)}),k=$([{label:"請選擇類型",value:"",disabled:!0},{label:"登山",value:"0"},{label:"美食",value:"1"},{label:"事件",value:"2"},{label:"其他",value:"3"}]),v=$([{label:"登山",key:"0_all",icon:g(Gn),disabled:!0,children:[]},{label:"美食",key:"1_all",icon:g(Bn),disabled:!0,children:[]},{label:"事件",key:"2_all",icon:g(qn),disabled:!0,children:[]},{label:"其他",key:"3_all",icon:g(Zn),disabled:!0,children:[]}]),D=b=>{if(o.value=b,u.value=JSON.parse(JSON.stringify(c.value)),b)l.value="";else{const _=JSON.parse(JSON.stringify(c.value));if(!l.value.includes("all")){for(const x of v.value)if(!x.disabled&&typeof x.key=="string"){l.value=x.key;break}}const E=_.filter(x=>x.type===l.value.split("_")[0]);u.value=E}};Lt(()=>{M()});const M=async()=>{try{const b=await it.get("/api/GoogleSheet/album?Year=");c.value=[],b.status===200&&(c.value=b.data.data,l.value===""&&c.value.length>0&&(l.value=`${c.value[c.value.length-1].type}_${c.value[c.value.length-1].id}`),v.value.forEach(_=>{_.children=[],_.disabled=!0}),c.value.forEach(_=>{v.value.filter(x=>x.key===`${_.type}_all`).forEach(x=>{if(x.children!==void 0){x.children.length===0?(x.children.push({label:"顯示全部",key:x.key}),x.children.push({label:"各別顯示",key:`${x.key}_other`,children:[]}),x.disabled=!0):x.disabled=!1;const W=x.children.find(K=>K.label==="各別顯示");W&&W.children!==void 0&&Array.isArray(W.children)&&(W.children.push({label:_.title,key:`${_.type}_${_.id}`}),x.disabled=!1)}})}))}catch(b){console.log(b)}},N=b=>{const _=document.querySelector(".infoWindowWrap .newAlbum"),E=document.querySelector(".infoWindowWrap .getCoordinates");if(b==="search"){const{title:x,depiction:W,remark:K,lat:_e,lng:F,type:te,imgs:ye}=m.value.item;x!==""||W!==""||K||_e!=="請輸入內容"||F!=="請輸入內容"||te!==""||ye!==""?r.warning({title:"警告",content:"不儲存送出離開 ?",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{a.value="search",fn(),_.style.display="block",E.style.display="none",D(!0)}}):(a.value="search",_.style.display="block",E.style.display="none")}else d.value.status?r.warning({title:"警告",content:"正在編輯中，請問要取消編輯，改為建立資料嗎 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,a.value="new",m.value.item.newDate=y().format("YYYY-MM-DD HH:mm:ss"),I(),n.success("取消編輯")}}):(a.value="new",m.value.item.newDate=y().format("YYYY-MM-DD HH:mm:ss")),_.style.display="none",E.style.display="block"};ce(c,()=>{if(o.value)u.value=JSON.parse(JSON.stringify(c.value));else{const _=JSON.parse(JSON.stringify(c.value)).filter(E=>E.type===l.value.split("_")[0]);u.value=_}}),ce(l,(b,_)=>{let E=!0,x,W;const K=l.value;if(K===""&&c.value.length>0){l.value=`${c.value[c.value.length-1].type}_${c.value[c.value.length-1].id}`;return}if(K.includes("all")){o.value&&(o.value=!1),x=G.value("all",K.split("_all")[0]);const F=JSON.parse(JSON.stringify(c.value)).filter(te=>te.type===l.value.split("_")[0]);u.value=F}else K!==""&&(x=G.value("",K.split("_")[0],K.split("_")[1]));_===void 0||_===""?W=G.value("",d.value.item.type,d.value.item.id):_.includes("all")?W=G.value("all",_.split("_all")[0]):W=G.value("",_.split("_")[0],_.split("_")[1]),d.value.status&&(E=Xr(d.value.item,W)),E?(d.value.status&&n.success("取消編輯"),d.value.status=!1,X(x,K)):r.warning({title:"警告",content:"不儲存編輯離開 ?",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,X(x,K),n.success("取消編輯")}})});const X=(b,_)=>{if(b!==void 0){d.value.item=JSON.parse(JSON.stringify(b));const E=d.value.item.imgs.split(",");d.value.imgsSrc=[],d.value.imgsSrc=E,d.value.uploadNum=E.length,_===""?h.value="最新一筆":o.value?_.includes(c.value[c.value.length-1].id)?h.value="最新一筆":h.value=`${ve.value} - ${_.includes("all")?"最新一筆":"各別顯示"}`:h.value=`${ve.value} - ${_.includes("all")?"最新一筆":"各別顯示"}`}else n.warning("無資料"),d.value.item={},d.value.imgsSrc=[],d.value.uploadNum=0},G=bt(()=>(b,_,E)=>{if(b==="all"){const x=c.value.filter(W=>W.type===_);return x.length>0?x[x.length-1]:void 0}else{const x=c.value.filter(W=>W.id===E);return x.length>0?x[0]:void 0}}),de=(b,_,E,x,W)=>{const K=document.querySelector(`#${_}`),_e=b.target.files[0],F=new FileReader;F.readAsDataURL(_e),F.onload=async function(te){Pe(W,"status");let ye="";E[x]="",te.target.result.toString().length/1024>500?q(te.target.result.toString(),500,async function(ti){ye=ti,E[x]=await le(ye,W),Pe(W,"increase")}):(ye=te.target.result.toString(),E[x]=await le(ye,W),Pe(W,"increase")),K.value=""}},q=(b,_,E)=>{let x=new Image;x.src=b,x.onload=function(){let W=document.createElement("canvas"),K=W.getContext("2d"),_e=x.width,F=x.height,te=1;W.width=_e*te,W.height=F*te,K.drawImage(x,0,0,_e*te,F*te);let ye=W.toDataURL("image/png",.9);for(;ye.length>_*1024;)te*=.9,W.width=_e*te,W.height=F*te,K.drawImage(x,0,0,_e*te,F*te),ye=W.toDataURL("image/png",.9);E(ye)}},le=async(b,_)=>{const E=new FormData;E.append("base64string",b);try{const x=await it.post("/api/Imgur",E);return Pe(_,"status"),x.data.split(".jpeg")[0]}catch(x){Pe(_,"status"),n.error("上傳失敗"),console.log(x)}},Pe=(b,_)=>{b==="new"?_==="status"?m.value.uploadStatus?m.value.uploadStatus=!1:m.value.uploadStatus=!0:_==="increase"?m.value.uploadNum+=1:m.value.uploadNum-=1:_==="status"?d.value.uploadStatus?d.value.uploadStatus=!1:d.value.uploadStatus=!0:_==="increase"?d.value.uploadNum+=1:d.value.uploadNum+-1},Wt=(b,_,E)=>{_.splice(E,1),Pe(b,"decrease")},L=()=>{r.warning({title:"警告",content:"取消編輯 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{d.value.status=!1,I(),n.success("取消編輯")}})},I=()=>{let b;l.value.includes("all")?b=G.value("all",d.value.item.type):b=G.value("",d.value.item.type,d.value.item.id),X(b,l.value)},J=()=>{d.value.status=!0},be=async()=>{var _,E;if(d.value.item.imgs=d.value.imgsSrc.filter(x=>x!=="").map(x=>x).join(","),d.value.item.title===""){n.warning("請輸入相簿名稱");return}if(d.value.item.type===""){n.warning("請選擇類型");return}if(d.value.item.depiction===""){n.warning("請輸入相簿敘述");return}if(d.value.item.remark===""){n.warning("請輸入備註");return}if(d.value.item.imgs.length===0){n.warning("請上傳照片");return}if(d.value.item.lat===""||d.value.item.lng===""){n.warning("請選擇地點");return}const b=new FormData;b.append("Id",String(d.value.item.id)),b.append("Name",d.value.item.title),b.append("Time",String(d.value.item.time)),b.append("Lat",String(d.value.item.lat)),b.append("Lng",String(d.value.item.lng)),b.append("Type",String(d.value.item.type)),b.append("Depiction",d.value.item.depiction),b.append("Remark",d.value.item.remark),b.append("Imgs",String(d.value.item.imgs));try{if((await it.put("/api/GoogleSheet/album",b)).status===200){n.success("修改成功"),d.value.status=!1,await M(),l.value=`${d.value.item.type}_${d.value.item.id}`,(_=i.value)==null||_.closeNewInfoWindow();const W=c.value.findIndex(K=>K.id===d.value.item.id);W!==-1&&((E=i.value)==null||E.clickMarker(c.value[W]))}}catch(x){console.log(x),n.error("修改失敗")}},ee=b=>{b!==void 0&&r.warning({title:"警告",content:"請問刪除此相簿嗎 ? ",positiveText:"確定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{try{(await it.delete(`/api/GoogleSheet/album?albumId=${b}`)).status===200&&(n.success("刪除成功"),d.value.status&&(d.value.status=!1),await M(),l.value="")}catch(_){console.log(_),n.error("刪除失敗")}}})},ve=bt(()=>{const b=k.value.find(_=>_.value===d.value.item.type);return b?b.label:d.value.item.type}),fn=()=>{m.value.item={newDate:y().format("YYYY-MM-DD HH:mm:ss"),locationStaus:"map",title:"",depiction:"",remark:"",lat:"請輸入內容",lng:"請輸入內容",type:"",imgs:""},m.value.imgsSrc=[],m.value.uploadNum=0},mn=b=>{m.value=b},ei=async()=>{var b,_;await M(),l.value="",(b=i.value)==null||b.closeNewInfoWindow(),(_=i.value)==null||_.clickMarker(c.value[c.value.length-1])};return(b,_)=>{const E=oe("n-input"),x=oe("n-select"),W=oe("n-space"),K=oe("n-image"),_e=oe("n-spin");return S(),T("div",ph,[f("div",gh,[Y(dh,{ref_key:"mapRef",ref:i,dataList:u.value,data:m.value,switchDataBtn:a.value,editAlbum:d.value,onUpdateSwitchBtn:N,onUpdateNowMapItem:_[0]||(_[0]=F=>l.value=F),onUpdateNewAlbum:mn},null,8,["dataList","data","switchDataBtn","editAlbum"]),f("div",vh,[f("div",{class:ms(["dataMainWrap",C(s)?"loginStatus":""])},[f("div",_h,[f("div",yh,[wh,f("p",null,fe(h.value),1)]),C(s)&&Object.keys(d.value.item).length>0?(S(),T("div",kh,[C(s)?(S(),T("div",{key:0,title:"刪除",class:"delete",onClick:_[1]||(_[1]=F=>ee(d.value.item.id))},[Y(C(se),{component:C(Ti),size:"30"},null,8,["component"]),Sh])):ae("",!0),!d.value.status&&a.value!=="new"?(S(),T("div",{key:1,title:"編輯",class:"edit",onClick:J},[Y(C(se),{component:C(xi),size:"30"},null,8,["component"]),Mh])):ae("",!0),d.value.status?(S(),T("div",{key:2,title:"取消",class:"cancel",onClick:L},[Y(C(se),{component:C(Ei),size:"30"},null,8,["component"]),xh])):ae("",!0),d.value.status?(S(),T("div",{key:3,title:"儲存",class:"save",onClick:be},[Y(C(se),{component:C(Vn),size:"30"},null,8,["component"]),bh])):ae("",!0)])):ae("",!0)]),f("div",Oh,[f("div",Dh,[f("div",Th,[f("div",Ch,[f("div",null,[Y(C(se),{title:"名稱",component:C(ka),size:"25"},null,8,["component"]),Yh])]),f("div",Ph,[d.value.status?(S(),Ne(E,{key:0,type:"text",value:d.value.item.title,"onUpdate:value":_[2]||(_[2]=F=>d.value.item.title=F),placeholder:"請輸入內容"},null,8,["value"])):(S(),T("p",Lh,fe(d.value.item.title),1))])]),f("div",Ah,[f("div",Nh,[f("div",null,[Y(C(se),{title:"建立時間",component:C(Xi),size:"25"},null,8,["component"]),Ih])]),f("div",Eh,[f("p",null,fe(d.value.item.time),1)])]),f("div",Wh,[f("div",Rh,[f("div",null,[Y(C(se),{title:"地點",component:C(ba),size:"25"},null,8,["component"]),$h])]),f("div",Fh,[f("div",null,[Uh,f("p",null,fe(d.value.item.lng),1)]),f("div",null,[zh,f("p",null,fe(d.value.item.lat),1)])])]),f("div",Hh,[f("div",jh,[f("div",null,[Y(C(se),{title:"類型",component:C(oa),size:"25"},null,8,["component"]),Vh])]),f("div",Bh,[d.value.status?(S(),Ne(W,{key:0,vertical:""},{default:De(()=>[Y(x,{value:d.value.item.type,"onUpdate:value":_[3]||(_[3]=F=>d.value.item.type=F),options:k.value,placeholder:"請選擇類型"},null,8,["value","options"])]),_:1})):(S(),T("p",Zh,fe(ve.value),1))])]),f("div",Gh,[f("div",qh,[f("div",null,[Y(C(se),{title:"說明",component:C(Bi),size:"25"},null,8,["component"]),Jh])]),f("div",Kh,[d.value.status?(S(),Ne(E,{key:0,class:"textareaStyle",type:"textarea",value:d.value.item.depiction,"onUpdate:value":_[4]||(_[4]=F=>d.value.item.depiction=F),placeholder:"請輸入內容"},null,8,["value"])):(S(),T("p",Qh,fe(d.value.item.depiction),1))])]),f("div",Xh,[f("div",ef,[f("div",null,[Y(C(se),{title:"備註",component:C(Li),size:"25"},null,8,["component"]),tf])]),f("div",sf,[d.value.status?(S(),Ne(E,{key:0,class:"textareaStyle",type:"textarea",value:d.value.item.remark,"onUpdate:value":_[5]||(_[5]=F=>d.value.item.remark=F),placeholder:"請輸入內容"},null,8,["value"])):(S(),T("p",nf,fe(d.value.item.remark),1))])])]),f("div",rf,[Y(_e,{size:"medium",show:d.value.uploadStatus},{default:De(()=>[(S(!0),T(Ge,null,Es(d.value.imgsSrc,(F,te)=>(S(),T(Ge,{key:F},[F!==""?(S(),T("div",af,[d.value.status?(S(),T("div",{key:0,class:"deleteIconWrap",onClick:ye=>Wt("edit",d.value.imgsSrc,te)},[Y(C(se),{component:C(Jt),size:"18"},null,8,["component"])],8,of)):ae("",!0),Y(K,{src:F},null,8,["src"])])):ae("",!0)],64))),128)),d.value.status?(S(),T("div",lf,[f("label",uf,[Y(C(se),{component:C(Jt),size:"25"},null,8,["component"]),f("input",{type:"file",max:"1",id:"edit_img_uploader",accept:"image/*",onChange:_[6]||(_[6]=F=>de(F,"edit_img_uploader",d.value.imgsSrc,d.value.uploadNum,"edit"))},null,32)])])):ae("",!0)]),_:1},8,["show"])])])],2)])]),f("div",cf,[f("div",df,[C(s)?(S(),T("div",{key:0,title:"查詢",class:ms(a.value==="search"?"active":""),onClick:_[7]||(_[7]=F=>N("search"))},[Y(C(se),{component:C(pa),size:"30"},null,8,["component"]),hf],2)):ae("",!0),C(s)?(S(),T("div",{key:1,class:ms(a.value==="search"?"":"active"),onClick:_[8]||(_[8]=F=>N("new")),title:"建立"},[Y(C(se),{component:C(na),size:"25"},null,8,["component"]),ff],2)):ae("",!0)]),f("div",mf,[a.value==="search"?(S(),T("section",pf,[Y(mh,{showAlbumStatus:o.value,menuOptions:v.value,data:l.value,onUpdateAlbumStatus:D,onUpdateNowMapItem:_[9]||(_[9]=F=>l.value=F)},null,8,["showAlbumStatus","menuOptions","data"])])):(S(),T("section",gf,[Y(ed,{options:k.value,data:m.value,onDeleteImage:Wt,onInitNewAlbum:fn,onUpdateNewAlbum:mn,onAddedSuccess:ei,onUploadImages:de},null,8,["options","data"])]))])])])}}});export{yf as default};
